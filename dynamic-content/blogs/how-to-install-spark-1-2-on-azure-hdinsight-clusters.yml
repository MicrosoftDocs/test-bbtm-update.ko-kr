### YamlMime:Yaml
ms.openlocfilehash: 1c7f5c97524ebaea0f3c207ac4aa8b7a9f4f03e3
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139898965"
Slug: how-to-install-spark-1-2-on-azure-hdinsight-clusters
Title: Azure HDInsight 클러스터에 Spark 1.2를 설치하는 방법
Summary: '오늘 Azure HDInsight 클러스터에서 Apache Spark 지원의 새로 고침을 발표하게 되어 기쁘게 생각합니다. '
Content: >-
  <p><strong>2016년 5월 2일 현재 업데이트:</strong> Azure HDInsight는 이제 기본 제공 Apache Spark를 지원합니다. <a href="https://azure.microsoft.com/en-us/documentation/articles/hdinsight-apache-spark-overview/">자세한 내용은 여기</a>를 참조하세요.</p>


  <hr>

  <p>오늘 Azure HDInsight 클러스터에서 Apache Spark 지원의 새로 고침을 발표하게 되어 기쁘게 생각합니다. Spark는 사용자 지정 스크립트 작업을&nbsp;&nbsp; 통해 HDInsight에서 사용할 수 있으며 Spark 1.2의 가장 최신 버전을 지원&nbsp;하도록 업데이트하고 있습니다. 이전 버전 지원 버전 1.0. 또한 이 업데이트는 패키지에 Spark SQL 지원을 추가합니다. Spark 1.2 스크립트 작업에는 최신 버전의 HDInsight 클러스터 3.2가 필요합니다. 이전 HDInsight 클러스터는 Spark 스크립트 동작으로 사용자 지정될 때 이전 버전의 Spark 1.0을 가져옵니다. Azure Portal을 사용하여 Spark 클러스터를 만들려면 다음 단계를 수행합니다.</p>


  <ul>
   <li>사용자 지정 만들기 옵션을 사용하여 새 HDinsight Hadoop 클러스터(다른 클러스터 유형도 지원됨)를 선택했습니다.</li>
   <li>클러스터의 버전 3.2를 선택합니다.</li>
   <li>&nbsp;마법사 단계&nbsp;의 가장 큰 부분을 완료하여 클러스터 이름(예: its&rsquo; Storage 계정 및 기타 구성)을 지정합니다.</li>
   <li>구성 마법사의 마지막 단계에서 TheSpark 스크립트 동작을&nbsp; 추가합니다&nbsp;<a href="https://hdiconfigactions.blob.core.windows.net/sparkconfigactionv03/spark-installer-v03.ps1" title="">https://hdiconfigactions.blob.core.windows.net/sparkconfigactionv03/spark-installer-v03.ps1</a>.</li>
  </ul>


  <p><a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2015/03/12/hdi-spark-script-action.png"><img alt="hdi-spark-script-action" class="alignnone size-medium wp-image-264271" height="369" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/hdi-spark-script-action-615x369.png" width="615"></a></p>


  <ul>
   <li>&nbsp;확인 표시를 클릭하여 클러스터를 만듭니&nbsp;다. 작업이 완료되면 HDInsight 클러스터에 Spark 1.2가 설치됩니다.</li>
  </ul>


  <h1>Spark 셸에서 Spark SQL 쿼리 실행</h1>


  <p>새 버전의 Spark 패키지에는 Spark SQL 포함되어 있습니다. Spark SQL 사용하면 Spark를 사용하여 SQL, HiveQL 또는 Scala로 표현된 관계형 쿼리를 실행할 수 있습니다. 이 기능을 사용하여 Spark 셸에서 쿼리를 실행할&nbsp; 수 있습니다.</p>


  <ol>
   <li>클러스터에 대한 원격 데스크톱 연결을 엽니다. 지침은 <a href="https://azure.microsoft.com/documentation/articles/hdinsight-administer-use-management-portal/#rdp">RDP를 사용하여 HDInsight 클러스터에 연결</a>을 참조하세요.</li>
   <li>바탕 화면 바로 가기를 사용하여&nbsp; Hadoop 명령줄을 열고 Spark가 설치된 위치인 C:\apps\dist\spark-1.2.0으로 이동합니다.</li>
   <li>다음 명령을 실행하여 Spark 셸을 시작합니다.</li>
  </ol>


  <blockquote>&nbsp;<span class="pun">.</span> <span class="pln">\bin</span><span class="kwd"></span><span class="pln">\</span><span class="pln">sparkshell &minus;&minus;</span><span class="pun">-</span><span class="pln">마스터 yarn</span></blockquote>


  <ol start="4">
   <li>Scala 프롬프트에서 Hive 컨텍스트를 설정합니다. Spark를 사용하여 Hive 쿼리를 사용하는 데 필요합니다.</li>
  </ol>


  <blockquote>val hiveContext = new org.apache.spark.sql.hive.HiveContext(sc)</blockquote>


  <ol start="5">
   <li>Hive 쿼리를 실행하고 출력을 콘솔에 출력합니다. 쿼리는 모든 HDInsight 클러스터에 있는 샘플 Hive 테이블에서 데이터를 검색합니다.&nbsp; 특정 메이크에 대한 쿼리&nbsp;를 수행하고 검색된 레코드 수를 20개로 제한합니다. 삼중 따옴표 isa&nbsp; Scala 구문&nbsp;은 문자열에 포함된 따옴표를 허용합니다.</li>
  </ol>


  <blockquote>hiveContext.sql(&quot;&quot;&quot;SELECT * FROM hivesampletable WHERE devicemake LIKE &quot;HTC%&quot; LIMIT 20&quot;&quot;&quot;).collect().foreach(println)</blockquote>


  <ol start="6">
   <li>다음과 유사한 출력이 표시됩니다.</li>
  </ol>


  <p><a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2015/03/12/hdi-scala-interactive.png"><img alt="hdi-scala-interactive" class="alignnone size-medium wp-image-264341" height="307" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/hdi-scala-interactive-636x307.png" width="636"></a> 설치 단계 및 Spark 사용에 대한 자세한 내용은 아래 설명서 링크에서 확인할 수 있습니다.&nbsp; 스크립트 동작을 사용하여 R, Solr 및 Giraph를 설치하고 직접 만들 수도 있습니다.</p>


  <ul>
   <li><a href="https://azure.microsoft.com/en-us/documentation/articles/hdinsight-hadoop-spark-install/">HDInsight 클러스터에 Spark를 설치합니다</a>.</li>
   <li><a href="https://azure.microsoft.com/en-us/documentation/articles/hdinsight-hadoop-r-scripts/">HDInsight 클러스터에 R 설치</a>.</li>
   <li><a href="https://azure.microsoft.com/en-us/documentation/articles/hdinsight-hadoop-solr-install">HDInsight 클러스터에 Solr 설치 및 사용</a></li>
   <li><a href="https://azure.microsoft.com/en-us/documentation/articles/hdinsight-hadoop-giraph-install">HDInsight 클러스터에서 Giraph 설치 및 사용</a></li>
   <li><a href="https://azure.microsoft.com/en-us/documentation/articles/hdinsight-hadoop-script-actions/">사용자 고유의 스크립트 동작을 만듭니</a>다.</li>
  </ul>

### YamlMime:Yaml
ms.openlocfilehash: 65f92b334f1b327d13a1e3166ba82a798d8987de
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139911828"
Slug: internal-load-balancing
Title: 내부 부하 분산
Summary: Azure에서 '내부 부하 분산'(ILB)에 대한 지원을 발표하게 되어 매우 기쁩니다. ILB(내부 부하 분산)를 사용하면 개인 IP 주소 뒤에서 고가용성 서비스를 실행할 수 있습니다.
Content: "Azure에서 '내부 부하 분산'(ILB)에 대한 지원을 발표하게 되어 매우 기쁩니다. ILB(내부 부하 분산)를 사용하면 클라우드 서비스 또는 VNet(Virtual Network) 내에서만 액세스할 수 있는 개인 IP 주소 뒤에서 고가용성 서비스를 실행하여 해당 엔드포인트에 대한 추가 보안을 제공할 수 있습니다. Virtual Network 내에서 사용되는 경우 ILB 엔드포인트는 온-프레미스 및 기타 상호 연결된 VNet에서도 액세스할 수 있어 몇 가지 강력한 하이브리드 시나리오를 사용할 수 있습니다.\n\nILB는 두 가지 버전으로 사용할 수 있습니다.\n<ol>\n <li>Azure의 개인 IP 주소 공간에서 부하 분산된 IP를 획득하는 클라우드 서비스 내</li>\n <li>가상 네트워크 내에서 부하 분산된 IP는 고객이 지정한 가상 서브넷 또는 정적 VNet IP 주소에서 가져옵니다.</li>\n</ol>\n<h2>주요 시나리오</h2>\nILB는 Azure에서 제공되는 현재 공용 부하 분산에 대한 보안 개선 사항입니다. 접근성을 제한하고 부하가 분산된 가상 IP 주소 간에 클라우드 서비스 또는 공용 인터넷이 필요하지 않은 Virtual Network에 대한 신뢰 경계를 만듭니다. 이렇게 하면 내부 기간 업무 애플리케이션이 Azure에서 실행되고 클라우드 내에서 또는 온-프레미스에서 액세스할 수 있습니다. 다음 섹션에서는 몇 가지 일반적인 사용 사례를 나열합니다.\n<ul>\n <li>애플리케이션 계층 및 백 엔드 데이터베이스는 공용 인터넷에 노출되지 않고 부하 분산을 통해 고가용성을 얻을 수 있도록 ILB 뒤에서 실행할 수 있습니다. 이것은 엄청난 보안 향상입니다.</li>\n</ul>\n&nbsp;\n\n<a href=\"https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/05/ILBpic3.jpg\"><img style=\"padding-top: 0px;padding-left: 0px;padding-right: 0px;border-width: 0px\" title=\"ILBpic3\" alt=\"ILBpic3\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ILBpic3_thumb.jpg\" width=\"644\" height=\"435\" border=\"0\" /></a>\n\n&nbsp;\n<ul>\n <li>ILB VIP는 보안 IP Sec 터널을 통해 온-프레미스 및 상호 연결된 VNet뿐만 아니라 전체 가상 네트워크 내에서 액세스할 수 있습니다. 이렇게 하면 아래 그림과 같이 프런트 엔드 VIP를 ILB 뒤에 배치하여 인트라넷 연결(CorpNet 전용) SharePoint 팜을 실행할 수 있습니다.</li>\n</ul>\n&nbsp;\n\n<a href=\"https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/05/ILBPic2.jpg\"><img style=\"padding-top: 0px;padding-left: 0px;padding-right: 0px;border-width: 0px\" title=\"ILBPic2\" alt=\"ILBPic2\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ILBPic2_thumb.jpg\" width=\"644\" height=\"303\" border=\"0\" /></a>\n\n&nbsp;\n<h2>사용 지침</h2>\n내부 부하 분산은 현재 미리 보기로 제공되며, 가까운 장래에 GA(일반 공급)가 될 예정입니다. ILB에 대한 자세한 설명서는 여기에서 찾을 수 있습니다.\n\n내부 부하 분산은 현재 포털을 통해 구성할 수 없으며 향후 지원될 예정입니다. 그러나 powershell cmdlet을 사용하여 구성할 수 있습니다. ILB는 지역 가상 네트워크 내의 배포와 Virtual Network 외부에 있는 새 배포에서 사용할 수 있습니다.아래 섹션에서는 두 가지 유형의 사용량을 간략하게 설명합니다.\n<h3>지역 가상 네트워크의 ILB</h3>\n<ul>\n <li>지역 가상 네트워크의 클라우드 서비스에서 만든 ILB 엔드포인트는 전체 Virtual Network뿐만 아니라 상호 연결된 VNet 및 온-프레미스 사이트 내에서 액세스할 수 있습니다.</li>\n <li>아래 코드 조각을 샘플로 사용하여 지역 가상 네트워크 'VNetUSWest' 내에 배포된 클라우드 서비스에서 내부 부하 분산 장치를 구성합니다. 지역 가상 네트워크에 대한 자세한 내용은 <a href=\"https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/\">여기</a>를 참조하세요.</li>\n <li>VNet 내에서 ILB를 사용하는 동안 VNet 주소 공간에서 서브넷 및 내부 부하 분산 장치의 IP 주소를 더욱 정확하게 지정할 수도 있습니다.</li>\n</ul>\n&nbsp;\n<pre class=\"prettyprint\"># VM Configuration\n$web1 = New-AzureVMConfig -Name \"web1\" -InstanceSize Small -ImageName &lt;imagename&gt; | Add-AzureProvisioningConfig -Windows -AdminUsername &lt;username&gt; -Password &lt;password&gt; | Set-AzureSubnet FrontEndSubnet\n\n$web2 = New-AzureVMConfig -Name \"web2\" -InstanceSize Small -ImageName &lt;imagename&gt; | Add-AzureProvisioningConfig -Windows -AdminUsername &lt;username&gt; -Password &lt;password&gt; | Set-AzureSubnet FrontEndSubnet\n\n# Create the Deployments\nNew-AzureVM -ServiceName \"MyWebsite1\" -VMs $web1 -Location \"West US\" -VNetName VNetUSWest \n\nNew-AzureVM -ServiceName \"MyWebsite1\" -VMs $web2 -Location \"West US\" \n\n# Add Internal Load Balancer to the service\nAdd-AzureInternalLoadBalancer -InternalLoadBalancerName MyILB -SubnetName FrontEndSubnet -ServiceName MyWebsite1\n\n# Add load balanced endpoints to ILB\nGet-AzureVM -ServiceName MyWebsite1 -Name web1 | Add-AzureEndpoint -Name \"intwebep\" -LBSetName \"intwebeplb\" -Protocol tcp -LocalPort 100 -PublicPort 100 -ProbePort 100 -ProbeProtocol tcp -ProbeIntervalInSeconds 10 -InternalLoadBalancerName MyILB | Update-AzureVM\n\nGet-AzureVM -ServiceName MyWebsite1 -Name web2 | Add-AzureEndpoint -Name \"intwebep\" -LBSetName \"intwebeplb\" -Protocol tcp -LocalPort 100 -PublicPort 100 -ProbePort 100 -ProbeProtocol tcp -ProbeIntervalInSeconds 10 -InternalLoadBalancerName MyILB | Update-AzureVM</pre>\n<ul>\n <li>이 샘플에서 ILB는 서브넷 'FrontEndSubnet'에서 IP를 가져옵니다.</li>\n <li>아래와 같이 cmd를 사용하여 ILB에 대한 정보를 가져올 수 있습니다.</li>\n</ul>\n<pre class=\"prettyprint\"># Get Internal Load balancer information\nGet-AzureService -ServiceName MyWebsite1 | Get-AzureInternalLoadBalancer \n\n# Get the ILB information on an endpoint\nGet-AzureVM -ServiceName MyWebsite1 -Name web1 | Get-AzureEndpoint</pre>\n클라우드 서비스의 ILB\n<ul>\n <li>지역 가상 네트워크 외부에 있는 클라우드 서비스에서 만든 ILB 엔드포인트는 클라우드 서비스 내에서만 액세스할 수 있습니다.</li>\n <li>ILB 구성은 아래의 cmd let 샘플과 같이 클라우드 서비스에서 첫 번째 배포를 만드는 동안 설정해야 합니다.</li>\n</ul>\n<pre class=\"prettyprint\"># Create a local ILB Object\n$myilbconfig = New-AzureInternalLoadBalancerConfig -InternalLoadBalancerName \"MyILB\" \n\n# Add Internal Load Balancer for a new service\nNew-AzureVMConfig -Name \"Instance1\" -InstanceSize Small -ImageName &lt;imagename&gt; | Add-AzureProvisioningConfig -Windows -AdminUsername &lt;username&gt; -Password &lt;password&gt; | New-AzureVM -ServiceName \"Website2\" -InternalLoadBalancerConfig $myilbconfig    -Location \"West US\"</pre>\n&nbsp;\n<h2>질문과 대답</h2>\n<strong>1. Virtual Network의 기존 배포에 ILB를 추가할 수 있나요?</strong>\n\nVirtual Network가 지역 가상 네트워크인 경우에만 이 작업을 수행할 수 있습니다. 그러나 모든 Virtual Network는 가까운 장래에 지역 가상 네트워크로 변환됩니다. 이 경우 이 작업이 가능합니다.\n\n<strong>2. 'SQL Always On' 시나리오에 ILB를 사용할 수 있나요?</strong>\n\n예,<a href=\"https://azure.microsoft.com/blog/?p=195271\"> 이제 지원됩니다</a>.\n\n<strong>3. 지역 가상 네트워크의 배포에 부하가 분산된 엔드포인트가 이미 있습니다. ILB에 이 엔드포인트를 연결할 수 있나요?</strong>\n\n아니요. 엔드포인트를 만들 때 ILB를 참조해야 하며, 일반 엔드포인트를 ILB 엔드포인트로 변환할 수 없으며 그 반대의 경우도 마찬가지입니다. 이는 가까운 장래에 지원될 예정입니다.\n\n<strong>4. ILB를 엔드포인트 ACL과 함께 사용할 수 있나요?</strong>\n\n예, ILB는 엔드포인트 ACL과 함께 사용할 수 있습니다. 지역 가상 네트워크에서 사용되는 경우 가상 네트워크 내에서도 액세스를 제한하여 고객의 IP 주소 공간에서 ACL을 표현할 수 있습니다.\n\n<strong>5</strong>. <b>내 Virtual Machines에서 ILB를 설정한 경우 동일한 컴퓨터의 \"루프백\"이 부하 분산 VIP에서 작동하나요? </b>\n\n아니요. 부하 분산되는 동일한 Virtual Machines에서 ILB VIP에 액세스할 수 없습니다.\n\n<strong>6</strong>. <strong>PaaS 서비스(웹/작업자 역할)에서 ILB를 사용할 수 있나요?</strong>\n\nILB는 웹/작업자 역할에서도 작동하도록 설계되었으며 SDK 2.4부터 사용할 수 있습니다."

### YamlMime:Yaml
ms.openlocfilehash: e2ad55c8aaaadbaee00ef735106ee9fc44e38581
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139906375"
Slug: using-aib-files-with-azure-media-indexer-and-sql-server
Title: Azure Media Indexer 및 SQL Server에서 AIB 파일 사용(영문)
Summary: 마지막 게시물에서는 프로세서의 기본 사용법과 출력 파일에 대한 개략적인 설명을 살펴보며 주로 XML 기반 파일에 집중했습니다. 이 게시물의 초점은 인덱싱 작업에서 만든 강력한 AIB(오디오 인덱스 Blob) 파일을 사용하는 것입니다.
Content: >-
  <h2>소개</h2>

  <a href="https://msdn.microsoft.com/en-us/library/azure/dn783455.aspx">Azure Media Indexer</a> 는 멀티미디어 파일에서 의미 있는 메타데이터를 추출하는 강력한 미디어 프로세서입니다.<a href="https://azure.microsoft.com/blog/2014/09/10/introducing-azure-media-indexer/">마지막 게시물</a>에서는 프로세서의 기본 사용법과 출력 파일에 대한 개략적인 설명을 살펴보며 주로 XML 기반 파일에 집중했습니다.


  이 게시물의 초점은 인덱싱 작업에서 만든 강력한 AIB(오디오 인덱스 Blob) 파일을 사용하는 것입니다.

  <h2>오디오 인덱스 Blob</h2>

  AIB 파일은 멀티미디어 파일의 격자 구조 텍스트 인덱스입니다.


  높은 수준에서 TTML/SAMI 출력 파일의 대상이 되는 시나리오와 비교할 때 다음을 예상할 수 있습니다.

  <ul>
   <li><strong>가음성 감소</strong> 위도는 개별 단어가 신뢰도가 낮은 구문과 'AND'를 찾을 수 있지만 함께 쿼리된다는 사실은 여전히 정확할 수 있음을 유추할 수 있습니다. 단어 위도는 인식기에서도 고려되었지만 최고 점수 후보로 판명되지 않은 대체 인식 후보를 나타냅니다.</li>
   <li><strong>가양성 감소</strong> 또한 위도는 각 단어 일치에 대한 신뢰도 점수를 제공합니다. 낮은 신뢰도 일치를 표시하지 않는 데 사용할 수 있습니다.</li>
   <li><strong>타임스탬프를 찍습니다.</strong> 위도는 텍스트와 달리 음성 단어의 시작 시간을 유지하며 탐색에 유용합니다.</li>
  </ul>

  &nbsp;


  AIB의 기술적 배경에 대한 자세한 내용은 Microsoft Research 웹 사이트에서 확인할 수 <a href="https://research.microsoft.com/en-us/projects/mavis/technicalinfo.aspx">있습니다</a>.


  현재 AIB 파일은 사용자 지정 <a href="">인덱서 SQL IFilter 추가</a> 기능을 사용하여 구성하는 데만 사용할 수 있습니다.


  &nbsp;

  <h2>SQL Server Virtual Machine 설정</h2>

  IFilter를 사용하려면 SQL Server(2008 이상)가 설치된 Windows 서버 컴퓨터가 필요합니다.다행히 Azure VM 갤러리에는 완벽하게 작동하는 SQL Server 미리 설정이 있습니다.


  먼저 <a href="https://manage.windowsazure.com/">Azure 관리 포털</a>로 이동하여 화면의 왼쪽 아래 모서리에서 "새로 만들기"를 선택합니다.이 자습서에서는 아래와 같이 갤러리의 SQL Server 2012 SP1 웹 이미지를 사용합니다.

  <blockquote>참고: 가상 머신에 대해 만든 로그인 자격 증명을 기억해야 합니다.</blockquote>

  &nbsp;


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/10/06/2-1.png"><img style="padding-top: 0px; padding-left: 0px; padding-right: 0px; border-width: 0px;" title="2-1" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2-1_thumb.png" alt="2-1" width="644" height="271" border="0" /></a>


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/10/06/2-2.png"><img style="padding-top: 0px; padding-left: 0px; padding-right: 0px; border-width: 0px;" title="2-2" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2-2_thumb.png" alt="2-2" width="644" height="410" border="0" /></a>


  &nbsp;


  그런 다음 포털의 커넥트 단추를 사용하여 새로 만든 머신에 원격 데스크톱을 설치하고 AIB 파일을 처리하도록 SQL Server 인스턴스 구성을 시작합니다.


  &nbsp;


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/10/06/2-3.png"><img style="padding-top: 0px; padding-left: 0px; padding-right: 0px; border-width: 0px;" title="2-3" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2-3_thumb.png" alt="2-3" width="644" height="33" border="0" /></a>


  &nbsp;

  <h3>SQL Server 구성</h3>

  새로 프로비전된 가상 머신에서 Internet Explorer를 <a href="https://aka.ms/indexersql. ">열고 . </a>

  <blockquote>참고: 아래와 같이 "허용" 목록에 웹 사이트를 추가해야 할 수 있습니다.</blockquote>

  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/10/16/2-4.png"><img style="padding-top: 0px; padding-left: 0px; padding-right: 0px; border-width: 0px;" title="2-4" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2-4_thumb.png" alt="2-4" width="409" height="367" border="0" /></a><a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/10/16/2-5.png"><img style="padding-top: 0px; padding-left: 0px; padding-right: 0px; border-width: 0px;" title="2-5" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2-5_thumb.png" alt="2-5" width="398" height="354" border="0" /></a>


  &nbsp;


  <a href="">사용자 지정 인덱서 SQL IFilter 추가</a> 기능을 가상 머신에 다운로드한 후 보관에서 모든 파일을 추출하고 설치 스크립트(32비트 컴퓨터의 경우 setup32.msi, 64비트 컴퓨터의 경우 setup64.msi)를 실행합니다. 이 스크립트는 필요한 실행 파일, DLL, 설명서 및 샘플 코드를 모두 설치용으로 선택한 디렉터리에 복사합니다.


  다음으로 오디오 검색을 위해 새 데이터베이스를 만들어야 합니다.

  <ul>
   <li>SQL Server Management Studio 열고 전체 관리 권한이 있는 사용자로 서버에 로그인</li>
   <li>AudioSearch 데이터베이스 만들기
  <ul>
   <li>개체 탐색기에서 데이터베이스를 마우스 오른쪽 단추로 클릭하고 "새 데이터베이스..."를 선택합니다.</li>
   <li>데이터베이스 이름 필드에 "AudioSearch"를 입력합니다.</li>
  </ul>

  </li>

  </ul>

  &nbsp;


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/10/16/2-6.png"><img style="padding-top: 0px; padding-left: 0px; padding-right: 0px; border-width: 0px;" title="2-6" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2-6_thumb.png" alt="2-6" width="644" height="460" border="0" /></a>

  <ul>
   <li>데이터베이스에 대해 인덱싱이 사용되는지 Full-Text 확인
  <ul>
   <li>개체 탐색기에서 Audiosearch 데이터베이스를 마우스 오른쪽 단추로 클릭하고 "속성"을 선택합니다.</li>
   <li>"페이지 선택" 트리에서 "파일" 노드를 클릭하여 "파일" 속성 페이지를 엽니다.</li>
   <li>"전체 텍스트 인덱싱 사용"이 선택되어 있는지 확인합니다.</li>
  </ul>

  </li>
   <li>"파일" 테이블 및 전체 텍스트 인덱스 만들기
  <ul>
   <li>[InstallDir]\code\Setup.sql에서 SQL 스크립트 열기
  <ul>
   <li>기본 [InstallDir]은 "C:\Program Files\Azure Media Services Indexer SDK\Indexer_SQL_AddOn"입니다.</li>
  </ul>

  </li>
   <li>최상위 명령 모음의 데이터베이스 드롭다운에서 올바른 데이터베이스를 선택했는지 확인합니다(예: 마스터인 경우 AudioSearch로 변경).</li>
   <li>스크립트를 실행합니다.</li>
  </ul>

  </li>

  </ul>

  &nbsp;


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/10/16/2-7.png"><img style="padding-top: 0px; padding-left: 0px; padding-right: 0px; border-width: 0px;" title="2-7" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2-7_thumb.png" alt="2-7" width="644" height="463" border="0" /></a>


  이제 파일 테이블이 만들어지고 AIB 열의 오디오 전체 텍스트 인덱싱에 대해 구성됩니다.파일 테이블에 새 레코드가 삽입될 때마다 전체 텍스트 인덱스가 자동으로 업데이트됩니다.


  &nbsp;

  <h3>데이터베이스를 사용해 보기</h3>

  이제 환경이 모두 설정되었으므로 마침내 AIB 파일을 사용하여 SQL Server 전체 텍스트 검색을 시도할 수 있습니다.[InstallDir]\data로 이동하면 각각 sample_video.wmv 및 sample_video.wmv.aib, 비디오 및 AIB 파일을 찾을 수 있습니다.비디오 파일에서 인덱싱 작업을 실행하는 것은 이 블로그 게시물의 범위를 벗어나며, 이 작업을 수행하는 방법을 기억하지 못하는 경우 <a href="https://azure.microsoft.com/blog/2014/09/10/introducing-azure-media-indexer/">여기에서</a> 이전 블로그 게시물을 확인하세요.(선택 사항: 마지막 블로그 게시물의 비디오를 다시 사용하고 결과를 비교합니다.)


  마지막 단계에서는 Files 테이블을 만들었으며, 이제 sqlcmd 명령줄 유틸리티를 사용하여 이 샘플 AIB 파일을 Files 테이블에 삽입할 수 있습니다.

  <pre class="prettyprint">sqlcmd -d AudioSearch -Q "insert into files (Title, Description, Duration,

  FilePath,Ext,AIB) values ('Bill Gates: Windows and the Cloud', 'Interview with

  Bill Gates on Channel9 about his transition out of Microsoft and his views on

  cloud computing.', 79, '[InstallDir]\data\sample_video.wmv','.aib',(select *

  from openrowset(bulk '[InstallDir]\data\sample_video.wmv.aib', SINGLE_BLOB) as

  X) )"</pre>

  &nbsp;


  이제 SQL Server Management Studio 사용하여 AIB가 SQL Server 의해 제대로 인덱싱되었는지 확인해야 합니다.

  <ol>
   <li>SQL Server Management Studio 열고 전체 관리 권한이 있는 사용자로 서버에 로그인합니다.</li>
   <li>명령 모음에서 "새 쿼리"를 선택하고 메시지가 표시되면 동일한 서버에 연결합니다.</li>
   <li>다음 SQL 쿼리를 실행합니다.
  <pre class="prettyprint">select filepath from files where contains(AIB,'spoken:cloud')</pre>

  결과 테이블에는 파일 경로가 포함된 단일 줄이 표시됩니다.

  <pre class="prettyprint"> [InstallDir]\data\sample_video.wmv</pre>

  </li>
   <li>이제 다음 쿼리를 실행하여 0개의 결과가 반환되는지 확인합니다.
  <pre class="prettyprint">select filepath from files where contains(AIB,'spoken:washington')</pre>

  </li>

  </ol>

  예상 결과를 받은 경우 인덱서 SQL Server IFilter를 사용하여 비디오 파일을 성공적으로 인덱싱했습니다.


  언제나처럼, 어떤 질문이나 의견 <a href="mailto:indexer@microsoft.com">indexer@microsoft.com</a>으로 우리에게 연락 주시기 바랍니다 .


  이 블로그 게시물이 작성된 이후 인덱서가 업데이트되었습니다! 버전 1.1.6.7 <a title="릴리스 정보 Azure Media Indexer 1.1.6.7here" href="https://azure.microsoft.com/blog/2014/12/03/azure-media-indexer-version-1-1-6-7-release-notes/"></a>에 대한 릴리스 정보를 확인하세요!


  &nbsp;

  <h3></h3>

### YamlMime:Yaml
ms.openlocfilehash: 04b8772f436a0c5bc4ad2d0cc081c614b25ea076
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139908381"
Slug: installing-certificates-into-iot-devices
Title: IoT 디바이스에 인증서 설치
Summary: 많은 사람들이 Azure IoT Hub Device Provisioning Service를 사용하기 시작하면서 X.509 인증서 기반 인증으로 이동하고 있습니다. 그러나 모범 사례가 무엇인지, 그리고 대규모로 수행하는 방법에 대해 많은 질문을 받았습니다.
Content: >-
  <div style="background:#eee;border:1px solid #ccc;padding:5px 10px;"><strong>업데이트:</strong> Azure IoT 디바이스와 관련된 가장 관련성이 있는 정보는 Azure IoT <a data-bi-area="undefined" data-bi-id="page-clicked-link" data-bi-view="undefined" data-event="page-clicked-link" href="https://docs.microsoft.com/en-us/azure/iot-dps/concepts-device-oem-security-practices">디바이스 제조업체의 보안 사례</a> 설명서를 참조하세요.</div>


  <p>많은 사람들이 <a href="https://docs.microsoft.com/azure/iot-dps/" target="_blank">Azure IoT Hub Device Provisioning Service</a>를 사용하기 시작하면서 <a href="https://docs.microsoft.com/en-us/azure/iot-dps/concepts-security#x509-certificates" target="_blank">X.509 인증서 기반 인증</a>으로 이동하고 있습니다. 그러나 모범 사례가 무엇인지, 그리고 규모에 따라 어떻게 해야 하는지에 대해 많은 질문을 받았을&#39;있습니다. 인증서의 출신 위치와 설치 방법에 영향을 주는 변수가 많이 있으며 각 단계를 소유하는 사람은 현재 위치의 특정 프로세스 및 비즈니스 관계에 따라 달라집니다. 이 블로그 게시물은 프로덕션 수준 규모의 IoT 디바이스에 대한 인증서 생성 및 설치 프로세스에 대한 명확성을 제공하기 위한 것입니다.</p>


  <p>시작하기 전에 IoT 디바이스에 인증서를 설치하는 시스템이 이미 있고 작동 중인 시스템이 있다면 좋습니다. 자유롭게 읽는 것을 멈추고 <a href="https://channel9.msdn.com/Shows/Internet-of-Things-Show" target="_blank">다른 콘텐츠</a> 중 일부를 확인하세요. 이 블로그 게시물은 IoT 디바이스에서 인증서를 사용하도록 전환하고 가장 적합한 것을 파악하는 데 어려움을 겪고 있는 사용자를 위한 것입니다.</p>


  <h2>필수 보안 폭언</h2>


  <p>암호의 영역에서&#39;빠른 수정을 원하는 경우 모든 장치에서 동일한 암호를 사용할 수 있는 것처럼 모든 디바이스에서 동일한 인증서를 사용할 수&#39;없는 이유를 스스로에게 물어볼 수 있습니다. 첫째, 모든 곳에서 동일한 암호를 사용하는 것은 정말 나쁜 관행이며 이미 몇 년 전 미국 동부 해안에서 DNS를 다운 한 것을 포함하여 몇 가지 주요 DDoS 공격을 일으켰습니다. 그래서&#39;이제까지이 작업을 수행하지 마십시오, 심지어 자신의 개인 계정으로. 둘째, 인증서는 완전한 ID인 암호가 아닙니다. 암호는 클럽 하우스에 들어갈 비밀 문구를 아는 것과 같으며, 인증서는 운전&#39;면허를 보라고 요청하는 경비원입니다. &rsquo;여권으로 만든 사본을 여러 장 가지고 신분증에 사용할 수 있는 사본을 준 경우와 같습니다. 당신은 내 이름과 내 여권을 제공하고 나를 가장 (일명 내 신원을 스푸핑), 또는 당신은 당신의 이름과 내 여권을 제공하고 국경 제어 에이전트는 당신의 이름과 일치하는 ID가 없는 당신을 쫓아.</p>


  <h2>인증서 결정과 관련된 변수</h2>


  <p>IoT 디바이스에서 인증서를 사용하기로 결정할 때 발생하는 몇 가지 변수가 있습니다. 무거운 타자는 다음과 같습니다.</p>


  <p><strong>신뢰할 수 있는 인증서 루트의 위치</strong>입니다. PKI(공개 키 인프라)를 관리하는 고유한 비용 허용 범위 및 masochism 수준에 &ndash; 따라 이 결정을 내리십시오. 특히 회사에 경험이 없는 경우 마음이 희미해지는 것이 아닙니다. 옵션은 다음과 같습니다.</p>


  <ul>
      <li>타사 인증서 공급업체에서 중간 서명 인증서(또는 프라이빗 CA)를 구입하는 타사 PKI입니다.</li>
      <li>자체 PKI 시스템을 유지 관리하고 고유한 인증서를 생성하는 자체 관리형 PKI입니다.</li>
      <li><a href="https://www.microsoft.com/en-us/azure-sphere/details/" target="_blank">Azure Spheres&rsquo;</a> 보안 서비스(Azure Sphere 디바이스에만 해당)</li>
  </ul>


  <p><strong>인증서가 저장되는 위치입니다</strong>. 이는 다시 빌드할&#39;디바이스 유형, 예상되는 디바이스 여백(보안 스토리지를 제공할 수 있는지 여부), 디바이스&#39;기능 및 활용될 수 있는 디바이스의 기존 보안 기술에 따라 달라집니다. 옵션은 다음과 같습니다.</p>


  <ul>
      <li>HSM(하드웨어 보안 모듈)에서(권장!) 디바이스&#39;제어판에 HSM이 이미 설치되어 있는지 확인합니다. 나는&#39;그들이 단지 사용하지&#39;자신의 장치에 이미 설치된 HSM을 가지고 있다는 것을 발견 놀랐다 몇 고객에게 이야기했다. HSM이&#39;알고 있는 경우 하드웨어 제조업체와 협력하여 요구 사항을 충족하는 HSM을 식별합니다.</li>
      <li>TEE(신뢰 실행 환경)와 같은 디스크의 안전한 장소.</li>
      <li>로컬 파일 시스템 또는 인증서 저장소(예: Windows 인증서 저장소).</li>
      <li>기타</li>
  </ul>


  <p><strong>공장의 연결</strong>. 이렇게 하면 디바이스에 설치될 인증서를 가져오는 방법과 시기가 결정됩니다. 옵션은 다음과 같습니다.</p>


  <ul>
      <li>예 연결(로컬로 인증서를 생성할 수 있음).</li>
      <li>연결되지 않음(팩터리에는 로컬로 오프라인으로 디바이스 인증서를 생성하는 데 사용하는 서명된 CA 인증서가 있음).</li>
      <li>연결 없음(인증서를 미리 생성하거나 오프라인 PKI를 생성해야 합니다).</li>
  </ul>


  <p><strong>감사 요구 사항</strong>입니다. 생성하는 디바이스의 유형에 따라 디바이스 ID가 디바이스에 설치되는 방법에 대한 감사 가능한 내역을 규정에서 요구할 수 있습니다. 프로덕션에 상당한 비용을 추가할 수 있으므로 필요한 경우에만 이 작업을 수행합니다. 이것이 사용자에게 적용되는지 확실하지&#39;경우 회사&#39;법률 부서에 문의하세요. 옵션은 다음과 같습니다.</p>


  <ul>
      <li>중요한 산업이 아니고 감사가 필요하지 않습니다.</li>
      <li>중요한 업계에서는 다양한 규정 준수 인증 요구 사항에 따라 보안 실에 인증서를 설치해야 합니다. 인증서를 설치하기 위해 보안 공간이 필요한 경우 인증서가 디바이스에 설치되고 시스템이 이미 있는 방법을 이미 알고 있을 것입니다. 이 게시물은 아마 당신을 위한 것이 아닙니다.</li>
  </ul>


  <p><strong>인증서 유효성의 길이입니다</strong>. 드라이버&#39;라이선스와 마찬가지로 인증서가 만들어지면 만료 날짜가 설정됩니다. 옵션은 다음과 같습니다.</p>


  <ul>
      <li>매우 긴, 결코 그것을 롤 필요가 없습니다. 매우 위험한 접근 방식. HSM 등과 같은 매우 안전한 스토리지를 사용하여 위험을 줄일 수 있습니다. 그러나 수명이 긴 인증서 접근 방식은 권장되지 않습니다.</li>
      <li>디바이스의 수명 동안 롤해야 합니다. 이는 컨텍스트에 따라 다르며 인증서를 롤하는 방법, 인증서를 가져오는&#39;위치 및 디바이스에 대해 존재하는 무선 기능 유형에 대한 전략이 필요합니다.</li>
  </ul>


  <h2>인증서 생성 시기</h2>


  <p>이전 섹션에서 설명한 것처럼 공장의 연결은 디바이스에 대한 인증서를 생성할 시기를 결정하는 데 중요한 역할을 합니다. &#39;그것에 대해 이야기하자.</p>


  <p>일부 HSM 공급업체는 HSM 공급업체가 고객을 대신하여 HSM에 인증서를 설치하는 프리미엄 서비스를 제공합니다. 고객은 HSM 공급업체에 서명 인증서에 대한 액세스 권한을 부여하고 HSM 공급업체는 고객이 구매하는 각 HSM에 해당 서명 인증서로 서명된 인증서를 설치합니다. 고객은 디바이스에 HSM을 설치하기만 하면 됩니다. 내가이 경로를 갔다 누구와 이야기 한&#39;한 고객은 프로세스가 꽤 매끄러운 말한다. HSM&rdquo; 경로에서 미리 로드된 상태로 이동&ldquo;하도록 선택하는 경우 인증서를 생성할 때 문제가 되지 않습니다. 이에 따라</p>


  <p>디바이스가 내부적으로 인증서를 생성하는 경우 등록을 위해 디바이스에서 공용 X.509 인증서를 추출해야 합니다.</p>


  <p>팩터리에 연결이 있는 경우 필요할 때마다 인증서를 생성할 수 있습니다.</p>


  <p>팩터리에 연결이 없는 경우 오프라인 지원을 통해 고유한 PKI를 사용하는 경우 필요할 때마다 인증서를 생성할 수 있습니다.</p>


  <p>팩터리에 연결되지 않고 타사 PKI를 사용하는 경우 인터넷에 연결된 위치에서 미리 인증서를 생성해야 합니다.</p>


  <h2>인증서 설치 시기</h2>


  <p>IoT 디바이스에 대한 인증서를&#39;(또는 생성 시기를 알 수 있음) 이제 디바이스에 인증서를 설치할&#39;있습니다.</p>


  <p>HSM&rdquo; 경로에서 미리 로드된 경로로 이동&ldquo;하면 생활이 좀 더 쉬워집니다. HSM이 디바이스에 설치되면 디바이스 코드에서 액세스할 수 있습니다. 그런 다음 HSM API를 사용하여 HSM 내에 저장된 인증서를 사용합니다. 그것은&#39;가장 쉬운 옵션, 하지만 그것은 조금 더 많은 비용.</p>


  <p>그렇지 않으면 프로덕션 프로세스의 일부로 인증서를 설치해야 합니다. 기존 프로세스에 통합하는 가장 쉬운 방법은 초기 펌웨어 이미지를 사용하여 인증서를 설치하는 것입니다. 각 디바이스는 최종 대상으로 보내기 위해 디바이스를 패키지하기 전에 이미지를 설치하고 최종 품질 검사를 실행하기 위해 제조 현장에서 하나 이상의 터치를 거쳐야 합니다. &#39;일반적으로 한 번의 샷으로 설치 및 테스트를 수행하는 데 사용되는 도구가 있습니다. 도구를 수정하여 인증서를 생성하거나 미리 생성된 저장소에서 인증서를 끌어온 다음 인증서를 설치해야 하는 위치에 설치할 수 있습니다. 이 도구는 생산 수준 제조에 필요한 규모를 제공합니다.</p>


  <p>IoT 디바이스에서 인증서를 가져오는 데 더 많은 도움이 필요한 경우 <a href="https://azureiotpartners.azurewebsites.net/#partnerCategoryFilter=security" target="_blank">보안 감사 프로그램에서</a> 다른 사람에게 문의하세요. 디바이스에서 인증서를 설정하면 <a href="https://docs.microsoft.com/azure/iot-dps/" target="_blank">Device Provisioning Service</a>에서 <a href="https://docs.microsoft.com/en-us/azure/iot-dps/how-to-roll-certificates" target="_blank">인증서</a> 및 <a href="https://docs.microsoft.com/en-us/azure/iot-dps/how-to-manage-enrollments" target="_blank">등록을</a> 사용하는 방법을 알아봅니다.</p>


  <p>리머릭으로 요약하려면 다음을 수행합니다.</p>


  <p>대규모로 디바이스 인증서 설치<br>

  고통과 실패로 내포 될 수 있습니다<br>

  당신은 완전히 그것을 할 수 있습니다!<br>

  그냥 계획하고 그것을 통해 작업<br>

  이 블로그 게시물은 가드레일 역할을 합니다.</p>

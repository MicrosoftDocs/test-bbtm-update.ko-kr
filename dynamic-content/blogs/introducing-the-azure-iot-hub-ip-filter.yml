### YamlMime:Yaml
ms.openlocfilehash: 192a699794136f376ac4d956d268f5e96c0dba4f
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139899775"
Slug: introducing-the-azure-iot-hub-ip-filter
Title: Azure IoT Hub IP 필터 소개
Summary: 더 많은 기업이 IoT(사물 인터넷)로 전환함에 따라 보안 및 개인 정보 보호가 가장 중요합니다. Microsoft의 목표는 고객의 IoT 솔루션을 안전하게 유지하는 것입니다. 우리의 지속적인 일환으로 ...
Content: >-
  <p>더 많은 기업이 IoT(사물 인터넷)로 전환함에 따라 보안 및 개인 정보 보호가 가장 중요합니다. Microsoft의 목표는 고객이 IoT 솔루션을 안전하게&#39; 유지하는 것입니다. 지속적인 보안 노력의 일환으로 최근 <a href="https://blogs.microsoft.com/microsoftsecure/2016/10/26/securing-the-internet-of-things-introducing-the-security-program-for-azure-iot/">Azure IoT 보안 프로그램을</a> 시작하여 고객에게 디바이스에서 클라우드로 IoT 솔루션을 평가할 수 있는 보안 감사자를 선택할 수 있습니다. 또한 Microsoft는 Azure IoT Suite 및 Azure IoT Hub에 기본 제공되는 IoT 보안 및 최신 보안에 대한 <a href="https://blogs.microsoft.com/microsoftsecure/2016/10/26/securing-the-internet-of-things-introducing-the-security-program-for-azure-iot/">포괄적인 지침을</a> 제공합니다. 오늘, 또&rsquo; 다른 중요한 보안 기능을 발표하게 되어 기쁩니다: IP 필터링.</p>


  <p>IP 필터링을 사용하면 고객이 특정 IP 주소의 연결만 수락하도록 IoT Hub에 지시하여 특정 IP 주소 또는 둘 다의 조합을 거부할 수 있습니다. Weve&rsquo;를 통해 관리자는 IoT Hub에 대해 이러한 IP 필터링 규칙을 쉽게 구성할 수 있습니다. 이러한 규칙은 디바이스 또는 백 엔드 애플리케이션이 지원되는 프로토콜(현재 AMQP, MQTT, AMQP/WS, MQTT/WS, HTTP/1)에서 연결할 때마다 적용됩니다. 거부되는 IP 규칙과 일치하는 IPv4 주소의 모든 애플리케이션은 메시지의 IP 규칙에 대한 구체적인 언급 없이 권한 없는 401 상태 코드를 받습니다.</p>


  <p>IP 필터는 CIDR 표기법 형식을 사용하여 개별 IPv4 주소 또는 서브넷을 거부하거나 수락하는 최대 10개의 규칙을 허용합니다. 다음 두 예제에서는 IP 주소를 블랙리스트에 추가하고 특정 서브넷을 허용 목록에 추가하는 방법을 보여 줍니다.</p>


  <h3>자습서: IP 주소를 차단 목록에 추가하는 방법</h3>


  <p>기본적으로 Azure IoT Hub는 이 기능을 제공하기 전에 모든 IP 주소를 기존 고객 구성과 호환되도록 허용하도록 구성됩니다.<br>

  &nbsp;<br>

  이 자습서&rsquo;에서는 IoT Hub 관리자가 주소 184.13.152.8에서 의심스러운 활동을 확인하고 해당 IP 주소의 트래픽을 거부하려고 하는 것으로 가정합니다. 주소 184.13.152.8을 차단하려면 IoT Hub 관리자가 이 IP를 거부하는 규칙을 추가하면 됩니다(아래 그림 참조).</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/66a96b88-4810-4da9-a579-459588b4a03c.png"><img alt="Azure IoT Hub administrator rejects IP Image" border="0" height="564" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7ed0e830-b115-44f3-9de1-5795770d21f7.png" style="border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;" title="Azure IoT Hub 관리자가 IP 이미지를 거부합니다." width="1024"></a></p>


  <p>이 예제에서는 거부된 IP 주소가 있는 디바이스 또는 백 엔드 애플리케이션이 이 IoT Hub에 연결할 때마다 401 권한 없음 오류가 발생합니다. IoT Hub 관리자가 이 로그를 볼 수 있지만 악의적인 공격자는 더 이상 오류 메시지를 수신하지 않습니다.</p>


  <h3>자습서: 서브넷을 허용 목록에 추가하는 방법</h3>


  <p>다음 자습서&rsquo;에서는 관리자가 192.168.100.0에서 192.168.103.255까지의 IPv4 범위만 허용하도록 Azure IoT Hub를 구성하고 다른 모든 항목을 거부한다고 가정합니다. CIDR 표기법을 사용하여 두 개의 규칙만 추가하면 됩니다.</p>


  <ol>
   <li>CIDR 표기법 마스크 192.168.100.0/22 수락</li>
   <li>모든 IP 주소 거부</li>
  </ol>


  <p>CIDR(클래스리스 도메인 간 라우팅) 형식을 사용하면 IoT Hub 네트워크 관리자가 한 규칙의 주소 범위를 쉽게 수락하거나 거부할 수 있으므로 192.168.100.0/22는 <em>192.168.100.0</em> 에서 <em>192.168.103.255</em>까지의 범위로 변환됩니다.&nbsp; 네트워크 관리자가 아닌 사용자를 위해 CIDR 형식의 복잡성을 설명하거나 계산기를 제공하는 많은 설명서가 온라인에 있습니다. 즐겨찾기 중 하나가 <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing">여기에 있습니다</a>. 0.0.0.0/0을 거부하는 마지막 규칙을 추가하면 관리자가 기본값을 블랙리스트로 변경합니다.</p>


  <p>아래 그림에서는 192.168.100.0에서 192.168.103.255 범위만 허용 목록에 추가하는 IoT Hub를 보여 줍니다. <em>순서가 중요</em>하며 IP와 일치하는 첫 번째 규칙이 작업을 결정합니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c99b7046-48c3-469b-95d4-6ea81aeef8e3.png"><img alt="Azure IoT Hub whitelist" border="0" height="514" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/83cae8d9-ff75-4e44-97dc-794725345318.png" style="border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;" title="Azure IoT Hub 허용 목록" width="1024"></a><br>

  &nbsp;</p>


  <p>마지막으로, IoT Hub는 이미 <a href="https://azure.microsoft.com/en-us/documentation/articles/expressroute-faqs/">Azure Express Route</a>를 사용하여 프라이빗 연결을 지원하지만, IP 필터링을 사용하면 관리자가 프라이빗 Express Route 연결만 수락할 수 있도록 하여 추가 수준의 보안을 사용할 수 있습니다.&nbsp; 이를 사용하도록 설정하려면 IP 필터링을 사용하여 Express Route의 연결을 수락한 다음 다른 모든 연결을 거부합니다.</p>

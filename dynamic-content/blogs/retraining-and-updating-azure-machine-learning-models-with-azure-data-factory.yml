### YamlMime:Yaml
ms.openlocfilehash: 1ae42ca05326487bf181a80ff77f2a1f52bcef64
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139912471"
Slug: retraining-and-updating-azure-machine-learning-models-with-azure-data-factory
Title: Azure Data Factory를 사용하여 Azure Machine Learning 모델 재학습 및 업데이트
Summary: 시간이 지남에 따라 추세 및 변수가 변경됨에 따라 자동화된 재학습 및 최신 학습 데이터로 업데이트하는 것이 이상적입니다. Azure Data Factory는 새로 릴리스된 AzureMLUpdateResource 작업을 사용하여 이 작업을 수행합니다.
Content: >-
  <p>Azure Machine Learning 모델을 사용하는 고객은 Azure Data Factory 파이프라인을 사용하여 기본 제공 <strong>AzureMLBatchExecution </strong>작업을 활용하여 프로덕션에서 ML 모델을 운영하고 미리 학습된 모델에 대해 대규모로 새 데이터의 점수를 매깁니다. 그러나 모델&rsquo; 매개 변수에 영향을 주는 추세 및 변수가 시간이 지남에 따라 변경됨에 따라 이 파이프라인은 반복적인 자동화된 재학습 및 최신 학습 데이터를 사용하여 모델에 대한 업데이트도 지원해야 합니다. 이제 Azure Data Factory를 사용하면 새로 릴리스된 <strong>AzureMLUpdateResource </strong>작업을 사용하여 이 작업을 수행할 수 있습니다.</p>


  <p>Azure ML 사용하면 일반적으로 먼저 점수 매기기 및 학습 실험을 설치한 다음 각 실험에 대해 별도의 두 개의 웹 서비스 엔드포인트를 설정합니다. 다음으로 Data Factory에서 <b>AzureMLBatchExecution</b> 작업을 사용하여 점수 매기기 웹 서비스에서 호스트하는 최신 모델에 대해 들어오는 데이터의 점수 매기기와 최신 학습 데이터로 예약된 재학습을 모두 수행할 수 있습니다. 또한 점수 매기기 웹 서비스 엔드포인트는 점수 매기기 웹 서비스에서 사용하는 모델을 업데이트하는 데 사용할 수 있는 <b>업데이트</b> 리소스 메서드를 노출합니다. 여기서 새 <b>AzureMLUpdateResource</b> 작업이 파악됩니다. 이제 이 작업을 사용하여 학습 활동에서 생성된 모델을 가져와 점수 매기기 웹 서비스에 제공하여 기존 데이터 팩터리 파이프라인으로 자동화된 일정에 따라 점수 매기기 모델을 업데이트할 수 있습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/74b0abd0-d90b-402c-aa56-960c3807f014.png"><img alt="Retrain Pipeline" border="0" height="198" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1efc657b-d487-4ae9-bee5-5eea1e22f919.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" title="파이프라인 재학습" width="1024"></a></p>


  <h2>실험 엔드포인트 설정</h2>


  <p>다음은 Azure ML 학습 엔드포인트와 점수 매기기 엔드포인트 간의 관계에 대한 개요입니다. 둘 다 Azure ML Studio의 실험에서 시작되며 둘 다 Batch Execution Services로 사용할 수 있습니다. 학습 웹 서비스는 학습 데이터를 수신하고 학습된 모델을 생성합니다. 점수 매기기 웹 서비스는 레이블이 지정되지 않은 데이터 예제를 수신하고 예측을 만듭니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/482fc9b1-1f2f-46de-a800-e2c1a1abcf6f.png"><img alt="AML Retaining Diagram" border="0" height="480" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/07a0374f-f9d6-4bce-909c-ab9ad1d96f8e.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" title="AML 유지 다이어그램" width="556"></a></p>


  <p>재학습 및 업데이트 시나리오를 만들려면 다음 일반 단계를 수행합니다.</p>


  <ul>
   <li><a href="https://studio.azureml.net/">Azure ML Studio</a>에서 실험을 만듭니다.</li>
   <li>모델에 만족하는 경우 Azure ML Studio를 사용하여 학습 실험과 점수 매기기 실험 모두에 대한 웹 서비스를 게시합니다.</li>
   <li>점수 매기기 웹 서비스 엔드포인트는 새 데이터 예제에 대한 예측을 만드는 데 사용됩니다. 예측의 출력에는 실험의 구성에 따라 Azure SQL 데이터베이스의 .csv 파일 또는 행과 같은 다양한 형식이 있을 수 있습니다.</li>
   <li>학습 웹 서비스는 새 학습 데이터에서 학습된 새 모델을 생성하는 데 사용됩니다. 재학습의 출력은 Azure Blob Storage의 .ilearner 파일입니다.</li>
  </ul>


  <p>재학습을 위한 웹 서비스 엔드포인트를 만드는 방법에 대한 자세한 지침은 <a href="https://azure.microsoft.com/en-us/documentation/articles/machine-learning-retrain-models-programmatically/">설명서를</a> 참조하세요.</p>


  <p>Azure 관리 포털에서 웹 서비스 엔드포인트를 볼 수 있습니다. ADF 연결된 서비스 및 활동에서 참조됩니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c26ec6d5-e73a-4a11-8a22-487fb6836982.png"><img alt="ML Endpoints" border="0" height="185" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/a388ad64-9304-4a24-8a4a-27c306efa0d5.png" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; float: none; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" title="엔드포인트 ML" width="591"></a></p>


  <h2>ADF를 사용하여 Azure ML 모델 재학습 및 업데이트</h2>


  <p>ADF의 운영화된 재학습 및 업데이트 시나리오는 다음 요소로 구성됩니다.</p>


  <ul>
   <li>학습 데이터에 대한 하나 이상의 스토리지 연결된 서비스 및 데이터 세트로, 스토리지 유형을 학습 실험 입력과 일치합니다. 예를 들어 실험이 웹 서비스 입력으로 구성된 경우 학습 데이터는 Azure Blob Storage에서 가져와야 합니다. Azure SQL 테이블에서 데이터를 가져오는 경우 읽기 권한자 모듈을 사용하여 실험을 구성해야 합니다. 시나리오에서 학습 입력은 Hadoop 프로세스 또는 복사 작업과 같은 ADF 활동에 의해 생성될 수 있습니다. 또는 일부 외부 프로세스에서 생성될 수 있습니다.</li>
   <li>새로 학습된 모델 .ilearner 파일을 수신할 하나 이상의 스토리지 연결된 서비스 및 Azure Blob 데이터 세트입니다.</li>
   <li>AzureML 연결된 서비스 및 AzureMLBatchExecution 작업으로 학습 웹 서비스 엔드포인트를 호출합니다. 학습 데이터 세트는 이 작업의 출력에 대한 입력 및 ilearner 데이터 세트가 됩니다.</li>
   <li>업데이트할 점수 매기기 실험 엔드포인트에 대한 AzureML 연결된 서비스 및 AzureMLUpdateResource 작업입니다. ilearner 데이터 세트는 이 활동에 대한 입력입니다. 업데이트할 모델이 여러 개 있는 경우 각각에 대해 하나의 작업이 있습니다. 업데이트할 엔드포인트가 여러 개 있는 경우 각각에 대한 연결된 서비스 및 작업이 있습니다.</li>
   <li>활동 출력에 대한 연결된 서비스 및 데이터 세트를 Storage. Azure ML 업데이트 리소스 API 호출은 출력을 생성하지 않지만 현재 ADF에서는 파이프라인 일정을 구동하기 위해 출력 데이터 세트가 필요합니다.&nbsp;</li>
  </ul>


  <p>데이터 세트 및 LinkedServices를 만드는 방법에 대한 자세한 내용은 다음을 참조하세요.</p>


  <ul>
   <li><a href="https://azure.microsoft.com/documentation/articles/data-factory-create-datasets/">Data Factory 데이터 세트 만들기</a></li>
   <li><a href="https://azure.microsoft.com/documentation/articles/data-factory-data-movement-activities/">데이터 이동 활동</a>&nbsp;</li>
   <li><a href="https://azure.microsoft.com/documentation/articles/data-factory-data-transformation-activities/">Azure Data Factory의 변환 작업</a></li>
  </ul>


  <p>JSON 예제로 완성된 모델에 대한 채점 설정, 재학습 및 업데이트 작업에 대한 단계별 지침은 <a href="https://azure.microsoft.com/en-us/documentation/articles/data-factory-create-predictive-pipelines/">예측 파이프라인 설명서를 확인하세요</a>.</p>


  <h2>요약</h2>


  <p>이 블로그에서는 Azure ML 웹 서비스 모델을 재학습하고 업데이트하는 엔드 투 엔드 시나리오를 제시했습니다.</p>


  <p>Data Factory 및 Azure ML 팀은 ADF에서 Azure ML 운영하기 위한 시나리오에 대해 여러분의 의견을 듣고 싶습니다. 특히 다음 예제를 수집하려고 합니다.</p>


  <ul>
   <li>학습 데이터가 생성되는 방법 및 ADF 파이프라인으로 수집되는 방법</li>
   <li>프로덕션에 투입되기 전에 재학습된 모델을 평가하는 방법</li>
   <li>재학습된 모델 평가가 필요하거나 필요하지 않은 시나리오</li>
   <li>다른 Azure ML 엔드포인트 관리(만들기, 삭제)가 운영 파이프라인의 일부가 되는 시나리오</li>
  </ul>


  <p><a href="https://social.msdn.microsoft.com/Forums/en-US/home">Data Factory 포럼</a>에 의견이나 게시물을 남겨주세요.</p>

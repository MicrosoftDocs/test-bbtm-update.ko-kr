### YamlMime:Yaml
ms.openlocfilehash: 201ad8c56645d008d7e8d3f24e81f837778edcf2
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139905272"
Slug: transparent-data-encryption-or-always-encrypted
Title: 투명한 데이터 암호화 또는 항상 암호화되나요?
Summary: TDE(투명한 데이터 암호화)와 Always Encrypted는 SQL Server 및 Azure SQL Database 제공하는 두 가지 암호화 기술입니다. 일반적으로 암호화는 상시 암호화를 통해 다양한 시나리오에서 무단 액세스로부터 데이터를 보호합니다.
Content: >-
  <h2>Azure SQL Database 또는 SQL Server 적합한 암호화 기술을 선택하는 방법</h2>


  <p><a href="https://docs.microsoft.com/en-us/sql/relational-databases/security/encryption/transparent-data-encryption?view=sql-server-2017" target="_blank">TDE(투명한 데이터 암호화)</a>와 <a href="https://docs.microsoft.com/en-us/sql/relational-databases/security/encryption/always-encrypted-database-engine?view=sql-server-2017" target="_blank">Always Encrypted</a>는 SQL Server 및 Azure SQL Database 제공하는 두 가지 암호화 기술입니다. 일반적으로 암호화는 다양한 시나리오에서 무단 액세스로부터 데이터를 보호합니다. 이러한 기능은 보완적인 기능이며, 이 블로그 게시물은 선택할 기술과 이를 결합하여 계층화된 보안 접근 방식을 제공하는 방법을 결정하는 데 도움이 되는 나란히 비교를 보여 줍니다.</p>


  <p><br>

  <a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/392999cc-f49f-4e26-895b-b03175618699.png"><img alt="TDE_or_AE" border="0" height="672" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c107adfe-2f90-4a54-a2ba-41b75c63e32e.png" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" title="TDE_or_AE" width="935"></a></p>


  <h2>투명한 데이터 암호화</h2>


  <p>TDE는 원시 파일 또는 백업에 대한 오프라인 액세스로부터 미사용 데이터를 보호하기 위한 보안 계층을 추가하기 위한 것이며, 일반적인 시나리오에는 데이터 센터 도난 또는 디스크 드라이브 및 백업 테이프와 같은 하드웨어 또는 미디어의 보안되지 않은 폐기가 포함됩니다. TDE가 도난당한 데이터베이스(데이터, 로그 파일, 스냅샷, 복사본 또는 백업)를 복구하려는 악의적인 당사자의 위험으로부터 보호하는 방법을 자세히 알아보려면 TDE 모범 사례를 검토하려면 <a href="https://blogs.msdn.microsoft.com/sqlsecurity/2016/10/05/feature-spotlight-transparent-data-encryption-tde/" target="_blank">TDE 추천: 투명한 데이터 암호화(TDE)</a>를 참조하세요.&nbsp;</p>


  <p>데이터베이스에서 TDE를 사용하도록 설정하면 미사용 데이터를 암호화해야 하는 다양한 산업 전반에 걸쳐 수립된 많은 법률, 규정 및 보안 지침을 준수할 수 있습니다. SQL 데이터베이스에 저장된 데이터에 보호 요구 사항이 전혀 없는 경우 TDE를 사용하지 않도록 설정할 이유가 없어야 합니다.&nbsp; 그러나 TDE는 미사용 데이터에 대해 하나의 보호 계층만 추가하고 나머지 위험은 OS 파일 시스템 및 하드웨어 계층에서 해결해야 함을 인식하는 것이 중요합니다. 자세한 내용은 <a href="https://docs.microsoft.com/en-us/windows/security/information-protection/bitlocker/bitlocker-overview" target="_blank">Bitlocker 설명서를</a> 참조하세요.</p>


  <p>TDE는 애플리케이션 개발자가 기존 애플리케이션을 변경할 필요가 없는&rsquo; AES 암호화 알고리즘을 사용하여 전체 데이터베이스를 암호화합니다. TDE는 데이터 및 로그 파일에 대한 실시간 I/O 암호화 및 암호 해독을 수행합니다. 데이터베이스가 메모리에 로드되면 SQL Server(sysadmin, db_owner) 및 Azure SQL Database(클라우드) 관리자의 DBA(관리자)가 데이터에 액세스할 수 있으며 데이터베이스에 액세스할 수 있는 모든 역할 및 애플리케이션에서 사용할 수 있습니다. 데이터베이스에 관리자 역할로부터 보호되고 메모리에 암호화된 상태로 유지되어야 하는 특정 열에 중요한 데이터가 포함된 경우 TDE 외에도 Always Encrypted를 사용해야 합니다.</p>


  <p>TDE는 암호화 키 관리, 서비스 관리형 키 및 고객 관리형 키에 대한 두 가지 옵션을 제공합니다. 서비스 관리 키의 경우 TDE 보호기는 서버의 마스터 데이터베이스에 저장된 인증서입니다. 고객 관리형 키의 경우 TDE 보호기는 EKM 모듈 또는 <a href="https://azure.microsoft.com/en-us/services/key-vault/" target="_blank">Azure Key Vault</a>로 보호되는 비대칭 키입니다. <a href="https://docs.microsoft.com/en-us/sql/relational-databases/security/encryption/transparent-data-encryption-byok-azure-sql?view=azuresqldb-current" target="_blank">BYOK(Bring Your Own Keys)와 함께 Azure SQL Database TDE</a>를 사용하는&nbsp; 경우 TDE 보호기는 키 자격 증명 모음을 벗어나지 않지만 Azure SQL Database 키 자격 증명 모음에 액세스하여 데이터 암호 해독 및 암호화에 사용되는 DEK(데이터베이스 암호화 키)를 암호 해독하고 암호화해야 합니다. 암호화된 DEK가 암호 해독을 위해 키 자격 증명 모음으로 전송된 후 암호화되지 않은 DEK는 키 자격 증명 모음의 TDE 보호기가 삭제되거나 SQL Database 대한 액세스가 취소될 때까지 메모리에 저장됩니다. 이 경우 데이터베이스는 24시간 이내에 오프라인 상태가 되고 DEK는 메모리에서 제거됩니다.</p>


  <h2>Always Encrypted</h2>


  <p>Always Encrypted는 Azure SQL Database 또는 SQL Server 데이터베이스에 저장된 중요한 데이터를 데이터베이스 관리자(예: SQL Server sysadmin 또는 db_owner 역할의 멤버), SQL Server 인스턴스를 호스팅하는 컴퓨터의 관리자)가 액세스하지 못하도록 보호하도록 설계된 기능입니다. Azure SQL Database(클라우드) 관리자 데이터베이스에 저장된 데이터는 전체 컴퓨터가 손상된 경우에도 보호됩니다(예: 맬웨어). Always Encrypted는 클라이언트 쪽 암호화를 활용합니다. 애플리케이션 내의 데이터베이스 드라이버는 데이터를 데이터베이스로 보내기 전에 데이터를 투명하게 암호화합니다. 마찬가지로 드라이버는 쿼리 결과에서 검색된 암호화된 데이터의 암호를 해독합니다.</p>


  <p>Always Encrypted를 사용하면 클라이언트 쪽의 암호화 작업은 데이터베이스 엔진 표시되지 않는 키를 사용합니다(SQL Database 또는 SQL Server). Always Encrypted에는 두 가지 유형의 키가 있습니다.</p>


  <ul>
   <li>열 암호화 키는 데이터베이스의 데이터를 암호화하는 데 사용됩니다. 이러한 키는 암호화된 형식(일반 텍스트로는 안 됨)으로 데이터베이스에 저장됩니다.</li>
   <li>열 마스터 키는 열 암호화 키를 암호화하는 데 사용됩니다. 이러한 키는 Windows 인증서 저장소, Azure Key Vault 또는 하드웨어 보안 모듈과 같은 외부 키 저장소에 저장됩니다.&nbsp; Azure Key Vault에 저장된 키의 경우 TDE와 달리 클라이언트 애플리케이션만 키에 액세스할 수 있지만 데이터베이스에는 액세스할 수 없습니다.</li>
  </ul>


  <p>Always Encrypted의 고유한 보안 이점은 사용&rdquo; &ndash; 중인 데이터를 &ldquo;보호하는 것입니다. 즉, SQL Server 프로세스의 메모리에서 계산에 사용되는 데이터는 암호화된 상태로 유지됩니다. 따라서 Always Encrypted는 SQL Server 프로세스의 메모리를 검사하거나 메모리 덤프 파일에서 데이터를 추출하는 공격으로부터 데이터를 보호합니다.</p>


  <p>Always Encrypted는 알&rdquo; 필요가 없는 &ldquo;높은 권한의 사용자로부터 데이터를 보호함으로써 데이터를 소유하고 볼 수 있는 사용자와 데이터를 관리하는 사용자(액세스 권한이 없어야 하는 사용자) 간에 분리를 제공합니다. 이를 통해 고객은 클라우드에 중요한 데이터를 자신 있게 저장하거나, 온-프레미스 데이터베이스 관리를 제3자에게 위임하거나, 자신의 DBA 직원에 대한 보안 허가 요구 사항을 줄일 수 있습니다.</p>


  <p>TDE와 달리 이는 애플리케이션에 부분적으로만 투명합니다. 클라이언트 드라이버는 데이터를 투명하게 암호화하고 암호를 해독하지만 Always Encrypted의 요구 사항/제한 사항을 준수하도록 애플리케이션을 변경해야 할 수 있습니다. 예를 들어 Always Encrypted는 암호화된 데이터베이스 열에 대해 매우 제한된 작업만 지원합니다. 이는 Always Encrypted를 사용하여 선택한 데이터베이스 열에서 진정으로 중요한 데이터를 보호하는 것이 좋습니다.</p>


  <p>한 가지는 클라이언트 쪽에서 데이터를 암호화하여 Always Encrypted가 암호화된 열에 저장된 데이터를 미사용 및 전송 중에도 보호한다는 사실입니다. 그러나 사용 중인 중요한 데이터를 보호하는 것이 목표가 아닌 한 TDE는 미사용 암호화에 권장되는 선택이며 전송 중인 데이터를 보호하기 위해 TLS를 권장합니다. 실제로 Always Encrypted, TDE 및 TLS를 함께 사용하는 것이 좋습니다.</p>


  <ul>
   <li>TDE는 미사용 데이터베이스 전체를 암호화하기 위한 첫 번째 방어선(및 일반적인 규정 준수 요구 사항 충족)입니다.</li>
   <li>데이터베이스에 대한 모든 트래픽을 보호하기 위한 TLS입니다.</li>
   <li>항상 암호화되어 데이터베이스 환경에서 높은 권한의 사용자 및 맬웨어로부터 매우 중요한 데이터를 보호합니다.</li>
  </ul>


  <p>다음은 위에서 설명한 기능을 나란히 비교한 것입니다.</p>


  <table border="1" cellpadding="1" cellspacing="0">
   <tbody>
    <tr>
     <td valign="top">&nbsp;</td>
     <td valign="top">Always Encrypted</td>
     <td valign="top">TDE</td>
    </tr>
    <tr>
     <td valign="top"><strong>SQL Server 버전</strong></td>
     <td valign="top">SQL Server 2016 이상; Azure SQL Database</td>
     <td valign="top">SQL Server 2008 이상; Azure SQL Database</td>
    </tr>
    <tr>
     <td valign="top"><strong>SQL Server Enterprise 버전 필요</strong></td>
     <td valign="top">아니요(SQL Server 2016 SP1부터)</td>
     <td valign="top">Yes</td>
    </tr>
    <tr>
     <td valign="top"><strong>Azure SQL Database 무료</strong></td>
     <td valign="top">예</td>
     <td valign="top">예</td>
    </tr>
    <tr>
     <td valign="top"><strong>미사용 데이터 보호</strong></td>
     <td valign="top">예</td>
     <td valign="top">예</td>
    </tr>
    <tr>
     <td valign="top"><strong>사용 중인 데이터 보호</strong></td>
     <td valign="top">Yes</td>
     <td valign="top">예</td>
    </tr>
    <tr>
     <td valign="top"><strong>SQL 관리자 및 관리자로부터 데이터 보호</strong></td>
     <td valign="top">Yes</td>
     <td valign="top">예</td>
    </tr>
    <tr>
     <td valign="top"><strong>클라이언트 쪽에서 데이터가 암호화/암호 해독됨</strong></td>
     <td valign="top">Yes</td>
     <td valign="top">예</td>
    </tr>
    <tr>
     <td valign="top"><strong>서버 쪽에서 데이터가 암호화/암호 해독됨</strong></td>
     <td valign="top">예</td>
     <td valign="top">예</td>
    </tr>
    <tr>
     <td valign="top"><strong>열 수준에서 암호화</strong></td>
     <td valign="top">Yes</td>
     <td valign="top">아니요(전체 데이터베이스 암호화)</td>
    </tr>
    <tr>
     <td valign="top"><strong>애플리케이션에 투명</strong></td>
     <td valign="top">부분적으로</td>
     <td valign="top">Yes</td>
    </tr>
    <tr>
     <td valign="top"><strong>암호화 옵션</strong></td>
     <td valign="top">Yes</td>
     <td valign="top">예</td>
    </tr>
    <tr>
     <td valign="top"><strong>암호화 키 관리</strong></td>
     <td valign="top">고객 관리 키</td>
     <td valign="top">서비스 또는 고객 관리형 키</td>
    </tr>
    <tr>
     <td valign="top"><strong>사용 중인 키를 보호합니다.</strong></td>
     <td valign="top">Yes</td>
     <td valign="top">예</td>
    </tr>
    <tr>
     <td valign="top"><strong>드라이버 필요</strong></td>
     <td valign="top">Yes</td>
     <td valign="top">예</td>
    </tr>
   </tbody>
  </table>


  <h2>추가 정보:</h2>


  <ul>
   <li><a href="https://docs.microsoft.com/en-us/sql/sql-server/editions-and-components-of-sql-server-2016?view=sql-server-2017" target="_blank">버전 및 SQL Server 2016 의 지원 되는 기능</a></li>
   <li>Always Encrypted가 포함된 Channel 9 프레젠테이션의 경우 <a href="https://channel9.msdn.com/events/DataDriven/SQLServer2016/AlwaysEncrypted" target="_blank">Always Encrypted를 사용하여 중요한 데이터 보안 유지</a>를 참조하세요.</li>
   <li><a href="https://blogs.msdn.microsoft.com/sqlcat/2016/06/20/sqlsweet16-episode-1-backup-compression-for-tde-enabled-databases/" target="_blank">SQLSweet16!, 에피소드 1: TDE 사용 데이터베이스에 대한 백업 압축</a></li>
  </ul>

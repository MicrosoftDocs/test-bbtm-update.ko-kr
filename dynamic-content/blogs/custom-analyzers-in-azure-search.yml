### YamlMime:Yaml
ms.openlocfilehash: e63d8b4fa153fec7ac9785e2c01488a204a41b95
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139898041"
Slug: custom-analyzers-in-azure-search
Title: Azure Search의 사용자 지정 분석기
Summary: Azure Search에서 웹 및 모바일 애플리케이션을 빌드하는 개발자는 훌륭한 제품 환경을 제공하기 위해 검색 전문가가 될 필요가 없다고 생각합니다.
Content: >-
  <p>Azure Search에서 웹 및 모바일 애플리케이션을 빌드하는 개발자는 제품에 훌륭한 검색 환경을 추가하기 위해 검색 전문가가 되어야 한다고&rsquo; 생각합니다. 우리는 가치 제안의 핵심에 단순성을 두어 검색 서비스를 빠르고 쉽게 만들고 구성하는 프로세스를 만듭니다. 대부분의 경우 Azure Portal, 인덱서 및 SDK를 사용하는 고객은 30분 이내에 검색을 애플리케이션에 통합할 수 있습니다.</p>


  <p>단순성을 중시하지만 다양한 요구 사항이 있는 고객의 기대치를 충족하기 위해 노력합니다. 고급 시나리오를 해결하기 위해 서비스&#39;내부 작업의 특정 측면을 열었을&#39;있습니다. 예를 들어 여러 요인에 따라 인덱스에 있는 필드의 상대적 중요도를 다시 정의할 수 있도록 점수 매기기 <a href="https://msdn.microsoft.com/en-us/library/azure/dn798928.aspx">프로필을</a> 사용하여 문서의 순위를 지정하는 방법을 구성할 수 있습니다.</p>


  <p>동일한 원칙에 따라 사용자 지정 분석기를 정의하는 기능을 제공하여 어휘 분석을 제어하는 더 많은 방법을 전달하려고 합니다.</p>


  <h2>어휘 분석 사용자 지정</h2>


  <p>이전 게시물인 <a href="https://aka.ms/linguistics"><u><font color="#0066cc">Azure Search의 언어 지원에서</font></u></a> 어휘 분석의 개념을 설명합니다.&nbsp; &nbsp;자연어로 콘텐츠를 분석하는 복잡성과 이 프로세스가 사용되는 언어에 따라 어떻게 달라지는지 설명할 수 있습니다. 이 문제는 소스 코드, 태그 언어, 제품 코드 등을 포함하는 모든 텍스트로 일반화할 수 있습니다. 이러한 경우 어휘 분석기는&nbsp; 다른 모든 항목을 필터링하는 동안 중요한 용어를 추출할 수 있도록 올바르게 구성되어야 합니다.</p>


  <p>분석기는 다음을 지정하는 구성입니다.</p>


  <ul>
      <li>입력 텍스트에서 특정 문자 또는 기호를 &ndash; 필터링하거나 바꾸는 문자 필터 시퀀스</li>
      <li>tokenizer - 연속 텍스트를 독립 토큰으로 나눕니다(예: 문장을 단어로 나누기).</li>
      <li>토큰 필터 시퀀스 - 모든 문자를 소문자로 변환하는 소문자 필터와 같이 토큰 변환기에서 생성된 토큰을 필터링하거나 수정합니다.</li>
  </ul>


  <p>2015-02-28-Preview API 버전에서는 <a href="https://lucene.apache.org/core/">Lucene</a>에서 미리 정의된 토크나이저, 토큰 필터 및 문자 필터를 기반으로 사용자 지정 분석기를 만들 수 있는 새 인터페이스를 다시 공개할&#39;있습니다. 지원되는 모든 토케나이저, 토큰 필터 및 문자 필터 목록이 포함된 새 API에 대한 자세한 설명은 <a href="https://aka.ms/azsanalysis">여기에서</a> 찾을 수 있습니다.</p>


  <p>다음 섹션에서는 이름 카탈로그&nbsp;&nbsp;를 검색하기 위한 인덱스 정의를 작성하는 방법을 보여&#39;.</p>


  <h2>사용자 지정 분석기를 사용하여 검색하는 사용자</h2>


  <p>이 간소화된 예제에서는 모든 행위자의 가상 카탈로그를 검색하려고 합니다. 인덱스 정의는 다음과 같습니다.</p>


  <p><font face="Consolas" size="2">{<br />

  &nbsp;&quot;name&quot;:&quot;names&quot;,<br />

  &nbsp;&quot;fields&quot;:[<br />

  &nbsp;&nbsp;&nbsp; { &quot;name&quot;:&quot;id&quot;, &quot;type&quot;:&quot;Edm.String&quot;, &quot;key&quot;:true, &quot;searchable&quot;:false },<br />

  &nbsp;&nbsp;&nbsp; { &quot;name&quot;:&quot;name&quot;, &quot;type&quot;:&quot;Edm.String&quot; }<br />

  &nbsp; ]<br />

  }</font></p>


  <p><br />

  이 예제에서는 인덱스에 키 외에 필드 &quot;이름이&quot; 하나만 있습니다. 이름 필드는 검색할 수 있으므로 표준 토큰라이저 및 소문자 필터를 사용하는 기본 표준 분석기를 사용하여 분석됩니다. 스탤론&quot; 이름을 &quot;검색하면 실베스터 스탤론이 있는 문서가 반환됩니다. 그러나 Skarsgard 이름을 &quot;검색한 경우 쿼리의 이름이 .&#39;대신 &aring;&#39; &#39;철자가 잘못되었으므로 배우 &quot;스텔란 스카스가&aring;드가&quot; 반환되지&quot; 않습니다&#39;</p>


  <p>키보드에 쓸 때 사람들은 종종 발음을 건너 뜁니다. 다행히 ASCII가 아닌 모든 문자를 ASCII에 해당하는 문자로 변환 <a href="https://lucene.apache.org/core/4_10_0/analyzers-common/org/apache/lucene/analysis/miscellaneous/ASCIIFoldingFilter.html">하는 ASCII 접기 필터</a> 를 통해 이러한 상황을 쉽게 해결할 수 있습니다. 인덱스 정의를 다음과 같이 변경하여 표준 분석기 구성에 ASCII 접기 필터를 추가할 수 있습니다.</p>


  <p><font size="2"><font face="Consolas">{<br />

  &nbsp;&quot;name&quot;:&quot;names&quot;,</font></font><br />

  <font face="Consolas" size="2">&nbsp;&quot;fields&quot;:[<br />

  &nbsp;&nbsp;&nbsp; { &quot;name&quot;:&quot;id&quot;, &quot;type&quot;:&quot;Edm.String&quot;, &quot;key&quot;:true, &quot;searchable&quot;:false },<br />

  &nbsp;&nbsp;&nbsp; { &quot;name&quot;:&quot;name&quot;, &quot;type&quot;:&quot;Edm.String&quot;, <strong>&quot;analyzer&quot;:&quot;my_standard&quot;</strong> }<br />

  &nbsp; ],</font><br />

  <font face="Consolas"><font size="2"><strong>&nbsp;&quot;분석기&quot;:[<br />

  &nbsp;&nbsp;&nbsp; {<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;name&quot;:&quot;my_standard&quot;,<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;@odata.type&quot;:&quot;#Microsoft.Azure.Search.CustomAnalyzer&quot;,<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;tokenizer&quot;:&quot;standard&quot;,<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;tokenFilters&quot;:[ &quot;소문자&quot;, &quot;asciifolding&quot; ]<br />

  &nbsp;&nbsp;&nbsp; }<br />

  &nbsp; ]</strong><br />

  }</font></font></p>


  <p><br />

  이제 이름 필드에 분석기 속성이 <strong>my_standard</strong> 설정됩니다. ASCII 접기 필터는 검색 시간 및 인덱싱 시간에 적용됩니다.</p>


  <h2>윗주 검색</h2>


  <p>사용자 환경을 더욱 개선하기 위해 윗주 필터를 사용하여 쿼리와 같은&quot; 소리를 사용하도록 설정할 &quot;수 있습니다. 예를 들어 알렉 볼드윈&quot;을 &quot;검색한 경우 알렉 볼드윈에 대한 문서가 반환되지 않습니다. 이 문제를 해결하려면 윗주 토큰 필터를 사용하여 윗주 <a href="https://en.wikipedia.org/wiki/Metaphone">인코딩 알고리즘</a>을 사용하여 소리별로 이름을 인덱싱하도록 필드를 구성할 수 있습니다. 다음과 같이 인덱스 정의를 수정하여 이 필터를 추가할 수 있습니다.</p>


  <p><font face="Consolas" size="2">{<br />

  &nbsp;&quot;name&quot;:&quot;names&quot;,<br />

  &nbsp;&quot;fields&quot;:[<br />

  &nbsp;&nbsp;&nbsp; { &quot;name&quot;:&quot;id&quot;, &quot;type&quot;:&quot;Edm.String&quot;, &quot;key&quot;:true, &quot;searchable&quot;:false },<br />

  &nbsp;&nbsp;&nbsp; { &quot;name&quot;:&quot;name&quot;, &quot;type&quot;:&quot;Edm.String&quot;, &quot;analyzer&quot;:&quot;my_standard&quot; }<br />

  &nbsp; ],<br />

  &nbsp;&quot;분석기&quot;:[<br />

  &nbsp;&nbsp;&nbsp; {<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;name&quot;:&quot;my_standard&quot;,<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;@odata.type&quot;:&quot;#Microsoft.Azure.Search.CustomAnalyzer&quot;,<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;tokenizer&quot;:&quot;standard&quot;,<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;tokenFilters&quot;:[ &quot;소문자&quot;, &quot;asciifolding&quot;, <strong>&quot;phonetic&quot;</strong> ]<br />

  &nbsp;&nbsp;&nbsp; }<br />

  &nbsp; ]<br />

  }</font></p>


  <p><br />

  ASCII 접기 및 윗주 토큰 필터를 사용하면 카탈로그 이름을 검색하기 위한 애플리케이션이 사용자 실수 및 누락에 더 관대합니다.</p>


  <h2>인덱스 및 검색 관련 분석기</h2>


  <p>더 많은 유연성을 제공하기 위해 두 개의 새 필드 속성인 indexAnalyzer 및&nbsp;searchAnalyzer를 추가할&#39;있습니다. 이제 검색 시간 및 인덱싱 시간에&nbsp; 적용할 다른 분석기를 설정할 수&#39;있습니다. 예를 들어 이전 예제에서 행위자 이름에 빠른 접두사 일치를 사용하도록 설정하려는 경우 인덱싱 시 <a href="https://lucene.apache.org/core/4_10_3/analyzers-common/org/apache/lucene/analysis/ngram/EdgeNGramTokenFilter.html">edgeNGram</a> 토큰 필터를 적용하는 방법 중 하나가 될 수 있습니다. 이를 위해 효율적인 접두사 일치를 위해 인덱스 이름 조각에 전용 필드를 추가할&#39;있습니다. &#39;수정된 인덱스 정의를 살펴보겠습니다.</p>


  <p><font face="Consolas" size="2">{<br />

  &nbsp;&quot;name&quot;:&quot;names&quot;,<br />

  &nbsp;&quot;fields&quot;:[<br />

  &nbsp;&nbsp;&nbsp; { &quot;name&quot;:&quot;id&quot;, &quot;type&quot;:&quot;Edm.String&quot;, &quot;key&quot;:true, &quot;searchable&quot;:false },<br />

  &nbsp;&nbsp;&nbsp;{ &quot;name&quot;:&quot;name,type&quot;&quot;&quot;:&quot;Edm.String&quot;, &quot;analyzer&quot;:&quot;my_standard&quot; },<br />

  <strong>&nbsp;&nbsp;&nbsp; { &quot;name&quot;:&quot;partialName&quot;, &quot;type&quot;:&quot;Edm.String&quot;, &quot;searchAnalyzer&quot;:&quot;standard&quot;, &quot;indexAnalyzer&quot;:&quot;prefix&quot; }</strong><br />

  &nbsp; ],<br />

  &nbsp;&quot;분석기&quot;:[<br />

  &nbsp;&nbsp;&nbsp; {<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;name&quot;:&quot;my_standard&quot;,<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;@odata.type&quot;:&quot;#Microsoft.Azure.Search.CustomAnalyzer&quot;,<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;tokenizer&quot;:&quot;standard&quot;,<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;tokenFilters&quot;:[ &quot;소문자&quot;, &quot;asciifolding&quot;, &quot;phonetic&quot; ]<br />

  &nbsp;&nbsp;&nbsp; },</font><br />

  <font face="Consolas"><font size="2"><strong>&nbsp;&nbsp;&nbsp; {<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;name&quot;:&quot;prefix&quot;,<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;@odata.type&quot;:&quot;#Microsoft.Azure.Search.CustomAnalyzer&quot;,<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;tokenizer&quot;:&quot;standard&quot;,<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;tokenFilters&quot;:[ &quot;소문자&quot;, &quot;my_edgeNGram&quot; ]<br />

  &nbsp;&nbsp;&nbsp; }<br />

  &nbsp; ],<br />

  &nbsp;&quot;tokenFilters&quot;:[<br />

  &nbsp;&nbsp;&nbsp; {<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;name&quot;:&quot;my_edgeNGram&quot;,<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;@odata.type&quot;:&quot;#Microsoft.Azure.Search.EdgeNGramTokenFilter&quot;,<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;minGram&quot;:2,<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;maxGram&quot;:20<br />

  &nbsp;&nbsp;&nbsp; }<br />

  &nbsp; ]</strong><br />

  }</font></font></p>


  <p><br />

  각 이름에 대해 이 설정을 사용하면 여러 용어가 인덱싱됩니다. 예를 들어 Pacino라는 이름의 경우 <strong>접두사</strong> 분석기는 다음을 생성합니다.</p>


  <p><br />

  &nbsp;&nbsp;&nbsp; 펜 실바 니 아<br />

  &nbsp;&nbsp;&nbsp; Pac<br />

  &nbsp;&nbsp;&nbsp; paci<br />

  &nbsp;&nbsp;&nbsp; pacin<br />

  &nbsp;&nbsp;&nbsp; 파치노</p>


  <p><br />

  따라서 partialName 필드에 대해 Paci&quot;와 같은 &quot;검색 쿼리는 예상된 결과를 반환합니다. 부분 이름 필드에 대한 searchAnalyzer는 쿼리 용어가 이미 올바른 접두사 형식이므로 표준&quot;으로 설정&quot;됩니다.</p>


  <p>설명된 것과 유사한 인덱스 정의를 다시 빌드할&#39;경우 <a href="https://msdn.microsoft.com/en-us/library/azure/dn798928.aspx">점수 매기기 프로필을</a> 사용하여 정확한 이름 필드에 대한 일치 항목이 항상 부분 일치 항목보다 높은 점수를 매겨지도록 할 수 있습니다.</p>


  <p><font face="Consolas" size="2">&quot;scoringProfiles&quot;:[<br />

  &nbsp; {<br />

  &nbsp;&nbsp;&nbsp;&quot;name&quot;:&quot;exactFirst&quot;,<br />

  &nbsp;&nbsp;&nbsp;&quot;text&quot;:{<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;weights&quot;:{ &quot;name&quot;:2, &quot;partialName&quot;:1 }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font></p>


  <p><font face="Consolas" size="2">&nbsp;&nbsp;&nbsp; }<br />

  &nbsp; }<br />

  ]</font></p>


  <p><br />

  검색 요청은 다음과 같습니다.</p>


  <blockquote>

  <p><br />

  https://[서비스 이름].search.windows.net/indexes/names/docs?search=PaciscoringProfile&amp;=exactFirstapi-version&amp;=2015-02-28-Preview</p>

  </blockquote>


  <p>또는 최근에 노출된 <a href="https://msdn.microsoft.com/en-us/library/azure/mt589323.aspx">Lucene 쿼리 언어</a> 를 사용하고 쿼리의 일부로 필드의 상대적 중요도를 정의할 수 있습니다.</p>


  <blockquote>

  <p><br />

  https://[서비스 이름].search.windows.net/indexes/names/docs?search=name:Paci^2 partialName:PaciqueryType&amp;=fullapi-version&amp;=2015-02-28-Preview</p>

  </blockquote>


  <h2>요약</h2>


  <p>사용자 지정 분석기 구성을 만들 수 있게 함으로써 많은 기능을 손에 넣을&#39;있습니다. 권능으로는 책임이 따릅니다. 원하는 결과를 얻으려면 문서 및 검색 쿼리를 분석하는 방법에 대한 기본적인 이해가 필요합니다. 이 문서를 통해 더 쉽게 시작할 수 있기를 바랍니다.</p>


  <p>자세한 내용은 이 항목에 대한 <a href="https://aka.ms/azsanalysis">MSDN 설명서 페이지</a> 로 이동하세요. <a href="https://stackoverflow.com/tags/azure-search">Stack Overflow</a> 및 <a href="https://social.msdn.microsoft.com/Forums/en-US/home?forum=azuresearch">포럼</a>에 대한 질문과 함께 Azure Search에 자유롭게 문의하세요. 우리는 기꺼이 도움을 줄&#39;있으며, 언제나 그처럼 <a href="https://feedback.azure.com/forums/263029-azure-search/">피드백을</a> 계속 보내 드리겠습니다!</p>

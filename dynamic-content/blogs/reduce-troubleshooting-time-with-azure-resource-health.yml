### YamlMime:Yaml
ms.openlocfilehash: c6e56985410e6dc989d0f3df2638bc292187d330
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139912530"
Slug: reduce-troubleshooting-time-with-azure-resource-health
Title: Azure Resource Health를 사용하여 문제 해결 시간 단축
Summary: 오늘 개별 Azure 리소스의 상태를 노출하고 문제 해결을 위한 실행 가능한 지침을 제공하는 새로운 서비스인 Azure Resource Health의 공개 미리 보기를 발표하게 되어 기쁘게 생각합니다.
Content: >-
  <p>현재는 개별 Azure 리소스의 상태를 노출하고 문제 해결을 위한 실행 가능한 지침을 제공하는 새로운 서비스인 Azure Resource Health를 미리 볼 수 있게 되어 기쁩니다. 리소스 상태의 목표는 고객이 문제 해결에 소요되는 시간을 줄이는 것입니다. 특히 문제의 근본 원인이 애플리케이션 내에 있는지 또는 Azure 플랫폼 내의 이벤트로 인해 발생하는지 확인하는 데 소요되는 시간을 줄이는 것입니다.</p>


  <p>야간에 유지되는 항목에 대해 IT 관리자에게 문의하면 고가용성을 유지하고 도착하는 즉시 문제를 해결하고 해결할 수 있으면 상위 5개 항목이 됩니다. 이러한 요구 사항은 인프라의 서버 또는 다른 요소에 직접 액세스할 수 없으므로 클라우드 환경에서 더욱 중요해집니다.</p>


  <h1>리소스 상태는 서비스 상태 대시보드와 어떻게 다른가요?</h1>


  <p>리소스, 고객이 만든 서비스의 인스턴스(예: 가상 머신, 웹앱 또는 SQL 데이터베이스)를 고려합니다.</p>


  <p>이 정의에 따라 리소스 상태에서 제공하는 정보가 SHD(서비스 상태 대시보드)에서 제공하는 정보보다 더 세분화된 것을 빠르게 확인할 수 있습니다. SHD는 지역의 서비스 가용성에 영향을 주는 이벤트를 전달하는 반면, 리소스 상태는 노드가 예기치 않게 다시 부팅되는 등 적은 수의 고객에게 영향을 주는 플랫폼 이벤트를 노출합니다.</p>


  <p>이 릴리스에서는 가장 많이 사용되는 Azure 서비스인 IaaS 가상 머신(클래식에만 해당), Web Apps 및 SQL 데이터베이스의 Resource Health에 탑승했습니다.</p>


  <h1>구독에 있는 모든 리소스의 상태 가져오기</h1>


  <p>가장 쉬운 방법은 이 <a href="https://portal.azure.com/#blade/Microsoft_Azure_Support/ResourceBlade">링크를</a> 클릭하는 것이지만 도움말 + 지원 블레이드로 이동하여 구독의 총 리소스 수와 비정상 리소스 수를 나열하는 리소스 상태라는 새 타일을 확인할 수도 있습니다. 타일을 클릭하면 리소스 상태 블레이드에 표시됩니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8ae69278-101d-4e47-8044-697c82fc6350.png"><img alt="Azure Resource health " border="0" height="373" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/27792ac1-079e-499b-8487-8d7571bcf513.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" title="Azure 리소스 상태 " width="610"></a></p>


  <p>이 블레이드는 사용자가 리소스를 나열할 수 있는 구독의 모든 리소스 상태를 표시합니다. 각 리소스의 상태에는 다음 값 중 하나가 있습니다.</p>


  <ol>
   <li><strong>정상</strong>: 서비스에서 리소스를 사용할 수 없게 만들 수 있는 플랫폼에서 문제를 감지하지 못했습니다.</li>
   <li><strong>비정상</strong>: 플랫폼에서 이 리소스의 가용성에 영향을 주는 지속적인 문제가 있습니다(예: VM이 실행 중인 노드가 예기치 않게 다시 부팅됨).</li>
   <li><strong>중지됨</strong>: 사용자가 리소스를 중지했습니다.</li>
   <li><strong>알 수 없음</strong>: 서비스에서 5분 이상 이 리소스에 대한 하트비트를 받지 못했습니다. 이 게시물의 뒷부분에서 알 수 없음의 개념을 다시 살펴보겠습니다.</li>
  </ol>


  <p>각 리소스를 클릭하면 현재 상태에 따라 권장 작업에 대한 링크뿐만 아니라 리소스의 상태에 대한 추가 정보를 제공하는 새 블레이드가 열립니다.</p>


  <ul>
   <li>리소스가 정상인 경우 블레이드는 일반적으로 사용되는 문제 해결 도구에 대한 액세스를 제공합니다.</li>
  </ul>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/672d062f-56a1-46b3-9588-ba64c0aaf0ee.png"><img alt="Azure Resource health " border="0" height="610" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/46b7d71f-0c57-4555-9084-1f75c6aacf55.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" title="Azure 리소스 상태 " width="256"></a></p>


  <ul>
   <li>리소스가 비정상인 경우 리소스를 사용할 수 없는 기간에 따라 권장 사항이 달라집니다. 예를 들어 VM을 20분 동안 사용할 수 없는 경우 서비스는 VM을 다시 만드는 것이 좋습니다. 또는 프로덕션 VM의 경우 지원 티켓을 여는 것이 좋습니다.</li>
  </ul>


  <p>앞에서 설명한 것처럼, 우리의 목표는 고객이 문제 해결에 소요되는 시간을 줄이는 것입니다. 먼저 문제의 원인을 식별하는 데 도움을 주고, 두 번째는 적절한 문제 해결 도구에 대한 빠른 액세스를 제공하여 문제를 해결하는 데 소요되는 시간을 줄이는 것입니다.</p>


  <h1>신호 대기 시간 및 유의해야 할 기타 중요한 사항</h1>


  <p>처음부터 플랫폼의 이벤트에 영향을 받는 경우 가능한 한 빨리 고객에게 알리기 위해 열심히 노력했습니다. 리소스 상태 블레이드를 방문하면 위쪽에 신호가 최대 15분 지연될 수 있음을 나타내는 상자가 표시됩니다. 가능한 문제를 조사하는 데 불필요한 시간을 제거하는 데 도움이 되므로 이 점을 염두에 두어야 합니다.</p>


  <p>이 대기 시간을 최대한 줄이기 위해 최선을 다하고 있으며 서비스를 계속 최적화하면서 개선될 것으로 예상한다고 말할 필요도 없습니다.</p>


  <p>유의해야 할 또 다른 중요한 점은 리소스의 가용성이 결정되는 방식입니다. 이 미리 보기 릴리스 상태에서는 인프라의 컴퓨팅 부분만 고려하며 네트워크를 포함하지 않습니다. 가능한 한 빨리 네트워킹을 서비스에 온보딩하기 위해 노력하고 있습니다.</p>


  <p>SQL 데이터베이스의 상태가 어떻게 결정되는지 좀 더 자세히 알아보고 싶습니다. 디자인하는 동안 SQL Server 또는 SQL 데이터베이스의 가용성을 노출하는 옵션이 있었고 고객이 사용하는 것을 더 잘 반영하기 때문에 데이터베이스로 전환하기로 결정했습니다.</p>


  <p>이 경로를 진행하면 고객에게 더 나은 환경을 제공하지만, 가상 머신 또는 웹 사이트와는 매우 다른 데이터베이스의 상태를 확인하기 위해 고려해야 하는 여러 구성 요소 및 서비스를 고려해야 하므로 팀에 매우 흥미로운 과제가 생겼습니다. 여기서 호스트를 살펴보면 리소스를 사용할 수 있는지 여부를 확인할 수 있습니다. 이 첫 번째 릴리스에서는 데이터베이스에 대한 로그인을 사용하는 신호를 사용합니다. 즉, 일반 로그인을 수신하는 데이터베이스(무엇보다도 쿼리 실행 요청 수신 포함)의 상태가 정기적으로 표시됩니다. 데이터베이스가 10분 이상 액세스되지 않은 경우 알 수 없는 상태로 이동됩니다.</p>


  <p>아래와 같이 데이터베이스를 사용할 수 없게 되었다는 의미는 아니며, 로그인이 수행되지 않았기 때문에 신호가 내보내지지 않았습니다. 데이터베이스에 연결하고 쿼리를 실행하면 데이터베이스 상태를 확인하는 데 필요한 신호를 내보냅니다.</p>


  <h1>리소스의 상태가 비정상으로 설정된 경우</h1>


  <p>서비스가 일정 기간 동안 리소스로부터 신호를 받지 못하면 리소스의 상태는 알 수 없음으로 설정됩니다. 이는 리소스에 문제가 있다는 확실한 표시가 아니며 고객은 다음 권장 사항을 따라야 합니다.</p>


  <ul>
   <li>리소스가 예상대로 실행 중이지만 리소스 상태에서 상태를 알 수 없는 상태로 설정된 경우 아무런 문제가 없으며 리소스 상태가 단기간에 정상으로 업데이트될 것으로 예상할 수 있습니다.</li>
   <li>리소스에 액세스하는 데 문제가 발생하고 해당 상태가 리소스 상태에서 알 수 없음으로 설정된 경우 이는 문제가 있다는 조기 징후일 수 있으며 상태가 정상 또는 비정상으로 업데이트되는 동안 더 심층적인 조사를 수행해야 합니다.</li>
  </ul>


  <p>앞에서 설명한 것처럼 데이터베이스가 지난 10분 동안 로그인 요청을 받지 못한 경우 SQL 데이터베이스 상태를 알 수 없도록 설정됩니다.</p>


  <h1>가상 머신에 대한 추가 주문형 검사</h1>


  <p>가상 머신에 사용할 수 있는 권장 작업 중 하나는 VM에서 실시간 검사를 실행하는 것입니다. 이 작업은 가상 머신을 사용할 수 있고 예상대로 실행되는지 확인하기 위해 Azure 컴퓨팅 패브릭 및 기타 내부 Azure 서비스를 심문합니다. 검사가 완료되면 결과에 대한 알림이 표시되고 권장 작업 목록이 제공됩니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/72ba3de0-8733-48cc-85f1-fe3072151f72.png"><img alt="Azure Resource health " border="0" height="480" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d3a0da64-ca9c-420e-b51e-2fbafd3784fa.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" title="Azure 리소스 상태 " width="281"></a></p>


  <p>주문형 검사는 15분마다 한 번씩 실행할 수 있습니다. 15분이 지나기 전에 수표 요청이 제출되면 마지막 검사 결과가 반환됩니다.</p>


  <p>이 도구는 VM 및 리소스 상태에 문제가 발생할 때 VM의 상태가 정상 또는 알 수 없음으로 설정된 경우에 사용할 수 있는 유용한 도구입니다.</p>


  <h1>API를 통해 서비스에 액세스</h1>


  <p>오늘 릴리스의 일부로 리소스 상태에 연결하는 데 사용할 수 있는 API도 릴리스됩니다. 이 API에는 구독의 모든 리소스, 리소스 그룹 또는 특정 리소스의 모든 리소스를 쿼리하는 호출이 포함됩니다. API를 사용하여 리소스 상태에 연결하기 전에 다음 URL에 POST 요청을 제출하여 구독을 서비스에 등록해야 합니다.</p>


  <ul>
   <li>POST <a href="https://management.azure.com/subscriptions/%3cSubID%3e/providers/Microsoft.ResourceHealth/register?api-version=2015-01-01">https://management.azure.com/subscriptions/&lt; SubID&gt;/providers/Microsoft.ResourceHealth/register?api-version=2015-01-01</a></li>
  </ul>


  <p>그런 다음 다음 호출을 사용하여 서비스에 문의할 수 있습니다.</p>


  <ul>
   <li>구독에 있는 모든 리소스의 GET 상태: https://management.azure.com/subscriptions/&lt; SubID&gt;/providers/Microsoft.ResourceHealth/availabilityStatuses?api-version=2015-01-01</li>
   <li>리소스 그룹에 있는 모든 리소스의 상태 가져오기: https://management.azure.com/subscriptions/&lt; SubID&gt;/resourceGroups/&lt;ResourceGroupName&gt;/providers/Microsoft.ResourceHealth/availabilityStatuses?api-version=2015-01-01</li>
   <li>단일 리소스&nbsp;https://management.azure.com//subscriptions/&lt의 상태를 가져옵니다. ; SubID&gt;/resourceGroups/&lt;ResourceGroupName&gt;/providers/&lt;ResourceProviderResourceTypeResourceName&gt;&gt;&lt;&gt;/&lt;//providers/Microsoft.ResourceHealth/availabilityStatuses/current?api-version=2015-01-01</li>
  </ul>


  <p><a href="https://github.com/projectkudu/ARMClient">armclient</a>와 같은 도구를 사용하여 API를 쉽게 테스트할 수 있습니다.</p>


  <h1>전진</h1>


  <p>우리는 이 이정표에 도달하게 되어 매우 기쁘지만, 이것이 긴 여정의 첫 번째 단계라는 것을 알고 있습니다. 귀하의 의견을 기대하므로 아래에 의견을 남겨 주시기 바랍니다.</p>

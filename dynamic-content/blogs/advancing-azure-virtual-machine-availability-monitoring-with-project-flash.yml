### YamlMime:Yaml
ms.openlocfilehash: e782bbef4817059b0432171eb159b964a41d879b
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139898779"
Slug: advancing-azure-virtual-machine-availability-monitoring-with-project-flash
Title: Project Flash를 사용하여 Azure Virtual Machine 가용성 모니터링 발전
Summary: 오늘 프로젝트의 처음 두 가지 마일스톤인 Azure Resource Graph VM 가용성 데이터의 미리 보기 및 Azure Monitor의 VM 가용성 메트릭 프라이빗 미리 보기의 완료를 발표하게 되어 기쁩니다.
Content: >-
  <p>&ldquo;<em><a href="https://www.aka.ms/AdvancingReliability" target="_blank">안정성 향상 블로그 시리즈의</a> 4년차를 맞이하면서 조직이 Azure에서 워크로드를 안정적으로 실행할 수 있도록 하는 것이 우리의 최우선 과제 중 하나입니다. 우리는 매일 이를 달성하기 위해 Azure 플랫폼을 발전시키는 데 지속적으로 투자하고 있습니다. 강력하고 포괄적인 방식으로 VM(가상 머신) 가용성을 모니터링하는 기능은 애플리케이션을 사용할 수 있고 복원력이 있는지 확인하는 데 가장 중요합니다. 이 시리즈의 오늘&rsquo; 게시물에서는 Azure Core Platform Fundamentals Engineering 팀의 Program Manager <strong>Pujitha Desiraju</strong>에게 VM 가용성 모니터링에 대한 최신 관찰 기능 향상과 최상의 모니터링 환경을 제공하기 위한 계획된 투자에 대해 이야기해 달라고 요청</em>했습니다.&rdquo;&mdash; Mark Russinovich, CTO, Azure</p>


  <hr>

  <p>&nbsp;</p>


  <p><em>이 게시물은 수석 소프트웨어 엔지니어링 관리자인 <strong>Gaurav Jagtiani</strong>가 공동 저술했습니다.</em></p>


  <p>프로젝트가 내부적으로 알려진 것처럼 Flash는 Azure VM(가상 머신) 가용성 모니터링 에코시스템을 중앙 집중식의 전체적이고 이해할 수 있는 솔루션으로 발전시키는 것을 목표로 하는 Azure&rsquo; Engineering 전반의 노력 모음입니다. 오늘,&rsquo; 프로젝트의&rsquo; 완료를 발표하게 되어 기쁩니다. <a href="https://azure.microsoft.com/features/resource-graph/">Azure</a>&mdash; Resource Graph VM 가용성 데이터의 미리 보기와 <a href="https://azure.microsoft.com/en-us/services/monitor/">Azure Monitor</a>의 VM 가용성 메트릭 프라이빗 미리 보기입니다.</p>


  <h2>Project Flash란?</h2>


  <p>Project Flash는 효율적인 애플리케이션 성능을 위해 가능한&mdash; 한 포괄적으로 VM(가상 머신) 가용성을 모니터링하는 강력하고 신속한 방법을 구축하려는 노력에서 그 이름을 파생합니다. 다음&rsquo;을 수행할 수 있도록 하는 것이 우리의 사명입니다.</p>


  <ul>
      <li>VM 가용성 중단(예: VM 다시 부팅 및 다시 시작, 네트워크 드라이버 업데이트로 인한 애플리케이션 동결 및 30초 호스트 OS 업데이트)에 대한 <strong>정확하고 실행 가능한 데이터</strong>와 정확한 오류 세부 정보(예: 플랫폼 대 사용자 시작, 재부팅 대 동결, 계획되지 않음 및 계획되지 않음)를 사용합니다.</li>
      <li>빠른 디버깅 및 월별 보고를 위해 <strong>VM 가용성의 추세를 분석하고 경고</strong>합니다.</li>
      <li><strong>정기적으로 대규모로 데이터를 모니터링하고</strong> 사용자 지정 대시보드를 빌드하여 모든 리소스의 최신 가용성 상태를 업데이트합니다.</li>
      <li>영향을 받는 VM, 가동 중지 시간 원인 및 기간, 결과 수정 및 유사&mdash; 항목에 대해 자세히 설명하는 <strong>자동화된 RCA(근본 원인 분석)를 수신</strong>하여 대상 조사 및 사후 분석을 사용하도록 설정합니다.</li>
      <li>VM 가용성의 중요한 변경 사항에 대한 <strong>즉각적인 알림을 수신</strong>하여 신속하게 수정 작업을 트리거하고 최종 사용자에게 미치는 영향을 방지합니다.</li>
      <li>끊임없이 변화하는 워크로드 민감도 및 장애 조치(failover) 요구에 따라 <strong>플랫폼 복구 정책을 동적으로 조정하고 자동화</strong>합니다.</li>
  </ul>


  <p>이러한 목표를 염두에 두고&rsquo; 실행 전략을 중요한 현재 요구 사항을 충족하기 위한 두 단계&mdash; 단기 단계와 최상의 VM 가용성 모니터링 환경을 제공하는 장기 단계로 나뉘었습니다. 이 2단계 접근 방식은 지속적으로 격차를 해소하고, 서비스 품질을 반복하며, 그 과정에서 모든 단계에서 피드백을 통해 학습하는 데 도움이 됩니다.</p>


  <h2>새 모니터링 옵션 발표</h2>


  <p>첫 번째 단계에서는 다양한 관찰 요구 사항을 해결하기 위해 VM 가용성 데이터에 편리하게 액세스할 수 있도록 다양한 옵션을 제공합니다. <a href="https://docs.microsoft.com/en-us/azure/service-health/resource-health-overview" target="_blank">리소스 상태</a> 또는 <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/essentials/activity-log" target="_blank">활동 로그</a>와 같은 모든 기존 기능 및 솔루션에서 유사한 엄격한 품질 표준으로 데이터 일관성을 유지하여 선택한 솔루션에 관계없이 일관된 보기를 제공하는 것을 목표로 합니다.</p>


  <h3>VM 가용성에 대한 대규모 분석 소개</h3>


  <p>오늘 Azure&rsquo; Resource Graph VM 가용성 상태의 미리 보기 릴리스를 통해 첫 번째 Project Flash 마일스톤&mdash;에 도달하게 되어 기쁩니다.</p>


  <p><a href="https://docs.microsoft.com/en-us/azure/governance/resource-graph/overview" target="_blank">Azure Resource Graph</a> 많은 구독에서 동시에 짧은 대기 시간에 쿼리하는 효율적인 기능을 위해 광범위하게 채택된 Azure의 서비스입니다. &rsquo;현재 Azure Resource Graph 상태 리소스 테이블에 <a href="https://docs.microsoft.com/en-us/azure/service-health/resource-health-overview#health-status" target="_blank">VM 가용성 상태</a>(사용 가능, 사용할 수 없음 및 알 수 없음)를 내보내므로 대규모 데이터 세트를 한 번에 체빙하기 위해 복잡한 <a href="https://docs.microsoft.com/en-us/azure/data-explorer/data-explorer-overview" target="_blank">KQL(Kusto Query Language) 쿼리</a>를 수행할 수 있습니다. 이 기능은 VM 가용성의 기록 변경 내용을 추적하고, 사용자 지정 대시보드를 빌드하고, 여러 테이블에 분산된 수많은 리소스 속성에 대한 자세한 조사를 수행하는 데 유용합니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f4377708-8c04-45d9-835d-d5c503b8db87.png"><img alt="Azure Resource Graph Explorer Window with query and results, to demonstrate fetching data from the HealthResources table." border="0" height="449" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/550dc050-72b4-40b0-a5e5-df5af79f169c.png" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="그림 1 ARG 탐색기 창" width="1024"></a></p>


  <p><em><strong>그림 1:</strong> 쿼리 및 결과가 포함된 Azure Resource Graph 탐색기 창에서 HealthResources 테이블에서 데이터를 가져오는 방법을 보여 줍니다.</em></p>


  <ol>

  </ol>


  <p>올해 하반기에 Azure Resource Graph 상태 리소스 테이블에 오류 세부 정보 및 저하된 VM 시나리오를 추가할 계획입니다. 이러한 세부 정보는 장애 조치(failover) 또는 다시 부팅 또는 최종 사용자 영향을 방지하기 위해 적절한 완화 조치를 취할 수 있는 모든 오류&mdash;의 원인과 영향에 대해 제대로 알 수 있도록 합니다.</p>


  <p><a href="https://ms.portal.azure.com/#blade/HubsExtension/ArgQueryBlade/resourceType/Microsoft.Resources%2Fresources" target="_blank">Azure Portal에서 Azure Resource Graph Explorer</a>로 이동하여 <a href="https://docs.microsoft.com/en-us/azure/governance/resource-graph/samples/samples-by-table?tabs=azure-cli#healthresources" target="_blank">상태 리소스 테이블에 대해 게시된</a> KQL 쿼리를 시작합니다.</p>


  <h3>Azure Monitor에서 VM 가용성 메트릭 소개</h3>


  <p>&rsquo;또한 큐레이팅된 메트릭 경고 및 모니터링 환경을 위해 Azure Monitor에서 기본 제공 VM 가용성 메트릭의 프라이빗 미리 보기를 발표하게 되어 기쁘게 생각합니다.</p>


  <p><a href="https://docs.microsoft.com/en-us/azure/azure-monitor/essentials/data-platform-metrics" target="_blank">Azure Monitor의 메트릭</a> 은 빠르고 쉬운 디버깅을 위해 VM 가용성의 시계열 표현을 모니터링하고 분석하고, 추세에 관한 범위가 지정된 경고를 수신하고, 가용성 저하의 초기 지표를 파악하고, 다른 플랫폼 메트릭과 상관 관계를 파악하는 데 유용합니다.</p>


  <p>메트릭을 사용하면 VMsduring&mdash; 예상 동작의 펄스를 추적할 수 있으며 메트릭은 1 값을 표시합니다. VM 가용성 중단에 대한 응답으로 메트릭은 영향 기간 동안 0으로 감소합니다. Azure 인프라 중단의 경우 포털에서 점선으로 표시되는 null을 내보낼 것입니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/682a713e-22d0-4f16-8c2a-637804d289ae.png"><img alt="Screenshot of VM availability metric as seen on Metrics Explorer in the Azure portal, with occasional dips to reflect VM availability disruptions." border="0" height="445" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6800f334-da66-4a18-8b2a-2a10a6b1345a.png" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="VM 가용성 메트릭의 스크린샷" width="1024"></a></p>


  <p><em><strong>그림 2:</strong> Azure Portal의 메트릭 탐색기에서 볼 수 있는 VM 가용성 메트릭의 스크린샷으로, VM 가용성 중단을 반영하기 위해 가끔 감소합니다.</em></p>


  <p>출시 계획의 1단계로 메트릭의 프라이빗 미리 보기를 릴리스했으며, 현재 제품을 더욱 개선하기 위해 고객 피드백을 수집하고 있습니다. 영향을 주는 오류 시나리오를 정확하게 경고할 수 있도록 내년에 메트릭 차원 및 플랫폼 로그와 같은 오류 세부 정보를 추가할 계획입니다.</p>


  <h2>제공 예정</h2>


  <p>위에서 소개한 두 가지 모니터링 옵션은 Project Flash의 시작에 불과합니다. 데이터 품질 및 오류 특성을 개선하여 기존 솔루션을 계속 구축할 것입니다. 이와 동시에 대기 시간 및 완화 요구 사항을 충족하는 두 가지 새로운 모니터링 제품을 설계하는 한편, 오류 감지를 보다 복원력 있고 포괄적으로 만들기 위해 기본 플랫폼에 많은 투자를 하고 있습니다.</p>


  <h3>즉각적인 알림을 위한 Azure Event Grid</h3>


  <p>중요 비즈니스용 애플리케이션을 성공적으로 실행하려면 이벤트에 영향을 미치는 VM 가용성에 대한 하이퍼 인식이 필요하므로 최종 사용자 영향을 방지하기 위해 수정 작업을 즉시 트리거할 수 있습니다. 매일 작업을 지원하기 위해 <a href="https://docs.microsoft.com/en-us/azure/event-grid/overview" target="_blank">Azure Event Grid</a>의 대기 시간이 짧은 기술을 활용하는 알림 메커니즘을 설계할 계획입니다. 이렇게 하면 <a href="https://docs.microsoft.com/en-us/azure/event-grid/system-topics" target="_blank">Event Grid 시스템 토픽</a>을 구독하고 이벤트 <a href="https://docs.microsoft.com/en-us/azure/event-grid/event-handlers" target="_blank">처리기를</a> 통해 범위가 지정된 이벤트를 즉시 모든 다운스트림 도구로 라우팅할 수 있습니다.</p>


  <h3>플랫폼 복구 정책 자동화 및 조정</h3>


  <p>VM 가용성 모니터링 환경을 개선하기 위한 수많은 지속적인 투자를 고려할 때 Project Flash는 VM 가용성 중단 사례에 대응하여 플랫폼에 의해 트리거되는 복구 정책을 사용자 지정하는 노브를 제공하여 사용자에게 더욱 많은 권한을 부여하고자 합니다.</p>


  <p>설계 중인 이러한 노브 중 하나는 예기치 않은 가용성 중단의 특정 집합에 대응하여 단일 인스턴스 VM에 대한 <a href="https://azure.microsoft.com/en-us/blog/service-healing-auto-recovery-of-virtual-machines/" target="_blank">서비스 복구</a> 를 옵트아웃하는 기능입니다. 이 노브는 포털 또는 VM 배포 시 사용할 수 있으며 동적으로 업데이트할 수 있습니다. 이 기능을 활용하면 일반적인 Azure Virtual Machine 가용성 SLA가 비효율적입니다.</p>


  <p align="left">앞으로는 끊임없이 변화하는 완화 요구에 쉽게 적응할 수 있도록 기타 적용 가능한 복구 정책(예: <a href="https://azure.microsoft.com/en-us/blog/improving-azure-virtual-machine-resiliency-with-predictive-ml-and-live-migration/" target="_blank">Live Migration</a> 또는 <a href="https://azure.microsoft.com/en-us/blog/improving-azure-virtual-machines-resiliency-with-project-tardigrade/" target="_blank">Tardigrade</a>)을 옵트아웃하는 노브를 도입하는 방법을 살펴보겠습니다.</p>


  <h3>지속적인 플랫폼 품질 투자</h3>


  <p>첫 번째 단계는 현재 관찰 가능성 요구 사항을 충족하도록 설계되어 있지만 VM 가용성을 둘러싼 세계적 수준의 관찰 환경을 제공하는 장기적인 목표에 초점을 맞추고 있습니다. 이러한 환경에 기여할 모든 데이터 보강 및 기술 발전에 대해 매우 기쁘게 생각하고 있으므로&rsquo; 계획된 투자의 로드맵을 미리 살펴보겠습니다.</p>


  <ol>
      <li><strong>오류 검색 및 특성:</strong> 알 수 없거나 누락된 상태 보고서를 줄이고, 실행 가능한 오류 세부 정보를 내보내고, 플랫폼 복구 사용자 지정을 처리할 수 있도록 오류를 정확하고 즉각적으로&mdash; 감지하고 특성화하기 위해 기본 인프라를 지속적으로 발전시키고 있습니다. 이것은 우리가 모든 주기를 반복하는 우리의 최고 투자 영역 남아있다.</li>
      <li><strong>RCA(근본 원인 분석) 자동화:</strong> 모든 고유한 VM 가동 중지 시간에 대해 손쉬운 추적 메커니즘을 구현하고, 자세한 가동 중지 시간 RCA 문을 자동으로 생성 및 방출하여 수동 추적 및 이탈을 줄일 계획입니다.</li>
      <li><strong>AIOps 통합:</strong> Microsoft는 다양한 VM 가용성 데이터 요소에서 스마트 인사이트 및 변칙 검색 및 진단을 가능하게 하기 위해 Microsoft의 <a href="https://azure.microsoft.com/en-us/blog/advancing-azure-service-quality-with-artificial-intelligence-aiops/" target="_blank">AIOps</a> 에서 엄청난 발전을 활용하고자 합니다.</li>
      <li><strong>중앙 집중식 및 응집력 있는 사용자 환경:</strong> 단기적인 접근 방식의 결과는 다양한 서비스에 걸쳐 여러 모니터링, 경고 및 복구 도구가 있어 혼란스럽고 서로 다른 환경으로 이어질 수 있음을 인정합니다. 이것은 우리가 우리의 마지막 단계로 해결하고자하는 문제입니다. 우리의 북성 목표는 최종 사용자에게 VM 가용성의 고유하고 필요한 표현에 대한 액세스를 제공하고, <a href="https://azure.microsoft.com/en-us/services/monitor/" target="_blank">Azure Monitor</a> 내에서 통합되고, 검색 가능성, 사용 편의성 및 직관적인 온보딩을 위한 일반적인 사용 패턴에 따라 분류되는 것입니다.</li>
  </ol>


  <h2>자세한 정보</h2>


  <p>이 목록은 확실히 우리가 우리의 장기 전략의 일환으로 계획 된 여러 보강이 있기 때문에 완전하지 않습니다. 다시 말하지만, Project Flash의 의도는 VM 가용성 모니터링을 매우 직관적이고 포괄적이며 원활한&mdash; 방식으로 만드는 것이며, 워크로드 상태의 변화에 대해 항상 준비하고 정보를 제공하며 궁극적으로는 사용자 고유의 SLA 및 비즈니스 약속을 유지하기 위한 것입니다.</p>


  <p>이러한 블로그를 통해 Project Flash에 대한 업데이트를 계속 공유하여 최신 정보를 확인할 수 있습니다. 기대해 주세요.</p>

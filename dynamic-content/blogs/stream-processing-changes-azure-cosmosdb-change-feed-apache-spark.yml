### YamlMime:Yaml
ms.openlocfilehash: 5ac1ed4703bd9ed5a6bbd166fa8c4c6672ca6a3b
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139900283"
Slug: stream-processing-changes-azure-cosmosdb-change-feed-apache-spark
Title: '스트림 처리 변경 내용: #Azure #CosmosDB 변경 피드 + Apache Spark'
Summary: Azure Cosmos DB는 전역적으로 분산된 빠른 다중 모델 데이터베이스 서비스입니다. 이 문서에서는 Azure Cosmos DB 변경 피드 및 Apache Spark를 사용하여 데이터에 대한 업데이트의 스트림 처리를 자세히 살펴봅니다.
Content: >-
  <h2>Azure Cosmos DB: 수집 및 스토리지 올인원</h2>


  <p>Azure Cosmos DB는 전역적으로 분산된 빠른 다중 모델 데이터베이스 서비스입니다. 고객이 어디에 있든 관계없이 지속적인 높은 수집 속도로 99번째 백분위수에서 한 자리 대기 시간으로 Azure Cosmos DB에 저장된 데이터에 액세스할 수 있습니다. 이 속도는 Azure Cosmos DB를 스트림 처리용 싱크로 사용할 뿐만 아니라 원본으로도 사용할 수 있습니다. 이전 블로그에서는 <a href="https://azure.microsoft.com/en-us/blog/spark-connector-for-cosmosdb-seamless-interaction-with-globally-distributed-multi-model-data/" target="_blank">Apache Spark 및 Azure Cosmos DB</a>를 사용하여 실시간 기계 학습을 수행할 수 있는 가능성을 살펴보했습니다. 이 문서에서는 Azure Cosmos DB 변경 피드 및 Apache Spark를 사용하여 데이터에 대한 업데이트의 스트림 처리를 자세히 살펴봅니다.</p>


  <h2>Azure Cosmos DB 변경 피드란?</h2>


  <p>Azure Cosmos DB <a href="https://docs.microsoft.com/azure/cosmos-db/change-feed" target="_blank">변경 피드</a>는 수정된 순서대로 Azure Cosmos DB 컬렉션 내에서 정렬된 문서 목록을 제공합니다. 이 피드는 업데이트에 대한 실시간(스트림) 처리를 수행하기 위해 컬렉션 내의 데이터에 대한 수정 사항을 수신 대기하는 데 사용할 수 있습니다. Azure Cosmos DB의 변경 내용이 유지되면 비동기적으로 처리되고 병렬 처리를 위해 한 명 이상의 소비자에게 분산될 수 있습니다. 변경 피드는 컬렉션을 만들 때 사용하도록 설정되며 <a href="https://azure.microsoft.com/en-us/blog/introducing-the-azure-cosmosdb-change-feed-processor-library/" target="_blank">변경 피드 프로세서 </a><a href="https://azure.microsoft.com/en-us/blog/introducing-the-azure-cosmosdb-change-feed-processor-library/" target="_blank">라이브러리</a>에서 사용하기가 간단합니다.</p>


  <h2>Azure Cosmos DB를 사용하여 시스템 디자인</h2>


  <p>일반적으로 스트림 처리 구현은 먼저 Azure Event Hub 또는 Apache Kafka와 같은 임시 메시지 큐에 대량의 들어오는 데이터를 수신합니다. 데이터를 스트림 처리한 후 구체화된 뷰 또는 집계가 쿼리 가능한 영구 데이터베이스에 저장됩니다. 이 구현에서는 Azure Cosmos DB Spark 커넥터를 사용하여 문서, 그래프 또는 테이블 스키마에 대한 Azure Cosmos DB에 Spark 출력을 저장할 수 있습니다. 이 디자인은 들어오는 데이터의 일부 또는 들어오는 데이터의 집계만 유용한 시나리오에 적합합니다.</p>


  <p align="center"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/fbce437b-fbb7-4029-af97-bd4ce1f6732d.png"><img alt="traditional-stream-processing-model" border="0" height="236" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/666d7f68-422d-412e-86e8-d91750a04c40.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="traditional-stream-processing-modelFigure" width="640"></a> <em>1: 기존 스트림 처리 모델</em></p>


  <p align="left">&rsquo;신용 카드 사기 감지 시나리오를 살펴보겠습니다. 들어오는 모든 데이터(새 트랜잭션)는 수신되는 즉시 유지되어야 합니다. 새 데이터가 들어오면 기계 학습 분류자를 증분 방식으로 적용하여 사기성 동작을 감지하려고 합니다.</p>


  <p align="left"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5a2ba513-fa06-4247-8012-d3bb15ecc472.png"><img alt="detecting-credit-card-fraud" border="0" height="278" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/eaca6b6b-ee69-4d81-a2e8-991afc3a6c0e.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="신용 카드 사기 감지" width="640"></a></p>


  <p align="center"><em>그림 2: 신용 카드 사기 감지</em></p>


  <p align="left">이 시나리오에서 Azure Cosmos DB는 원시 레코드를 지속적이고 동기적으로 인덱싱하면서 지속적인 높은 수집 속도를 지원하는 고유한 기능으로 인해 새 트랜잭션에서 모든 데이터를 직접 수집할 수 있는 좋은 선택입니다. 이러한 레코드는 대기 시간이 짧은 풍부한 쿼리로 다시 제공될 수 있습니다. Azure Cosmos DB 변경 피드에서 Apache Storm, Apache Spark 또는 Apache Hadoop과 같은 컴퓨팅 엔진을 연결하여 스트림 또는 일괄 처리를 수행할 수 있습니다. 사후 처리, 구체화된 집계 또는 처리된 데이터는 향후 쿼리를 위해 Azure Cosmos DB에 영구적으로 다시 저장할 수 있습니다.</p>


  <p align="left"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0266d41a-5afe-4551-b7e8-2c8640d28ca4.png"><img alt="azure-cosmosdb-sink-and-source" border="0" height="204" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/88ba292c-6802-46e6-95db-44b90d0d029a.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="azure-cosmosdb-sink-and-source" width="640"></a></p>


  <p align="center"><em>그림 3: Azure Cosmos DB 싱크 및 원본</em></p>


  <p align="left"><a href="https://docs.microsoft.com/azure/cosmos-db/change-feed" target="_blank">Azure Cosmos DB 문서에서 변경 피드 지원 작업 및 GitHub</a> <a href="https://aka.ms/cosmosdb-changefeed-spark" target="_blank">변경 피드 + Spark 예제를 시도하여 변경 피드에 대해</a> 자세히 알아볼 수 있습니다. 도움이 필요하거나 질문이나 피드백이 있는 경우 <a href="https://stackoverflow.com/questions/tagged/azure-cosmosdb" target="_blank">Stack Overflow의 개발자 포럼에</a> 문의하세요. Twitter<a href="https://twitter.com/AzureCosmosDB" target="_blank">@AzureCosmosDB</a>에서 최신 Azure Cosmos DB 뉴스 및 기능을 최신 상태로 유지하세요.</p>

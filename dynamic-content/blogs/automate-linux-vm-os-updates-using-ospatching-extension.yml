### YamlMime:Yaml
ms.openlocfilehash: e91df32ef361f2571c2e1b09ef5bf31eac2b7c3e
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139901427"
Slug: automate-linux-vm-os-updates-using-ospatching-extension
Title: OSPatching 확장을 사용하여 Linux VM OS 업데이트 자동화
Summary: Linux용 Azure VM OSPatching 확장을 사용하면 Azure VM 관리자가 사용자 지정된 구성으로 VM OS 업데이트를 자동화할 수 있습니다.
Content: "<p>Linux용 Azure VM OSPatching 확장을 사용하면 Azure VM 관리자가 사용자 지정된 구성으로 VM OS 업데이트를 자동화할 수 있습니다. VM 확장을 처음 사용하는 경우 <a href=\"https://azure.microsoft.com/blog/2014/04/11/vm-agent-and-extensions-part-1/\"><span style=\"font-size: small;\">여기에서</span></a><span style=\"font-size: small;\"> 배경을 </span> 확인할 수 있습니다.</p>\n\n<h2>필수 구성 요소</h2>\n\n<ul>\n    <li><span style=\"font-size: small;\"><span style=\"font-size: small;\">최신 Microsoft Azure Linux 에이전트(최소 버전 2.0.6)</span></span></li>\n    <li><span style=\"font-size: small;\"><span style=\"font-size: small;\">&nbsp;</span></span><a href=\"https://azure.microsoft.com/en-us/documentation/articles/xplat-cli/\" km.title=\"\" ms.cmpgrp=\"body\" ms.cmpnm=\"Cross-Platform CLI\" ms.cmptyp=\"link\" ms.interactiontype=\"1\" ms.pgarea=\"content\" ms.title=\"\"><span style=\"font-size: small;\"><u><font color=\"#0066cc\">플랫폼 간 CLI</font></u></span></a>&nbsp; 또는 <a href=\"https://azure.microsoft.com/en-us/downloads/\" km.title=\"\" ms.cmpgrp=\"body\" ms.cmpnm=\"Azure PowerShell\" ms.cmptyp=\"link\" ms.interactiontype=\"1\" ms.pgarea=\"content\" ms.title=\"\"><span style=\"font-size: small;\"><u><font color=\"#0066cc\">Azure PowerShell</font></u></span></a>.</li>\n</ul>\n\n<p>2015년 12월 업데이트:<br />\n1.Linux용 Azure VM OSPatching 확장은 이제 Azure Resource Manager 모델을 지원합니다. ARM 모델에서 Linux용 OS Pathching Extension을 실행하는 샘플 Powershell 및 CLI 스크립트의 경우 다음GitHub 릴리스 문서를 참조&nbsp;하세요.&nbsp;<a href=\"https://github.com/Azure/azure-linux-extensions/tree/master/OSPatching\">https://github.com/Azure/azure-linux-extensions/tree/master/OSPatching</a><br />\n2.&nbsp;Linux 2.0용 Azure VM OSPatching 확장이&nbsp; 릴리스되어 두 가지 옵션인 1을 추가합니다. 패치하기 전에 유휴 상태 확인 2. 패치 후 시스템 상태 유효성 검사</p>\n\n<p>A. 유휴 상태 확인:<br />\n패치하기 전에 확장은 사용자가 제공한 스크립트를 호출하여 VM의 상태를 확인합니다. 이 스크립트가 1을 반환하면 패치를 위해 앞으로 이동합니다. 그렇지 않으면 중지됩니다. 스크립트는 Azure storge 또는 Github에 배치&nbsp;될 수 있으며,&nbsp; 위치의 URL을 매개 변수로 제공해야 합니다.<br />\nB. 패치 후 시스템 상태 유효성 검사<br />\n패치를 적용한 후 확장은 사용자가 제공한 스크립트를 호출하여 시스템 상태를 확인하고 결과를 확장 로그 파일에 보고합니다. 스크립트는 Azure storge 또는 Github에 배치&nbsp;될&nbsp; 수 있으며,&nbsp; 위치의 URL을 매개 변수로 제공해야 합니다.</p>\n\n<h2>지원되는 함수</h2>\n\n<p>OSPatching 확장을 사용하여 다음을 포함하여 가상 머신에 대한 OS 업데이트를 구성할 수 있습니다.</p>\n\n<ul>\n    <li><span style=\"font-size: small;\"><span style=\"font-size: small;\">OS 패치를 설치하는 빈도 및 시기 지정</span></span></li>\n    <li><span style=\"font-size: small;\"><span style=\"font-size: small;\">설치할 패치 지정</span></span></li>\n    <li><span style=\"font-size: small;\"><span style=\"font-size: small;\">업데이트 후 다시 부팅 동작 구성</span></span></li>\n</ul>\n\n<h2>확장 매개 변수</h2>\n\n<p><span style=\"font-size: small;\"><span style=\"font-size: small;\">관리자는 다음 매개 변수를 사용하여 OS 업데이트를 구성할 수 있습니다. 매개 변수는 대/소문자를 구분합니다.</span></span></p>\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n    <tbody>\n        <tr>\n            <td valign=\"top\" width=\"90\"><span style=\"font-size: small;\"><b><span style=\"font-size: medium;\">매개 변수</span></b></span></td>\n            <td valign=\"top\" width=\"151\"><span style=\"font-size: small;\"><b><span style=\"font-size: medium;\">설명</span></b></span></td>\n            <td valign=\"top\" width=\"245\"><span style=\"font-size: small;\"><b><span style=\"font-size: medium;\">값 형식</span></b></span></td>\n            <td valign=\"top\" width=\"114\"><span style=\"font-size: small;\"><b><span style=\"font-size: medium;\">기본값</span></b></span></td>\n        </tr>\n        <tr>\n            <td valign=\"top\" width=\"90\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">intervalOfWeeks</span></span></td>\n            <td valign=\"top\" width=\"151\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">업데이트 빈도(주) </span></span></td>\n            <td valign=\"top\" width=\"245\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">정수. </span> <span style=\"font-size: small;\">1부터 시작합니다.</span> <span style=\"font-size: small;\">예: &quot;intervalOfWeeks&quot; : &quot;1&quot;</span></span></td>\n            <td valign=\"top\" width=\"114\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">&ldquo;1&rdquo;</span></span></td>\n        </tr>\n        <tr>\n            <td valign=\"top\" width=\"90\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">Dayofweek</span></span></td>\n            <td valign=\"top\" width=\"151\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">패치 날짜(요일)</span>를 <span style=\"font-size: small;\">1주일에 여러 일로 지정할 수 있습니다.</span></span></td>\n            <td valign=\"top\" width=\"245\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">문자열. </span> <span style=\"font-size: small;\">의 &ldquo; 열거형 일요일&rdquo;, &ldquo;월요일&rdquo;, &ldquo;화요일&rdquo;, &ldquo;수요일&rdquo;, &ldquo;목요일&rdquo;, &ldquo;금요일&rdquo;, &ldquo;토요일&rdquo;, 매일(여러 값을 구분하는 데 사용&ldquo;|&rdquo;).</span> <span style=\"font-size: small;\">예: &quot;dayOfWeek&quot; : &quot;Sunday| 수요일&quot;</span></span></td>\n            <td valign=\"top\" width=\"114\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">&ldquo;매일&rdquo;</span></span></td>\n        </tr>\n        <tr>\n            <td valign=\"top\" width=\"90\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">startTime</span></span></td>\n            <td valign=\"top\" width=\"151\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">패치 시작 시간</span></span></td>\n            <td valign=\"top\" width=\"245\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">문자열. </span> <span style=\"font-size: small;\">hr:mine.g&rdquo;. startTime: 03:00 형식&ldquo;으로</span><span style=\"font-size: small;\">, 시간 범위는 0에서 23까지입니다.&quot; &quot;&quot; &quot; 아래의 추가 참고 사항입니다. . <b><sup>1</sup></b></span></span></td>\n            <td valign=\"top\" width=\"114\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">빈 문자열</span><span style=\"font-size: small;\">(일회성 모드)</span></span></td>\n        </tr>\n        <tr>\n            <td valign=\"top\" width=\"90\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">installDuration</span></span></td>\n            <td valign=\"top\" width=\"151\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">허용되는 총 설치 시간</span></span></td>\n            <td valign=\"top\" width=\"245\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">문자열. </span> <span style=\"font-size: small;\">hr:minse.g&rdquo;. installDuration : 00:30 형식&ldquo;입니다</span><span style=\"font-size: small;\">.&quot;&quot;&quot; &quot; </span> <span style=\"font-size: small;\">아래의 추가 참고 사항입니다. <b><sup>2</sup></b></span></span></td>\n            <td valign=\"top\" width=\"114\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">&ldquo;01:00&rdquo;</span></span></td>\n        </tr>\n        <tr>\n            <td valign=\"top\" width=\"90\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">범주</span></span></td>\n            <td valign=\"top\" width=\"151\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">설치할 패치 유형</span></span></td>\n            <td valign=\"top\" width=\"245\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">문자열. </span> <span style=\"font-size: small;\">의 &ldquo; 열거형 중요&rdquo; 및 &ldquo;ImportantAndRecommended.&rdquo;</span> <span style=\"font-size: small;\">예: &quot;범주&quot;: &quot;ImportantAndRecommended&quot;</span></span></td>\n            <td valign=\"top\" width=\"114\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">&ldquo;ImportantAndRecommended&rdquo;</span></span></td>\n        </tr>\n        <tr>\n            <td valign=\"top\" width=\"90\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">rebootAfterPatch</span></span></td>\n            <td valign=\"top\" width=\"151\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">패치 후 다시 부팅 동작 </span></span></td>\n            <td valign=\"top\" width=\"245\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">문자열. </span> <span style=\"font-size: small;\">의 &ldquo; 열거형 필수&rdquo;(항상 다시 부팅), &ldquo;NotRequired&rdquo;(다시 부팅 안 함) 및 &ldquo; 자동&quot;(VM&rsquo; 현재 다시 부팅 메커니즘 사용).</span> <span style=\"font-size: small;\">예: &quot;rebootAfterPatch&quot; : &quot;Auto</span></span></td>\n            <td valign=\"top\" width=\"114\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">&ldquo;자동&rdquo;</span></span></td>\n        </tr>\n        <tr>\n            <td valign=\"top\" width=\"90\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">비활성화</span></span></td>\n            <td valign=\"top\" width=\"151\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">이 확장을 사용하지 않도록 설정하려면 플래그를 지정합니다. </span></span></td>\n            <td valign=\"top\" width=\"245\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">문자열. </span> <span style=\"font-size: small;\">&ldquo;True&rdquo; 또는 &ldquo;Falsee.g&rdquo;</span><span style=\"font-size: small;\">. &quot;disabled&quot;: &quot;False&quot;</span></span></td>\n            <td valign=\"top\" width=\"114\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">&ldquo;False&rdquo;</span></span></td>\n        </tr>\n        <tr>\n            <td valign=\"top\" width=\"90\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">중지</span></span></td>\n            <td valign=\"top\" width=\"151\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">OS 업데이트 프로세스를 취소하는 플래그</span></span></td>\n            <td valign=\"top\" width=\"245\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">문자열. </span> <span style=\"font-size: small;\">&ldquo;True&rdquo; 또는 &ldquo;Falsee.g&rdquo;</span><span style=\"font-size: small;\">. &quot;stop&quot;: &quot;False&quot;</span></span></td>\n            <td valign=\"top\" width=\"114\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">&ldquo;False</span>&rdquo;</span></td>\n        </tr>\n    </tbody>\n</table>\n\n<blockquote><span style=\"font-size: small;\"><span style=\"font-size: small;\"><b><sup>1</sup></b> startTime이 빈 문자열로 설정된 경우 설치 &ldquo;를 일회성&rdquo; 모드로 설정합니다. 자세한 내용은 아래 시나리오 3을 참조하세요.</span> <span style=\"font-size: small;\"><b><sup>2</sup></b> installDuration의 경우 실제 설치가 사용자가 지정한 허용 시간을 초과하면 업데이트 프로세스에서 설치를 중지하고&nbsp; 다음 예약된 설치에서 다시 시작합니다. 그러나 설치 단계에 따라 설치가 항상 중지되지 않을 수 있습니다. 이 경우 허용되는 시간을 초과할 수 있습니다.</span></span></blockquote>\n\n<p>&nbsp;</p>\n\n<p><span style=\"font-size: small;\"><span style=\"font-size: small;\">또한 1시간의 고정 다운로드 시간 제한이 있습니다. 다운로드 시간이 1시간을 초과하면 다운로드 프로세스가 중지되고 다음에 다시 시작될 수 있습니다. 확장은 로그 파일에 오류를 기록합니다. 자세한 내용은 상태&rdquo; 확인 섹션을 참조&ldquo;하세요.</span> </span></p>\n\n<h2><span style=\"font-size: small;\"><span style=\"font-size: large;\"><span style=\"font-size: x-large;\">샘플 스크립트 및 사용자 시나리오</span></span></span></h2>\n\n<h2><span style=\"font-size: small;\"><span style=\"font-size: small;\">다음은 샘플 PowerShell 스크립트 및 xPlat 명령의 주요 시나리오입니다. 매개 변수는 대/소문자를 구분합니다.</span> </span></h2>\n\n<h2><span style=\"font-size: small;\"><span style=\"font-size: small;\"><strong><span style=\"font-size: large;\">시나리오 1: 되풀이 OS 업데이트 설정</span></strong></span></span></h2>\n\n<h2><span style=\"font-size: small;\"><span style=\"font-size: small;\">정기적인 되풀이 패치의 경우 intervalOfWeeks, &ldquo;dayOfWeek&rdquo; 및 &ldquo;startTime&rdquo;을&rdquo; 사용하여 &ldquo;일정을 구성할 수 있습니다. 샘플 스크립트는 다음과 같습니다</span>. </span></h2>\n\n<h2><span style=\"font-size: small;\"><strong><span style=\"font-size: medium;\"><span style=\"font-size: small;\">PowerShell 스크립트:</span></span></strong></span></h2>\n\n<pre class=\"prettyprint\">\n<span style=\"font-size: small;\">\n# Sample PowerShell script to configure an OS update schedule\n# Get the VM\n$vm = Get-AzureVM -ServiceName &quot;Your Service Name&quot; -Name &quot;Your VM Name&quot;\n# Set the extension information\n$ExtensionName=&quot;OSPatchingForLinux&quot;\n$version=&quot;1.0&quot;\n$Publisher=&quot;Microsoft.OSTCExtensions&quot;\n\n# Set the parameter value\n# The OS updates for &ldquo;ImportantAndRecommended&rdquo; patches will start at &ldquo;03:00&rdquo; on &ldquo;Sunday&rdquo; and &ldquo;Wednesday&rdquo; every week. \n$PrivateConfig = &#39;{\n    &quot;disabled&quot; : &quot;False&quot;,\n    &quot;stop&quot; : &quot;False&quot;,\n    &quot;rebootAfterPatch&quot; : &quot;Auto&quot;,\n    &quot;intervalOfWeeks&quot; : &quot;1&quot;,\n    &quot;dayOfWeek&quot; : &quot;Sunday|Wednesday&quot;,\n    &quot;startTime&quot; : &quot;03:00&quot;,\n    &quot;category&quot; : &quot;ImportantAndRecommended&quot;,\n    &quot;installDuration&quot; : &quot;00:30&quot; }&#39;\n$PublicConfig = &#39;{}&#39;\n\n# Apply the configuration to the extension\nSet-AzureVMExtension -ExtensionName $ExtensionName -VM $vm -Publisher $Publisher -Version $version -PrivateConfiguration $PrivateConfig -PublicConfiguration $PublicConfig | Update-AzureVM</span></pre>\n\n<p><span style=\"font-size: small;\"><strong><span style=\"font-size: medium;\"><span style=\"font-size: small;\">Xplat 명령:</span></span></strong></span></p>\n\n<pre class=\"prettyprint\">\n<span style=\"font-size: small;\">\nnode bin/azure vm extension set &quot;Your VM Name&quot; OSPatchingForLinux Microsoft.OSTCExtensions 1.0 -i &#39;{}&#39; -t &#39;{&quot;disabled&quot;:&quot;False&quot;,&quot;stop&quot;:&quot;False&quot;,&quot;rebootAfterPatch&quot;:&quot;Auto&quot;,&quot;intervalOfWeeks&quot;:&quot;1&quot;,&quot;dayOfWeek&quot;:&quot;Sunday|Wednesday&quot;,&quot;startTime&quot;:&quot;03:00&quot;,&quot;category&quot;:&quot;ImportantAndRecommended&quot;,&quot;installDuration&quot;:&quot;00:30&quot;}&#39;</span></pre>\n\n<p><span style=\"font-size: small;\"><strong><span style=\"font-size: medium;\"><span style=\"font-size: large;\">시나리오 2: 기존 패치 구성 수정</span></span></strong> <span style=\"font-size: small;\">다음 예제와 같이 업데이트 일정 설정(&ldquo;intervalOfWeeks&rdquo;, &ldquo;dayOfWeek&rdquo; 및 &ldquo;startTime&rdquo;)을 수정할 수 있습니다.</span></span></p>\n\n<p><span style=\"font-size: small;\"><strong><span style=\"font-size: medium;\"><span style=\"font-size: small;\">PowerShell 스크립트:</span></span></strong></span></p>\n\n<pre class=\"prettyprint\">\n<span style=\"font-size: small;\">\n# Get the VM\n$vm = Get-AzureVM -ServiceName &quot;Your Service Name&quot; -Name &quot;Your VM Name&quot;\n# Set the extension information\n$ExtensionName=&quot;OSPatchingForLinux&quot;\n$version=&quot;1.0&quot;\n$Publisher=&quot;Microsoft.OSTCExtensions&quot;\n\n# Set the parameter value\n# Here we modify the &ldquo;intervalOfWeeks&rdquo; to &ldquo;2&rdquo; and &ldquo;dayOfWeek&rdquo; to &ldquo;Monday&rdquo;. The rest are unchanged\n$PrivateConfig = &#39;{\n    &quot;disabled&quot; : &quot;False&quot;,\n    &quot;stop&quot; : &quot;False&quot;,\n    &quot;rebootAfterPatch&quot; : &quot;Auto&quot;,\n    &quot;intervalOfWeeks&quot; : &quot;2&quot;,\n    &quot;dayOfWeek&quot; : &quot;Monday&quot;,\n    &quot;startTime&quot; : &quot;03:00&quot;,\n    &quot;category&quot; : &quot;ImportantAndRecommended&quot;,\n    &quot;installDuration&quot; : &quot;00:30&quot; }&#39;\n$PublicConfig = &#39;{}&#39;\n\n# Apply the configuration to the extension\nSet-AzureVMExtension -ExtensionName $ExtensionName -VM $vm -Publisher $Publisher -Version $version -PrivateConfiguration $PrivateConfig -PublicConfiguration $PublicConfig | Update-AzureVM</span></pre>\n\n<p><span style=\"font-size: small;\"><span style=\"font-size: medium;\"><strong><span style=\"font-size: small;\">xPlat 명령:</span></strong></span></span></p>\n\n<pre class=\"prettyprint\">\n<span style=\"font-size: small;\">\nnode bin/azure vm extension set &quot;Your VM Name&quot; OSPatchingForLinux Microsoft.OSTCExtensions 1.0 -i &#39;{}&#39; -t &#39;{&quot;disabled&quot;:&quot;False&quot;,&quot;stop&quot;:&quot;False&quot;,&quot;rebootAfterPatch&quot;:&quot;Auto&quot;,&quot;intervalOfWeeks&quot;:&quot;2&quot;,&quot;dayOfWeek&quot;:&quot;Monday&quot;,&quot;startTime&quot;:&quot;03:00&quot;,&quot;category&quot;:&quot;ImportantAndRecommended&quot;,&quot;installDuration&quot;:&quot;00:30&quot;}&#39;</span></pre>\n\n<p><span style=\"font-size: small;\"><span style=\"font-size: small;\">확장은 설정 상태를 기억&rdquo;하지 못합니다&ldquo;. 기존 설정을 수정할 때 각 매개 변수의 값을 다시&rsquo; 지정해야 합니다. 변경하려는 경우 값이 기본값으로 다시 설정됩니다. 상태 파일에서 현재 OS 업데이트 설정을 확인할 수 있습니다. 자세한 내용은 아래 상태&rdquo; 확인 섹션을 참조&ldquo;하세요.</span> &nbsp;</span></p>\n\n<p><span style=\"font-size: small;\"><strong><span style=\"font-size: large;\"><span style=\"font-size: medium;\"><span style=\"font-size: large;\">시나리오 3: 일회성 패치</span></span></span></strong> </span></p>\n\n<p><span style=\"font-size: small;\"><span style=\"font-size: small;\">경우에 따라 업데이트(예: 중요 패치 설치)를 즉시 설치할 수 있습니다. 다른 설정을 변경하지 않고 startTime&rdquo;을 빈 문자열로 설정&ldquo;하여 OS 업데이트를 일회성 모드로 구성할 수 있습니다. OS 업데이트는 구성 직후에 시작됩니다. </span> <span style=\"font-size: small;\">One-Off 패치는 한 번만 실행됩니다. 그 후에는 자동으로 마지막 되풀이 업데이트 설정으로 돌아갑니다.</span> <span style=\"font-size: small;\">일회성 모드를 설정할 때 startTime&rdquo; 외&ldquo;에 설정을 수정해야 하는 경우 원래 설정을 다시 시작하려면 일회성 패치 후 각 매개 변수에 대한 값을 지정하여 스크립트를 다시 실행해야 합니다.  설정을 수정하는 방법에 대한 시나리오 2를 참조하세요.</span> </span></p>\n\n<p><span style=\"font-size: small;\"><strong><span style=\"font-size: medium;\"><span style=\"font-size: small;\">PowerShell 스크립트:</span></span></strong></span></p>\n\n<pre class=\"prettyprint\">\n<span style=\"font-size: small;\">\n# Get the VM\n$vm = Get-AzureVM -ServiceName &quot;Your Service Name&quot; -Name &quot;Your VM Name&quot;\n# Set the extension information\n$ExtensionName=&quot;OSPatchingForLinux&quot;\n$version=&quot;1.0&quot;\n$Publisher=&quot;Microsoft.OSTCExtensions&quot;\n\n# Set the parameter value\n# Here we set the &ldquo;startTime&rdquo; to empty string for one-off mode\n$PrivateConfig = &#39;{\n    &quot;disabled&quot; : &quot;False&quot;,\n    &quot;stop&quot; : &quot;False&quot;,\n    &quot;rebootAfterPatch&quot; : &quot;Auto&quot;,\n    &quot;startTime&quot; : &quot;&quot;,\n    &quot;category&quot; : &quot;ImportantAndRecommended&quot;,\n    &quot;installDuration&quot; : &quot;00:30&quot; }&#39;\n\n$TimeStamp = (Get-Date).Ticks\n$PublicConfig = &#39;{&quot;timestamp&quot; : &quot;&#39; + $TimeStamp + &#39;&quot;}&#39;\n\n# Apply the configuration to the extension\nSet-AzureVMExtension -ExtensionName $ExtensionName -VM $vm -Publisher $Publisher -Version $version -PrivateConfiguration $PrivateConfig -PublicConfiguration $PublicConfig | Update-AzureVM</span></pre>\n\n<p><span style=\"font-size: small;\"><span style=\"font-size: medium;\"><strong><span style=\"font-size: small;\">xPlat 명령:</span></strong></span></span></p>\n\n<pre class=\"prettyprint\">\n<span style=\"font-size: small;\">\nnode bin/azure vm extension set &quot;Your VM Name&quot; OSPatchingForLinux Microsoft.OSTCExtensions  1.0 -i &#39;{&quot;timestamp&quot;:&quot;&#39;`(date +%s)`&#39;&quot;}&#39; -t &#39;{&quot;disabled&quot;:&quot;False&quot;,&quot;stop&quot;:&quot;False&quot;,&quot;rebootAfterPatch&quot;:&quot;Auto&quot;,&quot;startTime&quot;:&quot;&quot;,&quot;category&quot;:&quot;ImportantAndRecommended&quot;,&quot;installDuration&quot;:&quot;00:30&quot;}&#39;</span></pre>\n\n<p><span style=\"font-size: small;\"><strong><span style=\"font-size: large;\"><span style=\"font-size: medium;\"><span style=\"font-size: large;\">추가 시나리오:</span></span></span></strong> <span style=\"font-size: small;\">디버깅을 위해 OS 업데이트를 중지할 수 있습니다. &ldquo;stop&rdquo; 매개 변수가 true&rdquo;로 &ldquo;설정되면 현재 업데이트가 완료된 후 OS 업데이트가 중지됩니다.</span> </span></p>\n\n<p><span style=\"font-size: small;\"><span style=\"font-size: medium;\"><strong><span style=\"font-size: small;\">PowerShell 스크립트:</span></strong></span></span></p>\n\n<pre class=\"prettyprint\">\n<span style=\"font-size: small;\">\n# Get the VM\n$vm = Get-AzureVM -ServiceName &quot;Your Service Name&quot; -Name &quot;Your VM Name&quot;\n# Set the extension information\n$ExtensionName=&quot;OSPatchingForLinux&quot;\n$version=&quot;1.0&quot;\n$Publisher=&quot;Microsoft.OSTCExtensions&quot;\n\n# Set the parameter value\n# When you set the &ldquo;stop&rdquo; parameter to true, the OS update will stop after the current update is finished.\n$PrivateConfig = &#39;{\n    &quot;disabled&quot; : &quot;False&quot;,\n    &quot;stop&quot; : &quot;True&quot;    \n }&#39;\n$PublicConfig = &#39;{}&#39;\n\n# Apply the configuration to the extension\nSet-AzureVMExtension -ExtensionName $ExtensionName -VM $vm -Publisher $Publisher -Version $version -PrivateConfiguration $PrivateConfig -PublicConfiguration $PublicConfig | Update-AzureVM</span></pre>\n\n<p><span style=\"font-size: small;\"><span style=\"font-size: medium;\"><strong><span style=\"font-size: small;\">xPlat 명령:</span></strong></span></span></p>\n\n<pre class=\"prettyprint\">\n<span style=\"font-size: small;\">\nnode bin/azure vm extension set &quot;Your VM Name&quot; OSPatchingForLinux Microsoft.OSTCExtensions  1.0 -i &#39;{}&#39; -t &#39;{&quot;disabled&quot;:&quot;False&quot;,&quot;stop&quot;:&quot;True&quot;}&#39;</span></pre>\n\n<p><span style=\"font-size: small;\">&nbsp;<span style=\"font-size: small;\"><strong>수동 OS 업데이트로 전환하려면 사용 안 함&rdquo; 매개 변수를 &ldquo;true&rdquo;로 &ldquo;설정할 수 있습니다.</strong></span> <span style=\"font-size: medium;\"><strong><span style=\"font-size: small;\">PowerShell 스크립트:</span></strong></span></span></p>\n\n<pre class=\"prettyprint\">\n<span style=\"font-size: small;\">\n# Get the VM\n$vm = Get-AzureVM -ServiceName &quot;Your Service Name&quot; -Name &quot;Your VM Name&quot;\n# Set the extension information\n$ExtensionName=&quot;OSPatchingForLinux&quot;\n$version=&quot;1.0&quot;\n$Publisher=&quot;Microsoft.OSTCExtensions&quot;\n\n# Set the parameter value\n# When you set the &ldquo;disabled&rdquo; parameter to true, the OSPatching extension is disabled.\n$PrivateConfig = &#39;{\n    &quot;disabled&quot; : &quot;True&quot;\n }&#39;\n$PublicConfig = &#39;{}&#39;\n\n# Apply the configuration to the extension\nSet-AzureVMExtension -ExtensionName $ExtensionName -VM $vm -Publisher $Publisher -Version $version -PrivateConfiguration $PrivateConfig -PublicConfiguration $PublicConfig | Update-AzureVM</span></pre>\n\n<p><span style=\"font-size: small;\"><strong><span style=\"font-size: medium;\"><span style=\"font-size: small;\">xPlat 명령:</span></span></strong></span></p>\n\n<pre class=\"prettyprint\">\n<span style=\"font-size: small;\">\nnode bin/azure vm extension set &quot;Your VM Name&quot; OSPatchingForLinux Microsoft.OSTCExtensions  1.0 -i &#39;{}&#39; -t &#39;{&quot;disabled&quot;:&quot;True&quot;}&#39;</span></pre>\n\n<p><span style=\"font-size: small;\">&nbsp;</span></p>\n\n<h4><span style=\"font-size: small;\"><span style=\"font-size: large;\"><span style=\"font-weight: bold;\"><span style=\"font-size: x-large;\">상태 확인</span></span></span></span></h4>\n\n<p><span style=\"font-size: small;\"><span style=\"font-size: medium;\"><strong><span style=\"font-size: large;\">OS 업데이트 구성 상태 및 설정 확인</span></strong></span></span></p>\n\n<ul>\n    <li><span style=\"font-size: small;\"><span style=\"font-size: small;\">확장의 배포 상태를 확인하려면 다음 PowerShell 명령을 실행합니다. </span></span></li>\n</ul>\n\n<pre class=\"prettyprint\">\n<span style=\"font-size: small;\">\nGet-AzureDeployment -ServiceName &quot;Your Service Name&quot;</span></pre>\n\n<ul>\n    <li><span style=\"font-size: small;\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">Azure Portal은 확장 상태 및 최종 OS 업데이트 설정을 표시합니다. 이 기능은 몇 주 후에 사용할 수 있습니다.</span></span></span></li>\n    <li><span style=\"font-size: small;\"><span style=\"font-size: small;\">자세한 확장 상태 및 최종 OS 업데이트 설정을&nbsp; 확인하려면 VM 내의 다음 위치에서 파일을 참조할 수 있습니다. &ldquo;/var/lib/waagent/Microsoft.OSTCExtensions.OSPatchingForLinux-version/status/&rdquo; </span></span></li>\n</ul>\n\n<p><span style=\"font-size: small;\"><span style=\"font-size: medium;\"><strong><span style=\"font-size: large;\">OS 업데이트 상태 확인</span></strong></span></span></p>\n\n<ul>\n    <li><span style=\"font-size: small;\"><span style=\"font-size: small;\">OS 패치 프로세스는 VM &ldquo;내의 다음 파일에 상태 및 오류를 기록합니다. /var/log/azure/Microsoft.OSTCExtensions.OSPatchingForLinux/version&gt;/&lt;extension.log&rdquo; 및 &ldquo;/var/log/waagent.log&rdquo;.</span></span></li>\n    <li><span style=\"font-size: small;\"><span style=\"font-size: small;\">OS 패치 프로세스는 다운로드 및 설치된 패키지 목록을 VM 내의 다음 파일에 기록합니다. 다운로드한 패키지는 /var/lib/waagent/package.downloaded&rdquo; 파일에 &ldquo;있습니다. /var/lib/waagent/package.patched&rdquo; 파일에 &ldquo;설치된 패키지입니다.</span></span></li>\n</ul>\n\n<p><span style=\"font-size: small;\">&nbsp;<span style=\"font-size: large;\"><span style=\"font-weight: bold;\"><span style=\"font-size: x-large;\">추가 참고 사항</span></span></span> </span></p>\n\n<p><span style=\"font-size: small;\"><span style=\"font-size: small;\">OSPatching은 OS 패치에 대해 다음 Linux 명령을 활용합니다. OSPatching 확장을 사용하는 경우 충돌을 방지하기 위해 아래에 나열된 동일한 명령을 사용하는 애플리케이션을 중지하는 것이 좋습니다. 대부분의 경우 여러 프로세스에서 동시에 실행할 수 없습니다.</span></span></p>\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n    <tbody>\n        <tr>\n            <td valign=\"top\" width=\"63\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">아니요.</span></span></td>\n            <td valign=\"top\" width=\"78\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">명령</span></span></td>\n            <td valign=\"top\" width=\"138\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">Linux OS</span></span></td>\n        </tr>\n        <tr>\n            <td valign=\"top\" width=\"63\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">1</span></span></td>\n            <td valign=\"top\" width=\"78\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">apt-get</span></span></td>\n            <td valign=\"top\" width=\"138\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">Ubuntu</span></span></td>\n        </tr>\n        <tr>\n            <td valign=\"top\" width=\"63\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">2</span></span></td>\n            <td valign=\"top\" width=\"78\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">yum</span></span></td>\n            <td valign=\"top\" width=\"138\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">CentOS, Oracle</span></span></td>\n        </tr>\n        <tr>\n            <td valign=\"top\" width=\"63\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">3</span></span></td>\n            <td valign=\"top\" width=\"78\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">zypper</span></span></td>\n            <td valign=\"top\" width=\"138\"><span style=\"font-size: small;\"><span style=\"font-size: small;\">SUSE</span></span></td>\n        </tr>\n    </tbody>\n</table>"

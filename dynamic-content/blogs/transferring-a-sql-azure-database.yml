### YamlMime:Yaml
ms.openlocfilehash: 4ea42b508e9ff9ff0d5c68ca8797e064f68050c6
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139906997"
Slug: transferring-a-sql-azure-database
Title: SQL Azure 데이터베이스 전송
Summary: '[이 문서는 SQL Azure 팀에서 제공했습니다.] CREATE DATABASE를 실행하는 대상 사용자가 SQL 이름과 정확히 동일해야 하므로 원래 블로그 게시물은 기록된 대로 작동하지 않습니다.'
Content: "<p>[이 문서는 SQL Azure 팀에서 제공했습니다.]</p><p align=\"center\"><font color=\"#ff0000\">CREATE DATABASE를 실행하는 대상 사용자는 원본 데이터베이스의 SQL Azure Portal 관리자 이름과 정확히 동일한 이름을 가져야 하므로 원래 블로그 게시물은 작성되지 않습니다. 즉, SQL Azure Portal 관리자 이름 및 암호를 알고 있는 데이터베이스에서만 복사할 수 있습니다. 다른 블로그 게시물에서 서로 다른 두 당사자 간에 SQL Azure 데이터베이스를 전송하는 방법에 대한 이 항목을 다시 방문하겠습니다.</font></p> <div style=\"text-decoration: line-through\">   <p>ISV(독립 소프트웨어 공급업체)인 Imagine Windows Azure 애플리케이션에 대한 구매자를 가지고 있으며 시작 데이터베이스의 복사본을 고객에게 전송하려고 합니다. 그러나 SQL Azure 포털에서 관리 로그인 및 암호를 제공하지 않으려는 경우 또는 테스트 팀이 프로덕션 데이터베이스를 서비스 계정에 복사할 수 있도록 할 수도 있습니다. 데이터베이스를 다른 SQL Azure 서버의 다른 서비스 계정에 복사하려면 함께 작업하여 데이터베이스 전송 권한이 있는 일반 사용자를 만들 수 있습니다. 이 블로그 게시물에서는 해당 사용자를 만들고 전송을 완료하는 방법에 대해 설명합니다.</p>    <h2>원본 서버</h2>    <p>SQL Azure Portal에서 원본 서버 관리자로 원본 서버의 마스터 데이터베이스에 연결된 경우 이 문을 실행하여 원본 서버에 로그인을 만듭니다.</p>    <pre class=\"csharpcode\"><span class=\"kwrd\">CREATE</span> LOGIN copylogin <span class=\"kwrd\">WITH</span> password=<span class=\"str\">'1231!#ASDF!a'</span>;</pre>          <p>이제 원본 데이터베이스에 연결되도록 연결을 변경하고 이 문을 실행합니다.</p>      <pre class=\"csharpcode\"><span class=\"kwrd\">CREATE</span> <span class=\"kwrd\">USER</span> copyuser <span class=\"kwrd\">FROM</span> LOGIN copylogin;</pre>          <p>원본 데이터베이스에서 복사하려면 사용자에게 <b>db_owner</b> 권한이 있어야 합니다. 원본 데이터베이스에 연결된 상태에서 해당 권한을 부여하려면 다음을 실행합니다.</p>      <pre class=\"csharpcode\"><span class=\"kwrd\">EXEC</span> sp_addrolemember <span class=\"str\">'db_owner'</span>, <span class=\"str\">'copyuser'</span>;</pre>          <h4>대상 서버</h4>      <p>이제 ISV가 컴퓨터에 새 계정을 설정했으므로 대상 서버에서 동일한 계정을 설정할 수 있도록 구매자에게 로그인, 암호 및 데이터 센터를 전달해야 합니다. 대상 서버는 원본 서버와 동일한 데이터 센터에 있어야 합니다. 로그인 및 암호가 동일한 경우에만 데이터베이스 복사본이 작동할 수 있습니다. 구매자가 수행해야 하는 일은 다음과 같습니다.</p>      <p>SQL Azure Portal의 관리자 권한으로 대상 서버의 마스터 데이터베이스에 연결된 경우 이 문을 실행하여 대상 서버에 로그인을 만듭니다.</p>      <pre class=\"csharpcode\"><span class=\"kwrd\">CREATE</span> LOGIN copylogin <span class=\"kwrd\">WITH</span> password=<span class=\"str\">'1231!#ASDF!a'</span>;</pre>          <p>이제 이 문을 실행하여 master 데이터베이스에 연결된 상태에서 사용자를 만듭니다.</p>      <pre class=\"csharpcode\"><span class=\"kwrd\">CREATE</span> <span class=\"kwrd\">USER</span> copyuser <span class=\"kwrd\">FROM</span> LOGIN copylogin;</pre>          <p>그런 다음, 대상 서버에 대한 사용자 <b>dbmanager</b> 권한을 부여합니다.</p>      <pre class=\"csharpcode\"><span class=\"kwrd\">EXEC</span> sp_addrolemember <span class=\"str\">'dbmanager'</span>, <span class=\"str\">'copyuser'</span>;</pre>          <p>이제 이 서버에 데이터베이스를 복사하도록 <b>copyuser</b> 가 설정되었습니다.</p>      <h4>복사본 실행</h4>      <p>복사본을 실행하기 위해 구매자는 SQL Azure 대상 서버의 마스터 데이터베이스에 <b>copylogin</b>으로 로그인합니다. 그러면 구매자는 다음 문을 실행합니다.</p>      <pre class=\"csharpcode\"><span class=\"kwrd\">CREATE</span> <span class=\"kwrd\">DATABASE</span> [AdventureWorksLTAZ2008R2] <span class=\"kwrd\">AS</span> COPY <span class=\"kwrd\">OF</span> [srcServer].[AdventureWorksLTAZ2008R2]</pre>          <p>데이터베이스 이름과 원본 서버가 올바르게 채워져 있습니다. 그러면 구매자는 다음과 같은 <b>sys.dm_database_copies</b> 쿼리하여 복사본을 모니터링할 수 있습니다.</p>      <pre class=\"csharpcode\"><span class=\"kwrd\">SELECT</span> * <span class=\"kwrd\">FROM</span> sys.dm_database_copies</pre>          <h4>정리</h4>      <p>데이터베이스 복사가 완료되면 구매자는 데이터베이스를 보호하기 위해 데이터베이스에서 <b>copyuser</b> 사용자를 제거해야 합니다. ISV가 로그인/암호를 알고 있기 때문에 이 작업이 수행됩니다. 사용자를 삭제하려면 SQL Azure 포털에서 관리자 로그인을 사용하여 대상 데이터베이스에서 이 연결을 실행합니다.</p>      <pre class=\"csharpcode\"><span class=\"kwrd\">DROP</span> <span class=\"kwrd\">USER</span> copyuser</pre>          <p>그런 다음, 관리자 로그인을 사용하여 대상 서버의 마스터 데이터베이스에 연결하고 다음을 실행합니다.</p>      <pre class=\"csharpcode\"><span class=\"kwrd\">DROP</span> LOGIN copylogin</pre>          <p>그러면 구매자가 좋은 복사본이 있음을 확인하면 ISV가 원본 서버에 데이터베이스를 삭제할 수 있습니다. ISV 컴퓨터를 보호하려면 ISV가 원본 서버의 master 데이터베이스에 연결하고 다음 문을 실행합니다.</p>      <pre class=\"csharpcode\"><span class=\"kwrd\">DROP</span> LOGIN copylogin</pre>          <h2>원본 데이터베이스 보호</h2>      <p>위의 전략에는 한 가지 결함이 있습니다. 구매자에게 데이터베이스에 <b>대한 db_owner</b> 권한을 부여했습니다. 이 문제는 데이터베이스를 삭제하거나 복사하는 대신 다른 문제를 일으킬 수 있다는 것입니다. 대신 서버에 원본 데이터베이스의 복사본을 만든 다음 원본 복사본에 <b>대한</b> db_owner 사용 권한을 <b>복사</b> 로그인에 부여하는 것이 좋습니다. 이것은 원본을 보호하고 구매자가 사본을 손상하는 경우, 당신은 여전히 원본을 가지고있다.</p>  </div>    <h2>요약</h2>    <p>질문, 우려 사항, 의견이 있나요? 아래에 게시하고 우리는 그들을 해결하기 위해 노력할 것입니다.</p>"

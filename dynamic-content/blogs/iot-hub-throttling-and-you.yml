### YamlMime:Yaml
ms.openlocfilehash: e8b42eac3aac8495e15d575ffe9d7782dbea4d46
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139910978"
Slug: iot-hub-throttling-and-you
Title: IoT Hub 제한 및 사용자
Summary: 제가 가장 자주 묻는 질문 중 하나는 IoT Hub가 특정 작업을 제한하는 방법과 관련이 있습니다. IoT Hub는 단일 지역에서 수백만 개의 연결을 지원하도록 빌드된 서비스입니다.
Content: >-
  <p>제가 가장 자주 묻는 질문 중 하나는 IoT Hub가 특정 작업을 제한하는 방법과 관련이 있습니다. IoT Hub는 단일 지역에서 수백만 개의 연결을 지원하도록 빌드된 서비스입니다. &rsquo;Were는 사물 인터넷에 대해 이야기할 때 이미 심각한 규모의 연결을 처리하고 있으며, 서비스에 대한 DoS(서비스 거부) 공격으로부터 보호하기 위해 IoT Hub에 제한 제한을 적용합니다.</p>


  <p>&rsquo;수십만 대의 디바이스를 의도적으로 단일 IoT Hub 인스턴스&rdquo;에 연결하고 &ldquo;IoT Hub에 수십만 번의 연결 시도를 스팸으로 스팸 처리하여 서비스를 DoS하려고 하는 것 사이에 &ldquo;미세한 선이 있습니다.&rdquo; &rsquo;IoT Hub 서비스는 기본적으로 IoT 시나리오에 대해 아무것도 알지 못한다는 것을 이해하는 것이 중요합니다. 연결 및 데이터 패킷 크기, 콘텐츠에 대한 내용만 알고 있습니다. 메일을 열고 내부를 들여다 볼&#39;없습니다.</p>


  <p>IoT Hub는 <strong>공유 리소스</strong>입니다. 즉, 프로비전하는 IoT Hub는 다른 IoT Hub를 실행하는 동일한 하드웨어 집합에서 실행됩니다. 이를 통해 우리(Azure)는 데이터 센터를 보다 효율적으로 사용하여 전용 리소스인 경우보다 저렴한 가격으로 IoT Hub 기능을 제공할 수 있습니다. 서비스의 공유 리소스 특성으로 인해 리소스를 호깅하는&rdquo; 시끄러운 고객이 &ldquo;다른 고객&rsquo; 성능에 영향을 미칠 수 있습니다. 내 (개인) IoT 디바이스가 초당 5번 메시지를 보내려고 하는 서비스에서 두근 두근하는 경우 서비스가 내 연결 요청의 공세를 처리하기 위해 바쁘기 때문에 디바이스 연결이 어려울 수 있습니다. Azure는 모든 사용자에게 유용한 환경을 제공하기 위해 특정 IoT Hub 작업을 제한하여 이러한 문제가 발생하지 않도록 합니다.</p>


  <p>IoT Hub는 디바이스가 지속적으로 원격 분석 데이터를 클라우드로 전송한다는 가정 하에 설계되었습니다. 목표는 먼저 클라우드로 데이터를 가져와 비즈니스 요구 사항에 따라 처리하는 것입니다. 최악의 경우 최대 사용이 아닌 서비스의 의도된 사용에 대한 용량을 계획합니다(모든 고객이 정확히 동시에 단위를 최대화할 경우 AKA).</p>


  <p>제한 제한 없이 사용량 급증을 허용한다면 서비스를 중단하는 사용량 최대치에 대해 보호되지 않습니다. 이를 허용하는 대신 제한 제한을 적용하여 서비스와 고객을 보호합니다. 서비스&rsquo; 리소스 사용량을 모니터링하면 향후 리소스 요구 사항을 더 잘 예측하고 그에 따라 계획할 수 있습니다.</p>


  <p>1,000,000개 이상의 디바이스를 단일 IoT Hub에 연결하려는 경우 <a href="https://azure.microsoft.com/en-us/support/options/">Microsoft 지원에</a> 문의해야 합니다. DoS 공격으로부터 서비스를 보호하기 위해 단일 허브에 등록할 수 있는 디바이스 수에 임시 한도가 있지만 고객은 지원을 통해 해당 제한을 늘릴 수 있습니다. 우리는 이미 여러 고객을 위해 그렇게했습니다.</p>


  <p>연결하려는 디바이스 수는 구매한 장치 수와 무관합니다. 정말로 원한다면 6백만 개의 디바이스를 가질 수 있으며, 각각 하루에 하나의 메시지를 보내고 S2의 한 단위만 구입할 수 있습니다. 즉, 모든 디바이스가 다른 모든 디바이스와 정확히 동일한 시간에 허브에 일일 메시지를 보내는 것을 허용하지 않을 것입니다. 서비스는 모든 작업을 한 번에 처리할 수&rsquo; 없&rsquo;으므로 누구도 처리할 수 없습니다.</p>


  <p>일반적으로 허브를 통해 흐르는 항목을 제한합니다. 서비스를 보호하고 사용자에게 신뢰할 수 있는 기능을 제공하기 위해 이 작업을 수행합니다. 제한 요금은 청구 가능한 메시지의 측면에서 확인하세요. <a href="https://azure.microsoft.com/en-us/documentation/articles/iot-hub-devguide/#throttling">IoT Hub 개발자 가이드</a>에서 현재 제한 속도를 찾을 수 있습니다. 몇 가지 범주로 제한하고 해당 기능을 사용하는 방법에 따라 각 범주에 대한 제한 속도를 선택했습니다. 다양한&rsquo; 제한 범주에 대한 사고 프로세스 뒤에 조금 더 많은 것을 설명합니다.</p>


  <ul>
      <li><strong>디바이스 연결</strong> 은 지정된 시간에 IoT Hub에 연결해야 하는 디바이스 수에 따라 제한됩니다.</li>
      <li><strong>디바이스-클라우드 원격 분석은</strong> 선택한 서비스 계층에 따라 하루 종일 디바이스가 보낼 것으로 예상되는 메시지 수에 따라 제한됩니다. 오늘날의&rsquo; 메시지 속도로 S2 계층의 단일 단위는 하루 종일 거의 70개의 메시지/초/단위를 허용합니다. 제한 속도는 120/초/단위로 더 높아서 흔들리는 공간을 제공합니다.</li>
      <li><strong>클라우드-디바이스 명령은 명령</strong> 이 보내는 것보다 명령 수신에 대해 더 높은 속도로 제한됩니다. HTTP 메시지 수신은 프로토콜에 필요한 폴링으로 인해 가장 관련성이 큰 제한 번호입니다(&rsquo;여기서 HTTP1을 참조하세요). IoT 시나리오에 1분 내에 클라우드에서 명령에 응답하는 디바이스가 포함된 경우 자신에게 호의를 베풀고 메시지를 받는 데 HTTP를 사용하지 마세요. 그냥 자신에게 그것을하지 마십시오&rsquo;.</li>
      <li><strong>디바이스 ID CRUD 작업은 주로 디바이스</strong> 프로비저닝을 위해 거의 없으며 멀리 떨어져 있어야 합니다. IoT Hub에서 디바이스 목록을 가져오거나 내보내는 대량 메서드가 있습니다. IoT Hub가 개별적으로 요청을 생성/삭제하여 난리가 나는 경우 허브에 몇 가지 문제가 있다는 의미일 수 있으므로 제한합니다. 모든 디바이스 ID 작업은 동일한 제한 제한에 포함됩니다. 디바이스 관련 정보를 보려면 독립 레지스트리에서 추적을 유지하는 것이 좋습니다(직접 빌드).</li>
  </ul>


  <p>제한 한도에 도달한 것으로 의심되는 경우 확인할 수 있는 몇 가지 방법이 있습니다.</p>


  <ul>
      <li>수학을 수행합니다. 디바이스가 보내는 속도가 제한 제한에 대해 적중되는지 확인합니다.</li>
      <li>제한 오류를 수신 대기합니다. IoT Hubs&rsquo; 새 작업 모니터링 기능을 사용하여 모든 제한 오류를 하나의 엔드포인트로 보낼 수 있습니다. 어떤 디바이스가 가장 수다스러운지 또는 디바이스가 다른 빈도로 전송되는지 확인하고 시나리오에 필요한지 여부를 확인합니다.</li>
  </ul>


  <p>이 모든 것을 시도했지만&rsquo; 여전히 문제가 있는 경우 <a href="https://azure.microsoft.com/en-us/support/options/">Microsoft 지원을</a> 통해 문의하거나 <a href="https://social.msdn.microsoft.com/Forums/azure/en-US/home?forum=azureiothub">포럼</a>에 질문을 하세요.</p>

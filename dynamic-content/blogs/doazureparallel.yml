### YamlMime:Yaml
ms.openlocfilehash: ea63c44f3d979dd717da72a8bc6b874dec594b34
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139899032"
Slug: doazureparallel
Title: 'doAzureParallel: R 세션에서 직접 Azure의 유연한 컴퓨팅 활용'
Summary: Azure Batch를 기반으로 빌드된 경량 R 패키지인 doAzureParallel을 발표하게 되어 매우 기쁩니다. 이를 통해 R 세션에서 바로 Azure의 유연한 컴퓨팅 리소스를 쉽게 사용할 수 있습니다.
Content: "<p><a href=\"https://www.r-project.org\" target=\"_blank\">R 언어</a> 사용자는 로컬 컴퓨터에서 처리할 수 있는 것보다 더 많은 컴퓨팅 용량이 필요한 경우가 많습니다. 그러나 클라우드 용량을 활용하기 위해 작업을 스케일 업하는 것은 복잡하고 번거로울 수 있으며 R 사용자가 알고리즘에 집중하는 데 방해가 될 수 있습니다.</p>\n\n<p>Azure <a href=\"https://docs.microsoft.com/en-us/azure/batch/batch-technical-overview\" target=\"_blank\">Batch</a>를 기반으로 빌드된 경량 R 패키지를 <a href=\"https://www.github.com/Azure/doAzureParallel\" target=\"_blank\">doAzureParallel</a> &ndash; 에 발표하게 되어 매우 기쁩니다. 이를 통해 R 세션에서 바로 Azures&rsquo; 유연한 컴퓨팅 리소스를 쉽게 사용할 수 있습니다. doAzureParallel은 대규모 컴퓨팅 병렬 시뮬레이션을 실행하기 위한 인프라를 제공하여 <a href=\"https://www.microsoft.com/en-us/cloud-platform/r-server\">Microsoft R Server</a> 보완합니다.</p>\n\n<p>doAzureParallel 패키지의 핵심은 널리 사용되는 <a href=\"https://cran.r-project.org/web/packages/foreach/\" target=\"_blank\">foreach 패키지</a>에 대한 병렬 백 엔드로, Azure 가상 머신 클러스터에서 여러 프로세스를 실행할 수 있습니다. 단 몇 줄의 코드에서 패키지는 Azure에서 클러스터를 만들고 관리하고 foreach 패키지와 함께 사용할 병렬 백 엔드로 등록하는 데 도움이 됩니다.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/da20fbcb-e577-416e-87a1-cbd47c46fe3f.png\"><img alt=\"doAzureParallel diagram\" border=\"0\" height=\"343\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/101fd79e-be44-4416-b858-10058233166b.png\" style=\"border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" title=\"doAzureParallel 다이어그램\" width=\"610\"></a></p>\n\n<p>doAzureParallel&rsquo;을 사용하면 개별 가상 머신의 클러스터를 수동으로 만들고 구성하고 관리할 필요가 없습니다. 대신, 이 패키지는 로컬 컴퓨터에서 알고리즘을 실행하는 것보다 대규모로 작업을 실행하는 것이 더 복잡하지 않습니다. Azure Batchs&rsquo; 자동 크기 조정 기능을 사용하면 워크로드에 맞게 클러스터 크기를 늘리거나 줄여 시간 및/또는 비용을 절약할 수 있습니다.</p>\n\n<p>doAzureParallel은 또한 <a href=\"https://azuremarketplace.microsoft.com/en-us/marketplace/apps/microsoft-ads.standard-data-science-vm\" target=\"_blank\">Azure DSVM(Data Science Virtual Machine)</a>을 사용하여 Azure Batch가 가능한 한 적은 시간에 적절한 환경을 쉽고 빠르게 구성할 수 있도록 합니다.</p>\n\n<p>사용하는 Azure VM에 대해서만 지불하는 이러한 기능에 &ndash; 대한 추가 비용은 없습니다.</p>\n\n<p>doAzureParallel은 파라메트릭 스윕 또는 몬테카를로 시뮬레이션과 같은 당황스러운 병렬 작업을 실행하는 데 이상적이므로 많은 재무 모델링 알고리즘(백 테스트, 포트폴리오 시나리오 모델링 등)에 적합합니다.</p>\n\n<h2>설치/필수 구성 요소</h2>\n\n<p>doAzureParallel을 사용하려면 Azure에서 Batch 계정 및 Storage 계정을 설정해야 합니다. <a href=\"https://github.com/Azure/doAzureParallel#azure-requirements\">Azure 계정</a> 설정에 대한 자세한 정보입니다.</p>\n\n<p>Github에서 직접 패키지를 설치할 수 있습니다. <a href=\"https://www.github.com/Azure/doAzureParallel#installation\">설치 지침 및 종속성에</a> 대한 자세한 정보입니다.</p>\n\n<h2>시작하기</h2>\n\n<p>패키지를 설치한 후에는 몇 줄의 코드만큼 간단하게 시작할 수 있습니다.</p>\n\n<p>패키지를 로드합니다.</p>\n\n<pre class=\"prettyprint\">\nlibrary(doAzureParallel)</pre>\n\n<p>Azure를 사용하여 병렬 백 엔드(가상 머신 풀)를 설정합니다.</p>\n\n<pre class=\"prettyprint\">\n# 1. Generate your credentials config and fill it out with your Azure information\ngenerateCredentialsConfig(&ldquo;credentials.json&rdquo;)\n\n# 2. Set your credentials\nsetCredentials(&ldquo;credentials.json&rdquo;) \n\n# 3. Generate your cluster config to customize your cluster\ngenerateClusterConfig(&ldquo;cluster.json&rdquo;)\n\n# 4. Create your cluster in Azure passing, it your cluster config file.\ncluster &lt;- makeCluster(&ldquo;cluster.json&rdquo;)\n\n# 5. Register the cluster as your parallel backend\nregisterDoAzureParallel(cluster)\n</pre>\n\n<p>%dopar% 키워드를 사용하여 병렬 foreach 루프를 실행합니다. foreach 함수는 병렬 코드의 결과를 반환합니다.</p>\n\n<pre class=\"prettyprint\">\nnumber_of_iterations &lt;- 10\nresults &lt;- foreach(i = 1:number_of_iterations) %dopar% {\n    # This code is executed, in parallel, across your Azure pool.\n    myAlgorithm(&hellip;)\n}</pre>\n\n<p>대규모로 개발할 때는 코드를 먼저 로컬로 테스트하고 디버그하는 것이 좋습니다. %dopar%와 %do% 사이를 전환하여 Azure에서 병렬로 실행되고 로컬 컴퓨터에서 순서대로 실행 간에 전환합니다.</p>\n\n<pre class=\"prettyprint\">\n# run your code sequentially on your local machine\nresults &lt;- foreach(i = 1:number_of_iterations) %do% { &hellip; }\n\n# use the doAzureParallel backend to run your code in parallel across your Azure pool\nresults &lt;- foreach(i = 1:number_of_iterations) %dopar% {&hellip;}</pre>\n\n<p>대규모로 R 코드 실행을 완료한 후 VM 풀을 종료하여 더 이상 요금이 청구되지 않도록&rsquo; 할 수 있습니다.</p>\n\n<pre class=\"prettyprint\">\n# shut down your pool\nstopCluster(pool)</pre>\n\n<h2><br>\n몬테카를로 가격 시뮬레이션 데모</h2>\n\n<p>다음 데모에서는 단일 주식의 5백만 가지 결과를 시뮬레이션하여 5년 후 주가를 예측하는 간소화된 버전을 보여 줍니다.</p>\n\n<p>&#39;Contoso&#39;의 주가가 매일 <strong>평균 1.001배</strong> 상승했지만 <strong>변동성은 0.01</strong>이라고 상상해 보겠습니다. <b>시작 가격이 $100</b>인 경우 몬테카를로 가격 시뮬레이션을 사용하여 Contoso&#39;주식이 5년 후에 어떤 가격이 될지 파악할 수 있습니다.</p>\n\n<p>먼저 가정을 정의합니다.</p>\n\n<pre class=\"prettyprint\">\nmean_change = 1.001\nvolatility = 0.01\nopening_price = 100</pre>\n\n<p>위에 정의된 변수를 사용하여 정규 분포에서 누적 제품을 가져와 <strong>5년 동안&nbsp; 한 가지 가능한 결과에 대한 주가 이동을 시뮬레이션 </strong>하는 함수를 만듭니다.</p>\n\n<pre class=\"prettyprint\">\nsimulateMovement &lt;- function() {\n    days &lt;- 1825 # ~ 5 years\n    movement &lt;- rnorm(days, mean=mean_change, sd=volatility)\n    path &lt;- cumprod(c(opening_price, movement))\n    return(path)\n} </pre>\n\n<p>로컬 컴퓨터에서 <strong>가능한 30개의 결과를 시뮬레이션</strong> 하고 결과를 그래프로 표시합니다.</p>\n\n<pre class=\"prettyprint\">\nsimulations &lt;- replicate(30, simulateMovement())\nmatplot(simulations, type=&#39;l&#39;) # plots all 30 simulations on a graph</pre>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1cbfcb90-e615-4346-a641-de01c702b9ed.png\"><img alt=\"doAzureParallel - demo image 1\" border=\"0\" height=\"287\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8cfaeb8c-b049-4eff-95f1-d3c14add4bc0.png\" style=\"border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" title=\"doAzureParallel - 데모 이미지 1\" width=\"520\"></a></p>\n\n<p>Contoso&#39;주가가 5년 후의 위치를 이해하려면 각 시뮬레이션에 대한 종가 분포를 이해해야 합니다(선으로 표시됨). 그러나 가능한 30개의 결과만 배포하는 대신 <strong>5백만 개의 결과를 시뮬레이션</strong> 하여 배포에 대한 대규모 샘플을 얻을 수 있습니다.</p>\n\n<p>가능한 한 가지 결과에 대한 주가 이동을 시뮬레이션하는 함수를 만들지만 <strong>종가</strong>만 반환합니다.</p>\n\n<pre class=\"prettyprint\">\ngetClosingPrice &lt;- function() {\n    days &lt;- 1825 # ~ 5 years\n    movement &lt;- rnorm(days, mean=mean_change, sd=volatility)\n    path &lt;- cumprod(c(opening_price, movement))\n    closingPrice &lt;- path[days]\n    return(closingPrice)\n}</pre>\n\n<p>foreach 패키지 및 doAzureParallel을 사용하여 Azure에서 5백만 개의 결과를 시뮬레이션할 수 있습니다. 이를 병렬화하려면 100,000개의 결과 중 50회 반복을 실행할 수 있습니다.</p>\n\n<pre class=\"prettyprint\">\nclosingPrices &lt;- foreach(i = 1:50, .combine=&#39;c&#39;) %dopar% {\n    replicate(100000, getClosingPrice())\n}</pre>\n\n<p>doAzureParallel 백 엔드에 대해 foreach 패키지를 실행한 후 Azure Portal에서 Azure Batch 계정을 확인하여 시뮬레이션을 실행하는 VM 풀을 확인할 수 있습니다.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ea846616-933b-4107-a7bd-c6f3ca6530f0.png\"><img alt=\"doAzureParallel - demo image 2\" border=\"0\" height=\"412\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7d66444a-e337-49f7-a8f4-58d3dc96a75a.png\" style=\"border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" title=\"doAzureParallel - 데모 이미지 2\" width=\"610\"></a></p>\n\n<p>열 지도의 노드 색이 변경됨에 따라 가격 책정 시뮬레이션에서 사용 중인 노드를 볼 수 있습니다.</p>\n\n<p>시뮬레이션이 완료되면 패키지는 각 시뮬레이션의 결과를 자동으로 병합하고 노드에서 끌어서 R 세션에서 결과를 사용할 준비가 되도록 합니다.</p>\n\n<p>마지막으로, 500만 개 이상의 가능한 결과에 대한 종가 분포를 파악하기 위해 결과를 그릴&#39;있습니다.</p>\n\n<pre class=\"prettyprint\">\n# plot the 5 million closing prices in a histogram\nhist(closingPrices) </pre>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/a708a370-f649-4824-89df-32cfe6a47b3d.png\"><img alt=\"doAzureParallel - demo image 3\" border=\"0\" height=\"341\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/9ebae183-95cb-43e9-af48-0267b5d5a32e.png\" style=\"border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" title=\"doAzureParallel - 데모 이미지 3\" width=\"520\"></a></p>\n\n<p>위의 분포에 따라 Contoso&#39;주가는 5년 후 개장 가격인 $100에서 <strong>약 $500의 종가</strong>로 이동할 가능성이 높습니다.</p>\n\n<p>&nbsp;</p>\n\n<hr>\n<p><br>\n이러한 기능을 사용하고 피드백을 듣기를 기대합니다. 의견을 보내 <a href=\"mailto:razurebatch@microsoft.com\">razurebatch@microsoft.com</a> 주시거나 <a href=\"https://www.github.com/Azure/doAzureParallel\" target=\"_blank\">Github 리포지토리</a>에 자유롭게 참여해 주시기 바랍니다.</p>\n\n<h3>추가 정보:</h3>\n\n<ul style=\"margin-left: 40px;\">\n <li><a href=\"https://www.github.com/Azure/doAzureParallel\">doAzureParallel 다운로드 및 시작</a></li>\n <li>doAzureParallel 패키지 사용과 관련된 질문은 <a href=\"https://www.github.com/Azure/doAzureParallel/tree/master/docs\">문서를</a> 참조하거나 자유롭게 문의하세요. <a href=\"mailto:razurebatch@microsoft.com\">razurebatch@microsoft.com</a></li>\n <li><a href=\"https://www.github.com/Azure/doAzureParallel/issues\">Github를 통해 문제를 제출하세요.</a></li>\n</ul>\n\n<h3>추가 리소스:</h3>\n\n<ul style=\"margin-left: 40px;\">\n <li>doAzureParallel 패키지에서 사용하는 기본 Azure 서비스인 Azure<a href=\"https://azure.microsoft.com/en-us/services/batch\"> Batch</a>를 참조하세요.</li>\n <li><a href=\"https://azure.microsoft.com/en-us/solutions/high-performance-computing\">Azure의 범용 HPC</a></li>\n</ul>"

### YamlMime:Yaml
ms.openlocfilehash: d4fde604939d0abee3184f010738166383d2a70e
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139900325"
Slug: storage-for-media-services
Title: Media Services 대한 Storage
Summary: Storage 미디어 워크플로의 매우 중요한 구성 요소입니다. 이 블로그에서는 Media Services Storage 사용할 때 주의해야 하는 다양한 항목을 다룹니다.
Content: >-
  <h1>Media Services 대한 Storage</h1>


  <p>Storage 미디어 워크플로의 매우 중요한 구성 요소입니다. Media Services 계정을 만들 때 기존 Storage 계정을 만들거나 선택하라는 메시지가 표시됩니다.&nbsp; Media Services 자산의 개념을 사용하여 미디어 콘텐츠를 관리<a href="https://msdn.microsoft.com/en-us/library/hh974277.aspx">합니다</a>.&nbsp; 자산의 미디어 파일은 스토리지 계정에 저장되지만 자산의 엔터티 메타데이터는 내부 리포지토리에 Media Services 저장됩니다. 이 블로그에서는 Media Services Storage 사용할 때 주의해야 하는 다음 항목을 다룹니다.</p>


  <ul>
   <li>Storage 중복성</li>
   <li>Storage 키</li>
   <li>크기 조정 Storage</li>
   <li>Storage 분석 및 로깅</li>
   <li>Storage 미디어 자산</li>
   <li>자산 업로드</li>
   <li>스토리지 비용</li>
  </ul>


  <p>&nbsp;</p>


  <h2>Storage 중복성</h2>


  <p>Microsoft Azure 스토리지 계정의 데이터는 항상 내구성과 고가용성을 보장하기 위해 복제되며 일시적인 하드웨어 오류 발생 시에도 <a href="https://azure.microsoft.com/en-us/support/legal/sla/">Azure Storage SLA</a>를 충족합니다. Azure Storage <a href="https://msdn.microsoft.com/en-us/library/azure/dn727290.aspx">중복성을</a> 위한 몇 가지 옵션을 제공합니다. 프로덕션 Media Services 계정과 연결된 Storage 계정의 경우 스토리지 계정을 &ldquo;GRS(지역 중복 스토리지)&rdquo; 또는 &ldquo;RA-GRS(읽기 액세스 지역 중복 스토리지)&rdquo;로 설정하는 것이&rsquo; 가장 좋습니다. 이러한 옵션은 홍수, 허리케인 등과 같은 지역 수준 재해에 대한 보호를 제공하므로 가장 좋습니다. 스토리지 계정을 만든 후 데이터를 복제하는 방법을 변경할 수 있지만 LRS(로컬 중복 Storage)에서 GRS 또는 RA-GRS로 전환하면 추가 일회성 데이터 전송 비용이 발생할 수 있습니다. 스토리지 계정 복제를 관리하는 방법에 대한 자세한 내용은 <a href="https://azure.microsoft.com/en-us/documentation/articles/storage-manage-storage-account/#georeplication">방법: Storage 계정 복제 관리</a> 문서에서 확인할 수 있습니다. LRS, GRS 및 RA-GRS에 대한 가격 책정은 서로 다릅니다. 세부 정보는 <a href="https://azure.microsoft.com/en-us/pricing/details/storage/">Storage 가격 책정 세부 정보</a> 페이지에서 찾을 수 있습니다.&nbsp;</p>


  <h2>Storage 키</h2>


  <p>스토리지 계정을 만들면 Azure에서 512비트 스토리지 액세스 키 2개를 생성합니다. 이 키는 스토리지 계정에 액세스할 때 인증에 사용됩니다. 이러한 키를 보호하는 것이 중요합니다. 몇 가지 규정 준수 표준에는 주기적인 키 다시 생성이 필요하며 조직에서 대상으로 하는 규정 준수 표준에 따라 키 다시 생성에 대한 정책을 정의해야 합니다. Media Services 스토리지 계정에 미디어 데이터를 읽고 쓰기 위해 하나의 스토리지 키가 필요합니다. Azure 관리 포털을 통해 Media Services 계정을 만드는 경우 기본 스토리지 키는 Media Services 함께 저장되는 키입니다. 스토리지 키를 다시 생성하는 경우 미디어 계정이 예상대로 계속 작동하도록 유효한 업데이트된 키를 제공해야 <strong>합니다</strong> . Media Services 기반 애플리케이션의 중단을 방지하기 위해 키를 한 번에 하나씩 다시 생성할 수 있습니다. <a href="https://azure.microsoft.com/en-us/documentation/articles/media-services-roll-storage-access-keys/">스토리지 액세스 키를 롤링한 후 Media Services 업데이트하는 방법에 </a>대한 문서에서 설명합니다.</p>


  <h2>크기 조정 Storage</h2>


  <p>단일 스토리지 계정에는 확장성 및 성능 목표에 Azure Storage 잘 문서화된 특정 <a href="https://msdn.microsoft.com/library/azure/dn249410.aspx">규모 및 성능 제한이 있습니다</a>. 미디어 파일은 대용량이므로 단일 스토리지 계정만으로는 비즈니스에 충분하지 않을 수 있습니다. Media Services 단일 Media Services 계정으로 여러 스토리지 계정을 연결하는 기능을 제공합니다. 여러 스토리지 계정을 Media Services 계정에 연결하면 다음과 같은 이점이 제공됩니다.</p>


  <ul>
   <li>자산을 여러 스토리지 계정에서 부하 분산합니다.</li>
   <li>대량의 콘텐츠 저장 및 처리를 위해 미디어 서비스를 확장할 수 있습니다.</li>
   <li>스트리밍 또는 DRM으로 보호된 파일 스토리지에서 mezzanine(원본) 파일 스토리지를 격리합니다.</li>
  </ul>


  <p>자세한 내용은 다음 항목\샘플을 참조하세요. Azure Media Services 여러 스토리지 계정에서 자산을 관리하는 <a href="https://msdn.microsoft.com/en-us/library/dn271889.aspx">여러 Storage 계정</a>에서 Media Services 자산 관리 및 부하 분산 전략 정의 <a href="https://social.msdn.microsoft.com/Forums/windowsazure/en-US/bda5f539-01b4-4b51-b193-68e0b0fcaa11/how-to-manage-multiple-storage-accounts-attached-to-a-media-services-account?forum=MediaServices">방법: 연결된 여러 Storage 계정 관리 Media Services 계정</a> 현재 여러 스토리지 계정을 연결하는 유일한 방법은 Azure Service Management REST API를 사용하는 것입니다.&nbsp;</p>


  <h2>Storage 분석 및 로깅</h2>


  <p>Azure Storage 분석은 로깅을 수행하며 Storage 계정에 대한 메트릭 데이터를 제공합니다. 이 데이터를 사용하여 요청을 추적하고 사용량 추세를 분석하며 스토리지 계정에 대한 문제를 진단할 수 있습니다. <a href="https://manage.windowsazure.com/">Azure 관리 포털</a>에서 Storage Analytics를 사용하도록 설정할 수 있습니다. 자세한 내용은 <a href="https://azure.microsoft.com/en-us/documentation/articles/storage-monitor-storage-account/">Storage 계정을 모니터링하는 방법을 참조하세요</a>. Media Services Blob Service를 사용하여 미디어 데이터를 저장하므로 Blob에 대한 자세한 정보 모니터링을 켜고 며칠의 보존 정책을 사용하여 Blob에 대한 로깅을 구성하는 것이 좋습니다. Storage 서비스는 집계된 분석 데이터를 Blob 서비스 및 Table service API를 사용하여 각각 액세스할 수 있는 잘 알려진 Blob 및 테이블에 저장합니다. 이 항목에 대한 자세한 내용은 <a href="https://msdn.microsoft.com/en-us/library/azure/hh343270.aspx">Storage Analytics</a>를 참조하세요. 특히 <a href="https://msdn.microsoft.com/en-us/library/azure/hh343264.aspx">메트릭 테이블 스키마</a> 및 <a href="https://msdn.microsoft.com/en-us/library/azure/hh343259.aspx">로그 형식</a> 항목에 주의하세요. Media Services 경우 Storage 수집, 인코딩 및 배달 워크플로에 포함됩니다. 메트릭 테이블 구성표 및 로깅 형식을 이해하면 애플리케이션에서 발생하는 오류를 분석하는 데 많은 도움이 됩니다. <a href="https://blogs.msdn.com/b/windowsazurestorage/archive/2013/09/07/announcing-storage-client-library-2-1-rtm.aspx">또한 Storage Client 2.1 릴리스</a>부터 요청 실행 및 REST 요청과 관련하여 클라이언트 쪽 추적을 사용하도록 설정할 수 있습니다. 또한 <a href="https://azure.microsoft.com/en-us/documentation/articles/cloud-services-dotnet-diagnostics/">Azure Diagnostics</a> 는 클라우드에서 이러한 추적을 유지하려는 경우 클라이언트 추적 메시지를 WADLogsTable로 리디렉션할 수 있는 추적 수신기를 제공합니다. &ldquo;로그 데이터 형식에 대한 자세한 내용은 <a href="https://blogs.msdn.com/b/windowsazurestorage/archive/2013/09/07/announcing-storage-client-library-2-1-rtm.aspx">Storage Client 2.1 릴리스</a>를 발표하는 블로그의 클라이언트 추적&rdquo; 섹션을 참조하세요. 스토리지 로깅과 함께 사용되는 클라이언트 쪽 추적은 스토리지와의 애플리케이션 상호 작용에 대한 전체 보기를 제공합니다.</p>


  <h3>Storage Analytics와 관련된 추가 리소스</h3>


  <ul>
   <li><a href="https://channel9.msdn.com/Series/DIY-Windows-Azure-Troubleshooting/Storage-Analytics">Storage Analytics 비디오</a> &ndash; 스토리지 분석을 사용하도록 설정하고 사용하는 방법을 보여 주는 5분 반 분량의 짧은 비디오입니다.</li>
   <li><a href="https://blogs.msdn.com/b/kwill/archive/2014/02/06/windows-azure-storage-analytics-sdp-package.aspx">Storage Analytics SDP(진단 플랫폼 지원) 패키지</a> &ndash; 모든 스토리지 분석 로그를 빠르고 쉽게 수집할 수 있습니다.</li>
   <li><a href="https://msdn.microsoft.com/library/azure/hh360997.aspx">Storage Analytics 청구</a> &ndash; Storage Analytics의 비용과 메트릭 및 로깅 데이터를 사용하여 스토리지 서비스 청구서를 이해하는 방법을 설명하는 MSDN 항목</li>
   <li><a href="https://blogs.msdn.com/b/windowsazurestorage/archive/2011/08/03/windows-azure-storage-logging-using-logs-to-track-storage-requests.aspx">Storage 요청</a> &ndash; 추적 로그를 사용하여 스토리지 요청을 추적하는 방법에 대한 항목을 다루는 블로그</li>
   <li><a href="https://blogs.msdn.com/b/windowsazurestorage/archive/2012/12/03/azcopy-uploading-downloading-files-for-windows-azure-blobs.aspx">AzCopy</a> &ndash; Azure Storage Blob용 파일을 업로드/다운로드하는 도구(로그 다운로드에 사용할 수 있음)</li>
  </ul>


  <p>&nbsp;</p>


  <h2>&nbsp;</h2>


  <h2>Storage 미디어 자산</h2>


  <p>앞에서 설명한 대로 <a href="https://msdn.microsoft.com/en-us/library/hh974277.aspx">자산</a> 은 단일 오디오 시각적 개체 프레젠테이션을 나타내는 논리 단위입니다.&nbsp; 자산에는 <a href="https://msdn.microsoft.com/en-us/library/hh974275.aspx">AssetFile</a>이라는 엔터티가 나타내는 1~2개의 미디어 파일 컬렉션이 포함되어 있습니다. Media Services Storage 컨테이너를 사용하여 자산을 나타냅니다. <a href="https://msdn.microsoft.com/en-us/library/hh974275.aspx">AssetFiles는 자산</a> 컨테이너에 블록 Blob으로 저장됩니다. Storage 데이터를 보는 데 사용할 수 있는 몇 가지 Storage Explorer 애플리케이션이 있습니다. 이러한 애플리케이션에 대한 자세한 내용은 <a href="https://blogs.msdn.com/b/windowsazurestorage/archive/2014/03/11/windows-azure-storage-explorers-2014.aspx">Azure Storage 탐색</a>기를 참조하세요. Media Services API 외부의 컨테이너 내에서 자산 컨테이너 또는 Blob을 추가, 편집 또는 삭제하지 마세요. 이렇게 하면 Media Services API를 사용하여 빌드된 미디어 애플리케이션의 자산에 액세스하려고 할 때 문제가 발생할 수 있습니다. 또한 현재 <strong>블록 Blob의 상한은 200GB이므로 AssetFile은 200GB를 초과할 수 없습니다</strong>. &nbsp;</p>


  <h2>자산 업로드</h2>


  <p>미디어 파일은 거대하며 Azure 데이터 센터에 대한 네트워크 연결에 따라 <a href="https://asperasoft.com/">Aspera</a>에서 제공하는 것과 같은 UDP 기반 전송 기술을 사용하여 Storage 계정에 미디어 콘텐츠를 업로드하는 것이 좋습니다. Aspera는 Azure에서 Asperas <em>fasp</em> 고속 전송 소프트웨어에 대한 액세스를 제공하는 Microsoft Azure&rdquo; 대한 Aspera&rsquo; On Demand라는 &ldquo;서비스를 제공합니다. <a href="https://azure.microsoft.com/en-us/gallery/store/overview/">Azure Store</a>에서 이 서비스에 대한 구독을 구입할 수 있습니다. Azure의 Asperas 제품에 대한 자세한 내용은 Microsoft Azure 대한 Aspera&rsquo; on Demand를 참조하세요. 또한 몇 가지 일반적인 질문에 대한 답변을 얻으려면 Microsoft Azure FAQ에 대한 Aspera On Demand를 살펴보세요. Asperas&rsquo; 서비스를 Media Services 대량 수집 API와 함께 사용하여 미디어 콘텐츠 카탈로그를 대량으로 수집할 수 있습니다. 이에 대한 자세한 내용은 <a href="https://msdn.microsoft.com/en-us/library/jj853022.aspx">.NET용 Media Services SDK를 사용하여 대량으로 자산 수집</a>을 참조하세요. .NET에서 프로그래밍하지 않으려면 <a href="https://msdn.microsoft.com/en-us/library/jj853021.aspx">대량 수집 REST API</a>를 사용할 수 있습니다. 이 항목에 대한 자세한 내용은 MSDN의 <a href="https://msdn.microsoft.com/en-us/library/dn535715.aspx">업로드 Media</a> 항목을 참조하세요.&nbsp;</p>


  <h2>스토리지 비용</h2>


  <p><a href="https://azure.microsoft.com/en-us/pricing/details/storage/">Storage 가격 책정 세부 정보</a> 페이지에서는 스토리지 비용이 얼마나 드는지에 대한 정보를 제공합니다. Media Services 사용하면 Azure 계정에 블록 Blob에 대한 요금이 청구됩니다(앞에서 설명한 대로 각 자산은 컨테이너로 표시되고 AssetFiles는 컨테이너에 블록 Blob으로 저장됨). 따라서 자산을 만들고 크기가 1GB인 AssetFile 하나를 추가하면 1GB의 블록 Blob Storage에 대한 요금이 청구됩니다. 비용은 스토리지 계정을 LRS, GRS 또는 RA-GRS로 설정하는지 여부에 따라 달라집니다. 블록 Blob 외에도 Storage 트랜잭션 비용이 적용됩니다. 또한 Storage 계정이 있는 지역 외부로 데이터를 전송하는 경우에도 <a href="https://azure.microsoft.com/en-us/pricing/details/data-transfers/">데이터 전송</a> 요금이 적용됩니다. Azure 데이터 센터 내에서 데이터 전송에 대한 요금은 청구되지 않지만 다른 Azure 지역의 Azure 서비스로 데이터를 전송하는 경우 데이터 전송 요금이 적용됩니다. 데이터 센터 내의 데이터 전송은 데이터가 스토리지 계정에서 인코딩 작업이 수행되는 실제 VM으로 복사될 때 Media Services 인코딩 작업을 실행할 때 발생합니다.</p>

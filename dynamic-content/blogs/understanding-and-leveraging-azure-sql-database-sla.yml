### YamlMime:Yaml
ms.openlocfilehash: 90d846a7ca3af1e3a644286ccd89186e43ec04cc
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139900129"
Slug: understanding-and-leveraging-azure-sql-database-sla
Title: Azure SQL Database SLA 이해 및 활용
Summary: 데이터가 비즈니스의 생명선인 경우 데이터베이스가 신뢰할 수 있고 안전하며 수행하도록 요청될 때 사용할 수 있는지 확인하려고 합니다.
Content: >-
  <p>데이터가 비즈니스의 생명선인 경우 데이터베이스가 신뢰할 수 있고 안전하며 수행하도록 요청될 때 사용할 수 있는지 확인하려고 합니다. SLA(서비스 수준 계약)는 가동 시간 및 성능에 대한 기대를 설정하고 비즈니스 요구 사항을 충족하는 시스템을 설계하기 위한 핵심 입력입니다. 최근에 <a href="https://azure.microsoft.com/en-us/support/legal/sla/sql-database/v1_4/" target="_blank">새 버전의 SQL Database SLA</a>를 게시하여 관계형 데이터베이스 서비스 중에서 가장 높은 가용성을 보장하고 업계&rsquo; 최초의 비즈니스 연속성 SLA를 도입했습니다. 이러한 업데이트는 데이터가 안전한지 확인하고 비즈니스가 중단적인 이벤트에 직면하여 계속 실행되는 데 의존하는 앱 및 프로세스를 보장하기 위한 당사의 노력을 더욱 확고히 합니다.</p>


  <p>최근 <a href="https://azure.microsoft.com/en-us/updates/azure-sql-db-published-first-in-industry-business-continuity-sla-for-a-relational-database-service/" target="_blank">서비스 업데이트</a>에서 설명한 대로 SLA에서 두 가지 주요 변경 내용을 만들었습니다. 먼저 Azure SQL Database 이제 중요 비즈니스 계층의 영역 중복 데이터베이스에 대해 99.995% 가용성 SLA를 제공합니다. 이는 모든 관계형 데이터베이스 서비스 중 업계에서 가장 높은 SLA입니다. 또한 SLA가 유지 관리되지 않는 경우 최대 100%의 월별 비용 크레딧으로 지원됩니다. 둘째, 두 개의 서로 다른 Azure 지역 간에 지역에서 복제되는 중요 비즈니스용 계층의 데이터베이스에 대한 비즈니스 연속성 SLA를 제공합니다. 이 SLA는 SLA가 유지 관리되지 않을 때 100%의 월별 비용 크레딧을 포함하여 5초 RPO(복구 지점 목표) 및 30초 RTO(복구 시간 목표)를 매우 강력하게 보장합니다. Azure SQL Database 비즈니스 연속성 SLA를 제공하는 업계에서 유일한 관계형 데이터베이스 서비스입니다.</p>


  <p>다음 표에서는 다양한 클라우드 공급업체 SLA를 빠르게 나란히 비교합니다&rsquo; .</p>


  <table border="1" cellpadding="2" cellspacing="0">
      <tbody>
          <tr>
              <td colspan="1" rowspan="2" style="text-align: center;" valign="top"><strong>플랫폼</strong></td>
              <td colspan="2" rowspan="1" style="text-align: center;" valign="top"><strong>가용성</strong></td>
              <td colspan="4" rowspan="1" style="text-align: center;" valign="top"><strong>비즈니스 연속성</strong></td>
          </tr>
          <tr>
              <td valign="top">작동 시간</td>
              <td valign="top">최대 크레딧</td>
              <td valign="top">RTO</td>
              <td valign="top">최대 크레딧</td>
              <td valign="top">RPO</td>
              <td valign="top">최대 크레딧</td>
          </tr>
          <tr>
              <td valign="top"><strong>Azure SQL Database</strong></td>
              <td valign="top">99.995%</td>
              <td valign="top">100%</td>
              <td valign="top">30초</td>
              <td valign="top">100%</td>
              <td valign="top">5초</td>
              <td valign="top">100%</td>
          </tr>
          <tr>
              <td valign="top"><strong>AWS RDS</strong></td>
              <td valign="top">99.95%</td>
              <td valign="top">100%</td>
              <td valign="top">해당 없음</td>
              <td valign="top">해당 없음</td>
              <td valign="top">해당 없음</td>
              <td valign="top">해당 없음</td>
          </tr>
          <tr>
              <td valign="top"><strong>GCP Cloud SQL</strong></td>
              <td valign="top">99.95%</td>
              <td valign="top">50%</td>
              <td valign="top">해당 없음</td>
              <td valign="top">해당 없음</td>
              <td valign="top">해당 없음</td>
              <td valign="top">해당 없음</td>
          </tr>
          <tr>
              <td valign="top"><strong>Alibaba ApsaraDB</strong></td>
              <td valign="top">99.9%</td>
              <td valign="top">25%</td>
              <td valign="top">해당 없음</td>
              <td valign="top">해당 없음</td>
              <td valign="top">해당 없음</td>
              <td valign="top">해당 없음</td>
          </tr>
          <tr>
              <td valign="top"><strong>Oracle 클라우드</strong></td>
              <td valign="top">99.99%</td>
              <td valign="top">25%</td>
              <td valign="top">해당 없음</td>
              <td valign="top">해당 없음</td>
              <td valign="top">해당 없음</td>
              <td valign="top">해당 없음</td>
          </tr>
      </tbody>
  </table>


  <p align="center"><em>2019년 7월 18일 현재 데이터이며 예고 없이 변경될 수 있습니다.</em></p>


  <h2>가용성 SLA 이해</h2>


  <p>가용성 SLA는 모든 지역에서 주기적으로 발생하는 중단 이벤트를 자동으로 처리하는 SQL Database&rsquo; 기능을 반영합니다. 지역 내에서 자동 장애 조치(failover)를 사용하여 컴퓨팅 및 스토리지 리소스의 지역 내 중복성, 지속적인 상태 모니터링 및 자체 복구 작업에 의존합니다. 이러한 작업은 동기적으로 복제된 데이터를 사용하며 데이터 손실이 발생하지 않습니다. 따라서 가동 시간은 가용성에 가장 중요한 메트릭입니다. Azure SQL Database 모든 서비스 계층에서 기준 99.99% 가용성 SLA를 계속 제공하지만, 이제 가용성 영역을 지원하는 지역의 중요 비즈니스용 또는 프리미엄 계층에 대해 더 높은 99.995% SLA를 제공하고 있습니다. 이름에서 볼 수 있듯이 중요 비즈니스용 계층은 성능 및 안정성 측면에서 가장 까다로운 애플리케이션을 위해 설계되었습니다. 이 서비스 계층을 AZ(Azure 가용성 영역)와 통합하면 AZ가 제공하는 추가 내결함성 및 격리를 활용하므로 AZ에서 컴퓨팅 및 스토리지 중복성과 동일한 자체 복구 작업을 사용하여 더 높은 가용성 보장을 제공할 수 있습니다. 컴퓨팅 및 스토리지 중복성은 중요 비즈니스용 데이터베이스 및 탄력적 풀에 기본 제공되므로 가용성 영역을 사용하면 추가 비용이 들지 않습니다. 고가<a href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-high-availability#premium-and-business-critical-service-tier-availability" target="_blank">용성 및 Azure SQL Database</a>&rdquo; 설명서 &ldquo; 에서는 중요 비즈니스용 서비스 계층이 가용성 영역을 활용하는 방법에 대한 자세한 정보를 제공합니다. Azure의 <a href="https://docs.microsoft.com/en-us/azure/availability-zones/az-overview" target="_blank">가용성 영역이란?</a> 설명서 &ldquo; 에서 AZ를 지원하는 지역 목록을 찾을 수도 있습니다.&rdquo;</p>


  <p>99.99%의 가용성은 중요 비즈니스용 계층을 포함한 모든 데이터베이스의 가동 중지 시간이 연간 52.56분을 초과하지 않아야 함을 의미합니다. 영역 중복성은 가용성을 99.995%로 증가합니다. 즉, 연간 최대 가동 중지 시간은 26.28분 또는 50% 감소합니다. 가동 중지 시간은 모든 연결 설정 시도가 실패한 기간으로 정의됩니다. 이 수준의 가용성을 달성하려면 중요 비즈니스용 데이터베이스 또는 탄력적 풀을 만들 때 영역 중복 구성을 선택하기만 하면 됩니다. 다음 다이어그램과 같이 데이터베이스 만들기 또는 업데이트 API를 사용하거나 Azure Portal에서 프로그래밍 방식으로 수행할 수 있습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/053ce2db-1073-4e38-ae9b-18321e235273.png"><img alt="Screenshot of create or update database API in Azure portal" border="0" height="976" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ec7596c4-5a10-453d-b21f-9974e34c4552.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Azure Portal에서 데이터베이스 API 만들기 또는 업데이트 스크린샷" width="1673"></a></p>


  <p>영역 중복 용량은 대부분의 지역에서 Gen5를 기반으로 하므로 Gen5 컴퓨팅 생성을 사용하는 것이 좋습니다. 영역 중복 구성으로의 변환은 데이터베이스의 서비스 계층 또는 컴퓨팅 크기를 변경할 때 발생하는 것과 유사한 비동기 온라인 프로세스입니다. 애플리케이션을 오프라인으로 전환하거나 묵인할 필요는 없습니다. <a href="https://social.technet.microsoft.com/wiki/contents/articles/4235.retry-logic-for-transient-failures-in-windows-azure-sql-database.aspx" target="_blank">연결 논리가 제대로 구현되는</a> 한 이 전환 중에 애플리케이션이 중단되지 않습니다.</p>


  <h2>비즈니스 연속성 SLA 이해</h2>


  <p>비즈니스 연속성은 지역 내 자체 복구 작업으로 완화할 수 없는 영향으로 치명적인 이벤트가 발생하는 동안 서비스를 신속하게 복구하고 계속 작동할 수 있는 기능입니다. 이러한 유형의 계획되지 않은 이벤트는 드물지만 그 영향은 극적일 수 있습니다. 비즈니스 연속성은 지리적으로 구분된 두 개 이상의 위치에 데이터베이스의 대기 복제본을 프로비전하여 구현됩니다. 이러한 위치 간의 거리가 길기 때문에 비동기 데이터 복제는 네트워크 대기 시간의 성능 영향을 방지하는 데 사용됩니다. 비동기 복제 사용의 주요 장차는 데이터 손실 가능성이 있습니다. SQL Database 활성 지역 복제 기능은 지리적으로 중복된 데이터베이스를 만들고 관리하여 비즈니스 연속성을 사용하도록 설계되었습니다. 그것은&rsquo; 몇 년 동안 생산에 있었고 우리는 매우 공격적인 보증을 지원하기 위해 원격 분석을 많이 가지고있다.</p>


  <p>비즈니스 연속성 이벤트의 영향을 측정하는 데 사용되는 두 가지 일반적인 메트릭이 있습니다. RTO(복구 시간 목표)는 애플리케이션의 가용성을 복원할 수 있는 시간을 측정합니다. RPO(복구 지점 목표)는 가용성이 복원된 후 예상되는 최대 데이터 손실을 측정합니다. RPO에 대해 5초, RTO에 30초의 SLA를 제공할 뿐만 아니라 이러한 SLA가 충족되지 않는 경우 업계 최초로 100% 서비스 크레딧을 제공합니다. 즉, 데이터베이스 장애 조치 요청이 30초 이내에 완료되지 않거나 복제 지연이 1시간 이내에 99번째 백분위수에서 5초를 초과할 경우 해당 보조 데이터베이스의 월별 비용의 100%에 대한 서비스 크레딧을 받을 수 있습니다. 서비스 크레딧을 받으려면 보조 데이터베이스의 컴퓨팅 크기가 주 데이터베이스와 동일해야 합니다. 그러나 이러한 메트릭은 치명적인 중단으로부터 자동 복구를 보장하는 것으로 해석되어서는 안 됩니다. 데이터를 동기화할 때 Azure SQL&rsquo; 안정성 및 성능과 애플리케이션이 요청할 때 장애 조치(failover)의 속도를 반영합니다. 완전 자동화된 복구 프로세스를 선호하는 경우 1시간 RTO가 있는 자동 장애 조치(failover) 정책이 있는 자동 장애 조치 <a href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-auto-failover-group" target="_blank">(failover) 그룹을</a> 고려해야 합니다.</p>


  <p>장애 조치(failover) 요청의 기간(예: RTO 규정 준수)을 측정하려면 보조 서버의 master 데이터베이스에서 <a href="https://docs.microsoft.com/en-us/sql/relational-databases/system-dynamic-management-views/sys-dm-operation-status-azure-sql-database?view=azuresqldb-current" target="_blank">sys.dm_operation_status</a> 대해 다음 쿼리를 사용할 수 있습니다. 작업 상태 정보는 24시간 동안만 유지됩니다.</p>


  <pre>

  SELECT  datediff(s, start_time, last_modify_time) as [Failover time in seconds] FROM sys.dm_operation_status    WHERE major_resource_id = &#39;&lt;my_secondary_db_name&gt;&#39;,  operation=&rsquo;ALTER DATABASE FORCE FAILOVER ALLOW DATA LOSS &rsquo;, state=2 ORDER BY start_time DESC;</pre>


  <p>주 데이터베이스의 <a href="https://docs.microsoft.com/en-us/sql/relational-databases/system-dynamic-management-views/sys-dm-geo-replication-link-status-azure-sql-database?view=azuresqldb-current" target="_blank">sys.dm_replication_link_status</a> 대한 다음 쿼리는 partner_server 생성된 보조 데이터베이스에 대한 복제 지연 시간(예: RPO 규정 준수)을 초 단위로 표시합니다. 시간당 통계적으로 유의한 측정 집합을 갖도록 30초 이하마다 동일한 쿼리를 실행해야 합니다.</p>


  <pre>

  SELECT link_guid, partner_server, replication_lag_sec FROM sys.dm_replication_link_status</pre>


  <h2>가용성 및 비즈니스 연속성을 결합하여 중요 업무용 애플리케이션 빌드</h2>


  <p>업데이트된 SLA는 실질적으로 어떤 의미인가요? 우리의 목표는 Azure에서 복원력이 뛰어나고 신뢰할 수 있는 서비스를 빌드하고 SQL Database 지원하는 것입니다. 그러나 일부 중요 업무용 애플리케이션의 경우 연간 26분의 가동 중지 시간이 허용되지 않을 수 있습니다. 영역 중복 데이터베이스 구성을 비즈니스 연속성 디자인과 결합하면 애플리케이션의 가용성을 더욱 높일 수 있습니다. 이 SLA 릴리스는 해당 기회를 실현하기 위한 첫 번째 단계입니다.</p>

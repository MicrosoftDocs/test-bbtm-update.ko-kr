### YamlMime:Yaml
ms.openlocfilehash: 0f11e78e68598e95d0f284b5450f42710a6ae922
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139905657"
Slug: apache-spark-to-azure-cosmosdb-connector-is-now-generally-available
Title: '이제 Apache Spark에서 Azure #CosmosDB 커넥터로 일반 공급'
Summary: 이제 Apache Spark에서 Azure로 Cosmos DB 커넥터를 일반 공급한다는 사실을 발표하게 되어 기쁩니다. 실시간 데이터 분석 및 데이터 과학, 기계 학습 및 탐색을 가능하게 합니다.
Content: "<p>이제 <a href=\"https://aka.ms/spark-documentdb\" target=\"_blank\">Apache Spark에서 Azure로 Cosmos DB 커넥터</a>를 일반 공급한다는 사실을 발표하게 되어 기쁩니다. Azure Cosmos DB에서 전 세계적으로 분산된 데이터에 대한 실시간 데이터 분석 및 데이터 과학, 기계 학습 및 탐색이 가능합니다. Apache Spark를 Azure Cosmos DB에 연결하면 빠르게 움직이는 데이터 과학 문제를 해결하는 고객의&rsquo; 기능이 가속화되며, Azure Cosmos DB를 사용하여 데이터를 빠르게 지속하고 쿼리할 수 있습니다. Apache Spark에서 Azure Cosmos DB 커넥터는 <a href=\"https://github.com/Azure/azure-documentdb-spark/wiki\" target=\"_blank\">IoT, 데이터 과학 및 분석 시나리오</a>에 이르기까지 빠르게 변화하는 글로벌 분산 데이터에 대해 분석 및 푸시다운 조건자 필터링을 수행할 때 업데이트 가능한 열을 사용하도록 설정하는 네이티브 Azure Cosmos DB 관리형 인덱스를 효율적으로 활용합니다. Apache Spark에서 Azure로 Cosmos DB 커넥터는 <a href=\"https://github.com/Azure/azure-documentdb-rxjava\" target=\"_blank\">Microsoft Azure Cosmos DB SDK에 대해 Rx(Java Reactive Extension)</a>를 사용합니다.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ccc8eb43-4199-4427-9792-65d5fe68b264.png\"><img alt=\"Azure-DocumentDB-Spark_Connector\" border=\"0\" height=\"528\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/97bc4145-21de-47f4-b1ef-12bd4635c47a.png\" style=\"border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" title=\"Azure-DocumentDB-Spark_Connector\" width=\"1191\"></a></p>\n\n<p><em>그림 1: Azure Cosmos DB용 Apache Spark 커넥터를 사용하면 Apache Spark 작업자 노드와 Azure Cosmos DB 데이터 파티션 간에 데이터가 병렬화됩니다.</em></p>\n\n<p>Azure Cosmos DB용 Spark 커넥터를 사용하면 Azure Cosmos DB 데이터 파티션 내의 데이터 위치를 자세히 설명하는 메타데이터가 Spark 마스터 노드(1단계 및 2단계)에 제공됩니다. 따라서 처리할 때 Spark 작업자 노드와 Azure Cosmos DB 데이터 파티션 간에 데이터가 병렬화됩니다(3단계와 4단계). 따라서 데이터는 Azure Cosmos DB에 저장되며, Apache Spark를 사용하여 기계 학습 및 데이터 과학 문제를 해결할 때 Azure Cosmos DB에서 지원되는 성능, 확장성, 처리량 및 일관성을 모두 얻을 수 있습니다.</p>\n\n<p>오늘 <a href=\"https://aka.ms/spark-documentdb\" target=\"_blank\">시작해</a> <a href=\"https://github.com/Azure/azure-documentdb-spark\" target=\"_blank\">GitHub</a> Spark 커넥터를 다운로드할 수 있습니다. <a href=\"https://github.com/azure/azure-cosmosdb-spark/\" target=\"_blank\">azure-cosmosdb-spark</a> GitHub 리포지토리에는 다음을 비롯한 <a href=\"https://github.com/Azure/azure-cosmosdb-spark/tree/master/samples/notebooks\" target=\"_blank\">샘플 Notebook도 포함되어 있습니다.</a></p>\n\n<ul>\n <li><a href=\"https://github.com/Azure/azure-cosmosdb-spark/blob/master/samples/notebooks/On-Time Flight Performance with Spark and Cosmos DB - Seattle.ipynb\" target=\"_blank\">Apache Spark 및 Azure Cosmos DB를 사용한 정시 비행 성능</a>: 이 Notebook에는 분산 분석, GraphFrame 및 ML(로지스틱 회귀) 예제도 포함됩니다.</li>\n <li><a href=\"https://github.com/Azure/azure-cosmosdb-spark/blob/master/samples/notebooks/Spark-to-CosmosDB_Connector.ipynb\" target=\"_blank\">Apache Spark 및 Azure Cosmos DB 변경 피드</a>: 이 Notebook은 Apache Spark가 Azure Cosmos DB 변경 피드와 상호 작용하는 방법의 예를 제공합니다.</li>\n <li><a href=\"https://github.com/Azure/azure-cosmosdb-spark/blob/master/samples/notebooks/Twitter with Spark and Azure Cosmos DB Change Feed.ipynb\" target=\"_blank\">Apache Spark 및 Azure Cosmos DB 변경 피드</a>가 있는 Twitter: 실시간 Twitter 원본을 포함하도록 Azure Cosmos DB 변경 피드 Notebook을 슈퍼 충전합니다.</li>\n <li><a href=\"https://github.com/Azure/azure-cosmosdb-spark/blob/master/samples/notebooks/Using Apache Spark to query Cosmos DB Graphs.ipynb\" target=\"_blank\">Apache Spark를 사용하여 Azure Cosmos DB 그래프 쿼리</a>: Azure Cosmos DB 그래프 컨테이너에 대해 gremlin 쿼리를 실행하고 Core API를 통해 Apache Spark를 사용하여 동일한 컨테이너를 쿼리할 수 있는 다중 모델 예제입니다.</li>\n</ul>\n\n<h2>성능 향상</h2>\n\n<p>올해 초 <a href=\"https://docs.microsoft.com/en-us/azure/cosmos-db/spark-connector\" target=\"_blank\">Spark 커넥터를 처음 발표한 이후</a> <a href=\"https://github.com/Azure/azure-cosmosdb-spark/issues\" target=\"_blank\">azure-cosmosdb-spark GitHub 문제</a> 및 직접 상호 작용을 통해 <a target=\"_blank\">askcosmosdb@microsoft.com</a>많은 피드백을 받았습니다. 분명히, Spark 커넥터의 미리 보기 이후 가장 중요한 개선 사항 중 하나는 다음과 같은 성능을 개선하는 것이었습니다.</p>\n\n<ul>\n <li>Spark 커넥터 연결 정책 구성이 더 추가되었습니다. 자세한 내용은 <a href=\"https://github.com/Azure/azure-cosmosdb-spark/wiki/Configuration-references\" target=\"_blank\">구성 참조를 참조</a>하세요.</li>\n <li>여러 Spark 버전에 대한 지원이 추가됨</li>\n <li>Azure Cosmos DB에 쓸 때 처리량 향상</li>\n <li>Azure Cosmos DB 변경 피드에 대한 지원이 추가됨</li>\n <li>다양한 버그 수정 해결</li>\n</ul>\n\n<h2>구조적 스트리밍 지원</h2>\n\n<p>기능 관점에서 가장 많이 요청된 요청은 구조적 스트리밍에 대한 지원을 사용하도록 설정하는 것이었습니다.&nbsp; 예를 들어 다음 코드 샘플에서는 Spark 구조적 스트리밍 및 Azure Cosmos DB 변경 피드를 사용하여 간격 수를 수행하고 출력을 콘솔에 푸시하는 방법을 제공합니다.</p>\n\n<pre>\nimport com.microsoft.azure.cosmosdb.spark._\nimport com.microsoft.azure.cosmosdb.spark.schema._\nimport com.microsoft.azure.cosmosdb.spark.config.Config\nimport org.codehaus.jackson.map.ObjectMapper\nimport com.microsoft.azure.cosmosdb.spark.streaming._\nimport java.time._\n\n \nval sourceConfigMap = Map(\n&quot;Endpoint&quot; -&gt; &quot;COSMOS DB ENDPOINT&quot;,\n&quot;Masterkey&quot; -&gt; &quot;COSMOS DB KEY&quot;,\n&quot;Database&quot; -&gt; &quot;DATABASE&quot;,\n&quot;Collection&quot; -&gt; &quot;COLLECTION&quot;,\n&quot;ConnectionMode&quot; -&gt; &quot;Gateway&quot;,\n&quot;ChangeFeedCheckpointLocation&quot; -&gt; &quot;checkpointlocation&quot;,\n&quot;changefeedqueryname&quot; -&gt; &quot;Streaming Query from Azure Cosmos DB Change Feed Internal Count&quot;)\n \n\n// Start reading change feed as a stream\nvar streamData = spark.readStream.format(classOf[CosmosDBSourceProvider].getName).options(sourceConfigMap).load()\n\n\n// Start streaming query to console sink\nval query = streamData.withColumn(&quot;countcol&quot;, streamData.col(&quot;id&quot;).substr(0, 0)).groupBy(&quot;countcol&quot;).count().writeStream.outputMode(&quot;complete&quot;).format(&quot;console&quot;).start()</pre>\n\n<p>이 경우 Azure Cosmos DB로 데이터를 푸시하는 Twitter 스트림을 사용하는 스트리밍 출력은 아래와 유사합니다.</p>\n\n<pre>\n-------------------------------------------\nBatch: 0\n-------------------------------------------\n+--------+-----+\n|countcol|count|\n+--------+-----+\n+--------+-----+\n\n-------------------------------------------\nBatch: 1\n-------------------------------------------\n+--------+-----+\n|countcol|count|\n+--------+-----+\n+--------+-----+\n...\n\n-------------------------------------------\nBatch: 5\n-------------------------------------------\n+--------+-----+\n|countcol|count|\n+--------+-----+\n|        | 8108|\n+--------+-----+\n\n-------------------------------------------\nBatch: 6\n-------------------------------------------\n+--------+-----+\n|countcol|count|\n+--------+-----+\n|        |21040|\n+--------+-----+\n...\n\n-------------------------------------------\nBatch: 13\n-------------------------------------------\n+--------+-----+\n|countcol|count|\n+--------+-----+\n|        |99907|\n+--------+-----+</pre>\n\n<div>&nbsp;</div>\n\n<p>자세한 내용은 다음을 참조하세요.</p>\n\n<ul>\n <li><a href=\"https://github.com/Azure/azure-cosmosdb-spark/wiki/Structured-Stream-demos\" target=\"_blank\">azure-cosmosdb-spark 구조적 스트림 데모</a></li>\n <li><a href=\"https://github.com/Azure/azure-cosmosdb-spark/wiki/Stream-Processing-Changes-using-Azure-Cosmos-DB-Change-Feed-and-Apache-Spark\" target=\"_blank\">Azure Cosmos DB 변경 피드 및 Apache Spark를 사용하여 스트림 처리 변경</a></li>\n</ul>\n\n<h2>다음 단계</h2>\n\n<p>Apache Spark에서 Azure로 Cosmos DB 커넥터를 사용하면 실시간 빅 데이터뿐만 아니라 고급 분석, 데이터 과학, 기계 학습 및 인공 지능에 대한 임시 및 대화형 쿼리를 모두 사용할 수 있습니다. Azure Cosmos DB는 전 세계 다양한 원본에서 증분 방식으로 수집되는 데이터를 캡처하는 데 사용할 수 있습니다. 여기에는 소셜 분석, 시계열, 게임 또는 애플리케이션 원격 분석, 소매 카탈로그, 최신 추세 및 카운터, 감사 로그 시스템이 포함됩니다. 모든 시나리오에 대해 자세히 알아보려면 다음을 포함하여 <a href=\"https://github.com/Azure/azure-cosmosdb-spark/wiki\" target=\"_blank\">azure-cosmosdb-spark GitHub wiki</a>를 참조하세요.</p>\n\n<ul>\n <li><a href=\"https://github.com/Azure/azure-cosmosdb-spark/wiki/Azure-Cosmos-DB-Spark-Connector-User-Guide\" target=\"_blank\">Azure Cosmos DB Spark Connecter 사용자 가이드</a></li>\n <li><a href=\"https://github.com/Azure/azure-cosmosdb-spark/wiki/Aggregations-Examples\" target=\"_blank\">분산 집계 예제</a></li>\n <li><a href=\"https://github.com/Azure/azure-cosmosdb-spark/wiki/Stream-Processing-Changes-using-Azure-Cosmos-DB-Change-Feed-and-Apache-Spark\" target=\"_blank\">Azure Cosmos DB 변경 피드 및 Apache Spark를 사용하여 변경 내용 스트림 처리</a></li>\n <li><a href=\"https://github.com/Azure/azure-cosmosdb-spark/wiki/Change-Feed-demos\" target=\"_blank\">변경 피드 데모</a></li>\n <li><a href=\"https://github.com/Azure/azure-cosmosdb-spark/wiki/Structured-Stream-demos\" target=\"_blank\">구조적 스트림 데모</a></li>\n</ul>\n\n<p>쿼리 실행을 시작하려면 <a href=\"https://portal.azure.com/#create/Microsoft.DocumentDB\" target=\"_blank\">Azure Portal에서 새 Azure Cosmos DB 계정을 만들고</a> <a href=\"https://github.com/Azure/azure-documentdb-spark\" target=\"_blank\">azure-cosmosdb-spark GitHub</a> 리포지토리에서 프로젝트로 작업합니다. Azure 구독, 요금 및 약정 없이 <a href=\"https://azure.microsoft.com/try/cosmosdb/\" target=\"_blank\">무료로 Azure Cosmos DB를 사용해 볼 수 있습니다</a>.</p>\n\n<p>도움이 필요하거나 질문이나 피드백이 있는 경우 <a href=\"https://stackoverflow.com/questions/tagged/azure-cosmosdb\" target=\"_blank\">Stack Overflow</a>의 개발자 포럼에 문의하세요. Twitter <a href=\"https://twitter.com/search?q=%23CosmosDB&amp;src=typd\" target=\"_blank\">#CosmosDB</a> 및 <a href=\"https://twitter.com/AzureCosmosDB\" target=\"_blank\">@AzureCosmosDB</a>.에서 최신 Azure Cosmos DB 뉴스 및 기능을 최신 상태로 유지하세요.</p>\n\n<p>&nbsp;</p>\n\n<p>&mdash;Azure Cosmos DB<a href=\"https://twitter.com/AzureCosmosDB\" target=\"_blank\">(@AzureCosmosDB</a><a href=\"https://twitter.com/search?q=%23CosmosDB&amp;src=typd\" target=\"_blank\">CosmosDB#</a>)의 친구</p>"

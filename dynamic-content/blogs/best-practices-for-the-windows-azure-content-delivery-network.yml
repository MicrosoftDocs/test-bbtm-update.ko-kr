### YamlMime:Yaml
ms.openlocfilehash: 297a84cb89f9454ee45ad5fe2e781253c68dbb4e
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139898703"
Slug: best-practices-for-the-windows-azure-content-delivery-network
Title: Windows Azure 콘텐츠 배달 네트워크에 대한 최선의 구현 방법
Summary: '발췌: https://msdn.microsoft.com/en-us/library/gg680299.aspx web.config 사용하여 호스트 개체 CDN 배달에서 캐싱 동작을 관리하려면 어떻게 해야 하나요?  Windows Azure 콘텐츠 배달...'
Content: '<p><i>발췌한 내용: </i><a target="_blank" href="https://msdn.microsoft.com/en-us/library/gg680299.aspx"><i>https://msdn.microsoft.com/en-us/library/gg680299.aspx</i></a></p>  <p><b>web.config 사용하여 호스트 개체 CDN 배달에서 캐싱 동작을 관리하려면 어떻게 해야 하나요?</b></p>  <p>Windows Azure Content Delivery Network(CDN)은 호스트된 서비스에서 제공하는 캐시 제어 헤더를 적용합니다. 웹 역할에서 콘텐츠를 제공하는 경우 IIS에서 제어합니다. 정적 콘텐츠에 대한 캐시 컨트롤 헤더는 웹 구성에서 &lt;staticContent&gt; 요소의 &lt;clientCache&gt; 요소를 변경하여 사용자 지정할 수 있습니다.</p>  <p>예를 들면 다음과 같습니다.</p>  <p>다음 구성 샘플은 HTTP "만료: 2038년 1월 19일 화요일 03:14:07 GMT" 헤더를 응답에 추가합니다. 그러면 요청이 지금부터 만료되도록 구성됩니다.</p>  <p>&lt;구성&gt;</p>  <p>&nbsp;&nbsp;&lt;system.webServer&gt;</p>  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;staticContent&gt;</p>  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;clientCache cacheControlMode="UseExpires"</p>  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; httpExpires="Tue, 19 Jan 2038 03:14:07 GMT" /&gt;</p>  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/staticContent&gt;</p>  <p>&nbsp;&nbsp;&lt;/system.webServer&gt;</p>  <p>&lt;/configuration&gt;</p>  <p>ASP.NET 페이지의 경우 기본 동작은 캐시 제어를 프라이빗으로 설정하는 것입니다. 이 경우 Windows Azure CDN 이 콘텐츠를 캐시하지 않습니다. 이 동작을 재정의하려면 Response 개체를 사용하여 기본 캐시 제어 설정을 변경합니다.</p>  <p>예를 들면 다음과 같습니다.</p>  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Response.Cache.SetCacheability(HttpCacheability.Public);</p>  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Response.Cache.SetExpires(DateTime.Now.AddYears(1));</p>  <p>원본의 루트 위치에 포함된 설정 모든 하위 폴더에 상속됩니다.&nbsp; 원본 내의 모든 하위 디렉터리에 web.config 파일을 배치하여 지정된 하위 디렉터리 트리에 적합한 개별 구성 설정을 제어할 수도 있습니다.&nbsp;</p>  <p>IIS 기본값이 아닌 MIME 형식을 추가하려면 web.config 파일만 사용해야 합니다.&nbsp; web.config 사용하고 표준 MIME 형식 IIS를 재정의하는 경우 500을 반환할 수 있습니다(참조:&nbsp; <a target="_blank" href="https://blogs.msdn.com/b/chaun/archive/2009/12/04/iis7-error-cannot-add-duplicate-collection-entry-of-type-mimemap-with-unique-key-attribute-fileextension.aspx">https://blogs.msdn.com/b/chaun/archive/2009/12/04/iis7-error-cannot-add-duplicate-collection-entry-of-type-mimemap-with-unique-key-attribute-fileextension.aspx</a>).&nbsp; 일반적으로 새 파일 형식을 배달하려고 하고 404를 수신하는 경우에만 MIME 형식을 설정하는 것이 좋습니다.&nbsp; 예. 는 배달을 위해 새 파일 형식을 테스트하고 필요한 경우 일반적으로 링크를 게시하기 전에 mime 형식을 추가합니다.</p>  <p><b>Windows Azure 프로젝트에서 다양한 CDN 환경을 관리하는 모범 사례가 있나요?</b></p>  <p>예를 들어 동일한 프로젝트에서 테스트 환경과 프로덕션에 대해 별도의 CDN 엔드포인트를 구성하려면 런타임에 해당 값을 변경할 수 있으므로 구성 설정(ServiceConfiguration.cscfg)에 다른 도메인을 배치하는 것이 좋습니다. 그러나 web.config 허용 가능한 리포지토리이기도 합니다.</p>  <p><b>콘텐츠가 최신인지 확인하는 가장 좋은 방법은 무엇인가요? </b></p>  <p>좋은 캐시 만료 헤더를 설정하는 것은 새로 고침을 보장하고, 비용을 제어하고, 클라이언트에 최상의 성능을 제공하는 가장 간단한 방법입니다.&nbsp;</p>  <p><a target="_blank" href="https://msdn.microsoft.com/en-us/library/gg680305.aspx">https://msdn.microsoft.com/en-us/library/gg680305.aspx</a> 참조</p>  <p><b>Windows Azure CDN 다른 폴더 이름을 사용할 수 있나요?</b></p>  <p>예, 절대적으로. azure<b> </b>CDN Windows URL 구조를 원본 콘텐츠에 반영하기만 하면 됩니다. 필요한 만큼 깊이 중첩할 수 있습니다.</p>  <p>SDK 1.4를 기준으로 호스트된 서비스 개체 배달의 경우 서비스의 /cdn 폴더 루트 아래에 게시하도록 제한됩니다.</p>  <p><b>쿼리 문자열 매개 변수는 캐싱에 어떻게 사용하나요?</b></p>  <p>호스트 서비스 개체 배달의 경우 호스트된 서비스에서 CDN 사용하도록 설정할 때 Windows Azure 개발자 포털에서 이 동작을 전환할 수 있습니다. 사용은 전체 쿼리 문자열이 개체의 캐시 키의 일부로 사용됨을 의미합니다. 즉, 루트 URL 경로가 같지만 쿼리 문자열이 다른 개체는 별도의 개체로 캐시됩니다. "사용 안 함"은 다른 쿼리 문자열 값이 무시되고 루트 URL 경로만 캐시 키로 사용되므로 다른 쿼리 문자열이 동일한 개체로 처리되고 한 번만 캐시됨을 의미합니다.</p>  <p>Blob Storage 원본에서 쿼리 문자열은 항상 무시됩니다. 특히 공유 액세스 문자열은 프라이빗 컨테이너에 대한 CDN 액세스를 사용하도록 설정하는 데 사용할 수 없습니다. </p>  <p><b>HTTPS 배달을 사용하는 방법의 예는 무엇인가요?</b></p>  <p>Windows Azure<b> </b>CDN HTTPS 배달은 보안 세션 내에 포함되어야 하는 공개적으로 사용 가능한 개체를 제공하는 데 사용됩니다. 예를 들어 쇼핑 카트는 그래픽, 단추, 정적 스크립트 및 기타 재사용 가능한 요소를 포함하여 많은 "크롬" 개체를 사용할 수 있습니다. 보안 쇼핑 카트 페이지 흐름에서 이러한 개체는 브라우저 경고를 방지하기 위해 HTTPS를 통해 전달되어야 합니다.</p>  <p><b>Windows Azure CDN 복제는 어떻게 수행하나요?</b></p>  <p>복제가 없습니다. Azure<b> </b>CDN Windows 파일 로드는 "끌어오기"입니다. 파일은 단일 위치(예: 원본)에 업로드되고 클라이언트의 요청에 따라 캐시 노드로 가져옵니다.</p>  <p><b>내 서비스가 배포되는 Windows Azure CDN 노드는 무엇인가요?</b></p>  <p>Windows Azure CDN 배포하면 모든 위치에 자동으로 "배포"되며 각 추가 위치에 추가됩니다.&nbsp; "새" CDN 노드를 활용하기 위해 아무 작업도 수행할 필요가 없습니다. Windows Azure CDN anycast를 사용하여 최종 사용자를 가장 가까운 노드로 라우팅합니다.</p>  <p><b>Windows Azure CDN 바이트 범위 요청에 대한 모범 사례는 무엇인가요?</b></p>  <p>큰 파일의 끝에 서명/목차/카탈로그를 배치한 다음 바이트 범위 GET을 사용하여 검색하지 마세요.&nbsp; 이로 인해 성능이 최적화되지 않습니다.&nbsp; 서명 파일은 파일의 시작 부분에 배치하거나 별도의 파일에 이상적으로 배치해야 합니다.</p>  <p><b>Windows Azure CDN 압축된 콘텐츠에서 어떻게 작동하나요?</b></p>  <p>Windows Azure CDN 개체에 대한 압축을 수정하거나 추가하지 않습니다. <b> </b>Windows Azure CDN "Accept-Encoding" 헤더를 기반으로 원본에서 제공하는 압축을 존중합니다. 1.4를 기준으로 Azure Storage 압축을 지원하지 않습니다. 호스트 서비스 개체 배달을 사용하는 경우 압축된 개체를 반환하도록 IIS를 구성할 수 있습니다.</p>  <p><b>Windows Azure CDN 콘텐츠를 제거하거나 무효화하는 방법은 무엇인가요?</b></p>  <p>1.4를 기준으로 제거 함수를 사용할 수 없습니다. 이 기능은 개발 중입니다. 최상의 새로 고침 제어는 이 문서에 설명된 대로 좋은 캐시 만료 헤더를 설정하고 MSDN의 Windows Azure CDN 설명서를 설정하는 것입니다.</p>  <p><b><i>문제 보고서 예: "CDN 새 개체를 가져오지 않음" 또는 "CDN 72시간 동안 개체를 캐싱하는 것 같습니다."</i></b><b></b></p>  <p>Cache-Control 헤더 또는 CDN 의미가 없는 값을 내보내지 않으므로 이를 무시하고 최대 72시간까지 캐시합니다.</p>  <p>캐시 제어 헤더는 "public"이어야 하며 값이 300보다 크거나 CDN 무시합니다.&nbsp; 의도적으로 Cache-Control 값 &lt; 300을 내보내는 경우 해당 콘텐츠는 애초에 CDN 안 됩니다.</p>  <p>여기에&nbsp; 설명된 대로 원본 만료를 더 나은 값으로 조정하세요. <a target="_blank" href=""></a></p>  <p><b>CDN 원본에서 개체를 얼마나 자주 새로 고치나요?</b><b></b></p>  <p>개체의 캐시 제어 헤더(또는 해당 헤더 부족), 개체 인기도, 부모 캐시 가능성 및 에지 사용률에 따라 달라집니다.&nbsp; 새로 고침 기간당 노드당 한 번 이상 원본에 도달하고 새로 고침 시 If-Modified-Since 요청을 추가합니다.</p>  <p>Cache-Control 헤더가 설정되지 않은 경우 위의 "72시간" 질문을 참조하세요.</p>  <p><iframe src="https://www.facebook.com/plugins/like.php?href=https://blogs.msdn.com/b/windowsazure/archive/2011/03/18/best-practices-for-the-windows-azure-content-delivery-network.aspx;layout=box_count&amp;show_faces=false&amp;width=300&amp;action=like&amp;font=segoe+ui&amp;colorscheme=light&amp;height=50" style="overflow: hidden; width: 300px; height: 50px;" frameborder="0" scrolling="no"></iframe><br>트윗  <script type="text/javascript" src="https://platform.twitter.com/widgets.js"></script>  </p>'

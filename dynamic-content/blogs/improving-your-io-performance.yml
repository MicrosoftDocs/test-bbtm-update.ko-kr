### YamlMime:Yaml
ms.openlocfilehash: 83af371cd21ff24a38e0ba80894db1d26c34f9e6
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139898942"
Slug: improving-your-io-performance
Title: I/O 성능 향상
Summary: '[이 문서는 SQL Azure 팀에서 제공했습니다.] DBA로서 온-프레미스 SQL Server 설치에 대한 I/O 성능을 향상시키는 많은 작업을 수행했습니다. 일반적으로 스토리지를 조정하는 작업이 포함됩니다.'
Content: '<p>[이 문서는 SQL Azure 팀에서 제공했습니다.]</p><p>DBA로서 온-프레미스 SQL Server 설치에 대한 I/O 성능을 향상시키는 많은 작업을 수행했습니다. 일반적으로 스토리지 시스템을 조정하거나, RAID 배열에서 데이터베이스를 분산하거나, <b>tempdb</b>에서 사용 중인 파일 수를 확장하는 작업이 포함됩니다. 이들은 모두 SQL Server DBA의 일반적인 기술입니다. 그러나 SQL Azure 경우처럼 스토리지 하위 시스템을 담당하지 않는 경우 I/O 성능을 어떻게 향상할 수 있나요? 쿼리에서 I/O를 사용하고 쿼리를 개선하는 방법에 초점을 맞춥니다. 이 블로그 게시물에서는 많은 양의 I/O를 사용하는 쿼리를 검색하는 방법과 SQL Azure I/O의 성능을 높이는 방법에 대해 설명합니다.</p>  <h2>과도한 I/O 사용 감지</h2>  <p>SQL Azure SQL Server 마찬가지로 I/O는 뛰어난 쿼리 성능을 얻기 위한 병목 현상입니다. 변경하려면 먼저 문제가 있는 쿼리를 검색해야 합니다. </p>  <p>이 Transact-SQL 가장 느린 25개의 쿼리를 반환합니다.</p>  <pre class="csharpcode"><span class="kwrd">SELECT</span> <span class="kwrd">TOP</span> 25      q.[text],      (total_logical_reads/execution_count) <span class="kwrd">AS</span> avg_logical_reads,       (total_logical_writes/execution_count) <span class="kwrd">AS</span> avg_logical_writes,       (total_physical_reads/execution_count) <span class="kwrd">AS</span> avg_phys_reads,        Execution_count  <span class="kwrd">FROM</span> sys.dm_exec_query_stats         <span class="kwrd">cross</span> apply sys.dm_exec_sql_text(plan_handle) <span class="kwrd">AS</span> q   <span class="kwrd">ORDER</span> <span class="kwrd">BY</span>   (total_logical_reads + total_logical_writes) <span class="kwrd">DESC</span></pre>      <p>출력은 다음과 같습니다.</p>    <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image001" border="0" alt="clip_image001" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3443.clip_5F00_image001_5F00_thumb_5F00_2650F9F1.png" width="785" height="203"></a></p>    <p>위의 문에서 ORDER BY 절을 수정하여 쓰기 쿼리가 가장 느리거나 읽기가 가장 느린 쿼리만 가져올 수 있습니다.</p>    <h2>쿼리 변경</h2>    <p>SQL Azure 통해 데이터 센터, 서버를 유지 관리하고, 스토리지를 처리하고, 스토리지 성능을 최적화하는 것이 Microsoft의 작업입니다. 스토리지 하위 시스템 관점에서 I/O를 더 빠르게 만들기 위해 수행할 수 있는 작업은 없습니다. 그러나 스토리지에 대한 읽기 및 쓰기의 양을 줄일 수 있는 경우 쿼리의 성능을 높일 수 있습니다.</p>    <h3>너무 많은 데이터 읽기</h3>    <p>I/O를 과도하게 사용하는 한 가지 방법은 절대 사용하지 않을 데이터를 읽는 것입니다. 이 예제의 좋은 예는 다음과 같습니다.</p>    <pre class="csharpcode"><span class="kwrd">SELECT</span> * <span class="kwrd">FROM</span> [<span class="kwrd">Table</span>]</pre>      <p>이 쿼리는 [테이블]에서 모든 열과 모든 행을 읽습니다. 이를 개선할 수 있는 방법은 다음과 같습니다.</p>    <ul>    <li>WHERE 절을 사용하여 시나리오에 필요한 행 수로만 줄입니다. </li>      <li>테이블에서 필요한 열의 이름을 명시적으로 지정합니다. 이 열이 모든 열보다 작기를 바랍니다. </li>  </ul>    <h3>적용된 인덱스 만들기</h3>    <p>각 쿼리에 대해 반환하는 열 수를 줄이면 읽기 I/O가 가장 많은 쿼리에 대해 비클러스터형 적용 인덱스를 만드는 데 집중할 수 있습니다. 포함된 인덱스는 인덱스의 일부로 쿼리의 모든 열을 포함하는 인덱스입니다. 여기에는 WHERE 절의 열이 포함됩니다. 쿼리가 여러 테이블에 조인될 수 있으므로 각 테이블은 잠재적으로 적용 가능한 인덱스를 사용하여 단일 쿼리와 관련된 여러 개의 적용된 인덱스가 있을 수 있습니다. 인덱스에 대한 SQL Azure 실행 계획을 검사하여 인덱스로 이동해야 하는 열을 확인할 수 있습니다. 자세한 내용은 MSDN 문서 SQL Server 최적화에서 확인할 수 <a href="https://msdn.microsoft.com/en-us/library/aa964133(SQL.90).aspx">있습니다</a>.</p>    <p>비클러스터형 인덱스(적용 대상 인덱스를 수행할 때 만드는 항목)를 참고하면 쓰기 성능이 저하됩니다. 삽입 또는 업데이트에서 인덱스를 업데이트해야 하기 때문입니다. 따라서 적용된 인덱스 만들기와 데이터베이스에 대한 읽기 및 쓰기 비율의 균형을 유지해야 합니다. 쓰기에 대한 읽기의 불균형 양이 있는 데이터베이스는 적용된 인덱스에서 더 많은 성능을 얻습니다.</p>    <h2>요약</h2>    <p>I/O 사용량을 줄이고 쿼리를 수정하여 쿼리 성능을 높이는 방법은 거의 없습니다. 온-프레미스 SQL Server 설치에 대한 쿼리 최적화를 위해 MSDN에서 찾은 기술은 SQL Azure 작동합니다. 내가 만들려고 하는 점은 쿼리 I/O 사용량이 높은 경우 쿼리 최적화에 집중하면 Microsoft가 SQL Azure 뒤에서 스토리지 하위 시스템을 최적화하는 데 중점을 두고 있다는 것입니다. </p>    <p>질문, 우려 사항, 의견이 있나요? 아래에 게시하고 우리는 그들을 해결하기 위해 노력할 것입니다.</p>'

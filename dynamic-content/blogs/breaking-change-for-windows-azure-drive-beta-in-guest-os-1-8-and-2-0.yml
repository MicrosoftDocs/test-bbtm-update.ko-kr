### YamlMime:Yaml
ms.openlocfilehash: 6096b65cb5906cac96bd8b593cb5fac3149168ad
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139913081"
Slug: breaking-change-for-windows-azure-drive-beta-in-guest-os-1-8-and-2-0
Title: 게스트 OS 1.8 및 2.0에서 Windows Azure 드라이브 베타에 대한 호환성이 손상되는 변경
Summary: Windows Azure 드라이브는 드라이브 성능을 향상시키기 위해 로컬 캐시 사용을 지원합니다. 예정된 게스트 OS 1.8 및 2.0 릴리스에서는 이 로컬 캐시가 다음과 같은 방식으로 호환성이 손상되는 변경이 있습니다.
Content: <p>Windows Azure 드라이브는 드라이브 성능을 향상시키기 위해 로컬 캐시 사용을 지원합니다. 예정된 게스트 OS 1.8 및 2.0 릴리스에서는 이 로컬 캐시가 할당되는 방식에 호환성이 손상되는 변경이 있습니다.</p>  <p><b></b></p>  <h3>배경</h3>  <p>Windows Azure 애플리케이션은 서비스 정의(.csdef)에서 로컬 스토리지를 요청할 수 있습니다.&#160; 예제는 다음과 같습니다.</p>  <pre><code>&lt;LocalResources&gt;      &lt;LocalStorage name=&quot;DriveCache&quot; cleanOnRoleRecycle=&quot;true&quot; sizeInMB=&quot;1000&quot; /&gt;  &lt;/LocalResources&gt;</code></pre>    <p>이 예제에서는 Windows Azure가 각 역할 인스턴스에 대해 "DriveCache"라는 로컬 스토리지 리소스에 1000MB를 할당하도록 합니다. 애플리케이션이 Windows Azure Drives를 사용하는 경우 이러한 로컬 스토리지 리소스를 사용하여 탑재된 모든 드라이브에 대한 캐시를 할당할 수 있습니다.&#160; 다음은 이 작업을 수행하는 일반적인 코드 조각입니다.</p>    <pre><code>LocalResource localCache = RoleEnvironment.GetLocalResource(&quot;DriveCache&quot;);  CloudDrive.InitializeCache(localCache.RootPath, localCache.MaximumSizeInMegabytes);</code></pre>    <p>마지막으로, Windows Azure Drive를 탑재할 때 인스턴스는 다음과 같이 해당 드라이브에 할당할 공간의 양을 지정할 수 있습니다.</p>    <pre><cdoe>driveLetter = drive.Mount(driveCacheSize, DriveMountOptions.None);</cdoe></pre>    <h3>호환성이 손상되는 변경</h3>    <p>Azure 게스트 OS 1.8 및 2.0을 Windows 전에 Windows Azure 드라이브 캐시가 드라이브가 사용됨에 따라 지연적으로 할당되었습니다.&#160; 이러한 새 게스트 OS 릴리스를 사용하면 전체 캐시가 미리 할당되며 캐시에 대한 로컬 리소스에 충분한 공간이 없으면 오류<code>D000007F</code>와 함께 호출 <code>Mount()</code> 이 실패합니다.</p>    <p>로컬 스토리지 리소스가 할당되는 방식과 관련된 문제로 인해 캐시 사용 시 요청된 공간 중 일부를 사용할 수 없습니다. <b>즉, 애플리케이션이 1,000MB 로컬 리소스를 선언한 다음 </b><b>Windows Azure 드라이브 캐시</b>에 <b>전체 1000MB </b> 를 <b>할당 </b> 하려고 <b>하면 </b><b>할당이 실패할 수</b> <b>있습니다</b>.</p>    <p>해결 방법은 애플리케이션에서 사용하는 것보다 20MB 더 큰 로컬 리소스를 지정하는 것입니다. 다음은 1,000MB의 캐시 공간을 사용하는 Windows Azure Drive의 공간을 할당하는 예제입니다.</p>    <pre><code>&lt;LocalResources&gt;      &lt;LocalStorage name=&quot;DriveCache&quot; cleanOnRoleRecycle=&quot;true&quot; sizeInMB=&quot;<b>1020</b>&quot; /&gt;  &lt;/LocalResources&gt;    LocalResource localCache = RoleEnvironment.GetLocalResource(&quot;DriveCache&quot;);  CloudDrive.InitializeCache(localCache.RootPath, localCache.MaximumSizeInMegabytes);  driveLetter = drive.Mount(<b>1000</b>, DriveMountOptions.None);</code></pre>    <p>이전 캐시 할당 동작을 유지하려는 애플리케이션은 이전 게스트 OS 버전을 지정할 수 있습니다. 게스트 OS 버전 1.7을 지정하는 예제는 다음과 같습니다.</p>    <pre><code>&lt;ServiceConfiguration serviceName=&quot;MyService&quot; osVersion=&quot; WA-GUEST-OS-1.7_201009-01 &quot;&gt;      &lt;Role name=&quot;MyRole&quot;&gt;          …      &lt;/Role&gt;  &lt;/ServiceConfiguration&gt;</code></pre>    <p>로컬 스토리지 리소스 할당이 항상 요청된 전체 공간을 제공하는지 확인하기 위해 노력하고 있으며, 향후 게스트 OS 릴리스에서 수정이 있을 것으로 예상됩니다.</p>    <p>&#160;</p>    <p>Windows Azure Storage 팀</p>

### YamlMime:Yaml
ms.openlocfilehash: efc1a55b090c6af073edab97f937c72d9af34b15
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139901070"
Slug: more-resource-policy-aliases
Title: 추가 리소스 정책 별칭
Summary: 이 블로그에서는 리소스 정책의 새로운 별칭을 소개합니다.
Content: "<p>리소스 정책의 별칭을 사용하면 리소스의 속성에 허용되는 값 또는 조건을 제한할 수 있습니다. <a href=\"https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-manager-policy#aliases\"></a><a href=\"https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-manager-policy#aliases\">Policy 별칭에</a> 이미 익숙한 경우 Azure 환경 관리의 중요한 부분이라는 것을 알고 있습니다.</p>\n\n<p>사용자 환경에 배포되는 항목을 보다 쉽게 제어할 수 있도록 새 정책 별칭을 계속 추가하려고 합니다. 이 블로그에서는 사용하도록 설정한 가장 최근의 별칭을 공유하고 싶습니다.</p>\n\n<p>먼저 별칭이 사용자 요청에 통합되는 방식을 검토해 보겠습니다&rsquo;. 각 정책 별칭은 지정된 리소스 종류에 대해 서로 다른 API 버전의 경로에 매핑됩니다. 정책 평가 중에 정책 엔진은 특정 필드의 값을 검색할 때 요청의 API 버전을 확인하고 해당 버전의 경로를 가져옵니다. 아래 다이어그램은 정책 평가 시간 동안 정책 별칭이 작동하는 방식을 보여 줍니다.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2fc981a6-9b63-45ac-a3dd-50a0f87adad4.png\"><img alt=\"howaliasworks\" border=\"0\" height=\"861\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b67fda3b-1fc2-4eb9-b33f-158e826cca6c.png\" style=\"border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" title=\"howaliasworks\" width=\"1411\"></a></p>\n\n<h2>가상 머신에 대한 사용자 지정 이미지</h2>\n\n<p>보안상의 이유로 많은 고객은 중앙 IT 팀의 사용자 지정 이미지만 해당 환경에 배포되도록 하고 싶어 합니다. IT 팀은 <a href=\"https://docs.microsoft.com/en-us/azure/virtual-machines/windows/capture-image-resource\">관리되는 이미지</a> 집합&nbsp;을 승인하고 리소스 그룹에 배치합니다. 이러한 이미지에서 VM을 만들려면 리소스 정책을 구현합니다. 구현을 위해 이미지를 포함하는 리소스 그룹을 지정하거나 이미지를 명시적으로 지정할 수 있습니다.</p>\n\n<p>이 시나리오를 사용하도록 Microsoft.Compute/imageId 별칭을 추가했습니다. 형식 조건을 수정하여 가상 머신 또는 가상 머신 확장 집합에 사용할 수 있습니다.</p>\n\n<p>아래 예제에서는 정책이 어떻게 표시되는지 보여 줍니다.</p>\n\n<p>예제1: (특정 리소스 그룹의 이미지 사용)</p>\n\n<pre class=\"prettyprint\">\n{\n    &quot;if&quot;: {\n        &quot;allOf&quot;: [\n            {\n                &quot;field&quot;: &quot;type&quot;,\n                &quot;equals&quot;: &quot;Microsoft.Compute/virtualMachines&quot;\n            },\n            {\n                &quot;not&quot;: {\n                    &quot;field&quot;: &quot;Microsoft.Compute/imageId&quot;,\n                    &quot;contains&quot;: &quot;resourceGroups/testImage&quot;\n                }\n            }\n        ]\n    },\n    &quot;then&quot;: {\n        &quot;effect&quot;: &quot;deny&quot;\n    }\n} \n</pre>\n\n<p>예제2: (특정 이미지 사용)&nbsp;</p>\n\n<pre class=\"prettyprint\">\n {\n\n                    &quot;field&quot;: &quot;Microsoft.Compute/imageId&quot;,\n\n                    &quot;in&quot;: [&quot;&lt;imageId1&gt;&quot;,&quot;&lt;imageId2&gt;&quot;]\n\n                }\n\n   </pre>\n\n<p><strong>Microsoft.Compute/imageId</strong> 는 사용하도록 설정한 새로운 별칭입니다. 형식 조건을 수정하여 가상 머신 확장 집합에 사용할 수도 있습니다.</p>\n\n<h2>플랫폼 이미지</h2>\n\n<p>리소스 종류에서 사용할 수 있는 별칭 집합을 도입했습니다. 이러한 리소스 유형 간 별칭을 사용하면 가상 머신, 가상 머신 확장 집합 및 관리 디스크에 대한 <a href=\"https://docs.microsoft.com/en-us/azure/virtual-machines/windows/policy?toc=%2fazure%2fazure-resource-manager%2ftoc.json\">플랫폼 이미지를 제한</a> 할 수 있습니다. 예를 들어 <b>Microsoft.Compute/imagePublisher</b>&rsquo; 별칭에는 리소스 종류 이름이 없으며 다양한 리소스 종류에서 작동할 수 있습니다. 연결된 예제에서는 이러한 별칭을 사용하는 방법을 보여 줍니다.</p>\n\n<h2>Managed Disk 사용</h2>\n\n<p>관리 디스크가 릴리스되면서 많은 고객이 VM에 대해 관리 디스크만 배포하도록 요구하려고 합니다. 리소스 정책을 사용하면 이제 관리 <a href=\"https://docs.microsoft.com/en-us/azure/virtual-machines/windows/policy?toc=%2fazure%2fazure-resource-manager%2ftoc.json\">디스크만 사용하도록</a> VM 및 확장 집합을 제한할 수 있습니다. 이 정책을 사용하려면 관리 디스크와 관련된 필드가 사용자 요청에 있어야 합니다. 이러한 필드는 연결된 예제에 표시됩니다. 이러한 필드를 검색하여 관리 디스크가 VM 또는 확장 집합과 함께 사용되는지 여부를 확인할 수 있습니다.</p>\n\n<h2>VM 확장 유형</h2>\n\n<p>조직에서는 특정 유형의 확장 사용을 금지할 수 있습니다. 예를 들어 VM 확장은 특정 사용자 지정 VM 이미지와 호환되지 않을 수 있습니다. 또는 보안상의 이유로 사용자가 VM에 대한 암호를 재설정하지 않도록&rsquo; 합니다. 아래 예제에서는 특정 VM 확장을 차단하는 방법을 보여줍니다. 게시자 및 유형을 사용하여 차단할 확장을 판단합니다.</p>\n\n<pre class=\"prettyprint\">\n{\n    &quot;if&quot;: {\n        &quot;allOf&quot;: [\n            {\n                &quot;field&quot;: &quot;type&quot;,\n                &quot;equals&quot;: &quot;Microsoft.Compute/virtualMachines/extensions&quot;\n            },\n            {\n                &quot;field&quot;: &quot;Microsoft.Compute/virtualMachines/extensions/publisher&quot;,\n                &quot;equals&quot;: &quot;Microsoft.Compute&quot;\n            },\n            {\n                &quot;field&quot;: &quot;Microsoft.Compute/virtualMachines/extensions/type&quot;,\n                &quot;equals&quot;: &quot;VMAccessAgent&quot;\n\n      }\n        ]\n    },\n    &quot;then&quot;: {\n        &quot;effect&quot;: &quot;deny&quot;\n    }\n}\n</pre>\n\n<h2>AHUB(Azure Hybrid Use Benefit)</h2>\n\n<p>적절한 온-프레미스 라이선스가 있는 경우 가상 머신에 라이선스 요금을 절약할 수 있습니다. 라이선스가 없는&rsquo; 경우 이 옵션을 금지해야 합니다. 다음 정책은 AHUB(Azure 하이브리드 사용 혜택)의 사용을 금지합니다.</p>\n\n<pre class=\"prettyprint\">\n{\n    &quot;if&quot;: {\n        &quot;allOf&quot;: [\n            {\n                &quot;field&quot;: &quot;type&quot;,\n                &quot;in&quot;:[ &quot;Microsoft.Compute/virtualMachines&quot;,&quot;Microsoft.Compute/VirtualMachineScaleSets&quot;]\n            },\n            {\n                &quot;field&quot;: &quot;Microsoft.Compute/licenseType&quot;,\n                &quot;exists&quot;: true\n            }\n        ]\n    },\n    &quot;then&quot;: {\n        &quot;effect&quot;: &quot;deny&quot;\n    }\n}</pre>\n\n<h2>요약</h2>\n\n<p>빠른 요약을 위해 이 블로그에서는 정책 별칭의 작동 방식과 리소스 정책을 통해 제어할 수 있는 사항에 대해 설명합니다. 그들을 시도하고 우리가 당신이 지배하고자하는 새로운 것들을 알려!</p>"

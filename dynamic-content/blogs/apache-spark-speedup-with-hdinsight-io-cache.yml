### YamlMime:Yaml
ms.openlocfilehash: 4ee254a9963b8234bf013f2a9e9a5116d957e8fd
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139907350"
Slug: apache-spark-speedup-with-hdinsight-io-cache
Title: Apache Spark jobs gain up to 9x speed up with HDInsight IO Cache(HDInsight IO 캐시로 Apache Spark 작업 속도 9배 높이기)
Summary: 고객에게 Apache Spark 작업에 대해 최대 9배의 성능 향상을 제공하는 Azure HDInsight의 새로운 투명한 데이터 캐싱 기능인 HDInsight IO Cache의 미리 보기를 공개하게 되어 기쁘게 생각합니다.
Content: >-
  <p>현재 고객에게 Apache Spark 작업에 대해 최대 9배의 성능 향상을 제공하는 Azure HDInsight의 새로운 투명한 데이터 캐싱 기능인 HDInsight IO Cache의 미리 보기를 공개하게 되어 기쁘게 생각합니다. 우리는 고객으로부터 관리되는 클라우드 기반 Apache Hadoop 및 Spark 서비스의 분석 비용 효율성이 주요 매력 중 하나라는 것을 알고 있습니다. HDInsight IO Cache를 사용하면 해당 비용 증가 없이 성능을 개선하여 이 주요 가치 제안을 더욱 개선할 수 있습니다.</p>


  <h2>아키텍처</h2>


  <p>Azure HDInsight는 최상의 오픈 소스 프로젝트를 가져와서 Azure에 기본적으로 통합하는 것을 목표로 하는 오픈 소스 분석을 위한 클라우드 플랫폼 서비스입니다. 에코시스템에는 Alluxio, Ignite 및 RubiX와 같은 많은 오픈 소스 캐싱 프로젝트가 있습니다.</p>


  <p>HDInsight IO Cache는 RubiX를 기반으로 합니다. RubiX는 최신 프로젝트 중 하나이며 고유한 아키텍처를 가지고 있습니다. 다른 캐싱 프로젝트와 달리 캐싱을 위해 운영 메모리를 예약하지 않습니다&rsquo;. 대신, SSD 기술의 최근 발전을 최대한 활용하여 명시적 메모리 관리를 불필요하게 만들 수 있습니다. 최신 SSD는 일반적으로 초당 1GB 이상의 대역폭을 제공합니다. 자동 운영 체제 메모리 내 파일 캐시와 결합되어 Apache Spark와 같은 빅 데이터 컴퓨팅 처리 엔진을 로드하기에 충분한 대역폭을 제공합니다. 이 아키텍처의 운영 메모리는 Apache Spark가 가장 높은 리소스 사용률을 달성하고 성능을 더욱 향상시키는 순서 섞기와 같은 메모리 종속 작업을 처리할 수 있도록 계속 사용할 수 있습니다. 전반적으로 이로 인해 클라우드의 주요 아키텍처 패턴인 원격 클라우드 스토리지에서 데이터를 읽는 작업의 속도가 매우 빨라집니다.</p>


  <h2>시작</h2>


  <p>Azure HDInsight IO Cache는 최신 버전의 Apache Spark 2.3에서 Azure HDInsight 3.6 및 4.0 Spark 클러스터에서 사용할 수 있습니다. 미리 보기 중에 이 기능은 기본적으로 비활성화됩니다. 활성화하려면 클러스터의 Ambari 관리 UI에서 HDInsight IO Cache 서비스를 선택한 다음 <strong>작업 &gt; 활성화</strong>를 클릭합니다.</p>


  <p style="text-align: center;"><img alt="Ambari IO Cache Service" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image-3.png" style="width: 180px; height: 234px;">&nbsp; <img alt="Action activate" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image-4.png" style="width: 230px; height: 196px;"></p>


  <p>클러스터에서 영향을 받는 서비스의 다시 시작을 확인하여 진행합니다.</p>


  <p>활성화되면 HDInsight IO Cache는 클러스터의 각 작업자 노드에서 RubiX Cache 메타데이터 서버를 시작하고 관리합니다. 또한 클러스터의 모든 서비스를 RubiX 캐시의 투명한 사용에 적합하도록 구성합니다. 이렇게 하면 Spark 작업을 변경하지 않고도 캐싱을 활용할 수 있습니다. 예를 들어 IO Cache가 비활성화되면 이 Spark 코드는 Azure Blob Storage 정기적으로 원격 읽기를 수행합니다.</p>


  <pre style="margin-left: 40px;">

  spark.read.load(&#39;wasbs:///myfolder/data.parquet&#39;).count()</pre>


  <p>IO 캐시가 활성화되면 동일한 코드 줄이 RubiX 캐시를 통해 캐시된 읽기를 수행하고 후속 읽기에서 SSD에서 로컬로 데이터를 읽습니다. HDInsight 클러스터의 작업자 노드에는 로컬로 연결된 전용 SSD 드라이브가 장착되어 있습니다. HDInsight IO Cache는 이러한 로컬 SSD를 캐싱에 사용하여 대기 시간을 최소화하고 대역폭을 최대화합니다.</p>


  <h2>성능 벤치마킹</h2>


  <p>Azure HDInsight Spark 클러스터의 성능을 IO 캐시 및 해당 최적화된 설정과 IO Cache 기능이 없는 이전 버전의 클러스터와 비교했습니다. TPC-DS에서 파생된 벤치마크를 사용했으며 1TB 데이터 세트를 분석하는 99개의 SQL 쿼리로 구성되었습니다. 두 경우 모두 클러스터 구성은 동일하며 HDInsight 3.6 Spark 2.3을 실행하는 16xD14v2 작업자 노드 VM으로 구성됩니다. 결과는 쿼리 런타임에서 성능이 9배 향상되고 지오미안이 2.25배 향상됩니다.</p>


  <p style="text-align: center;"><img alt="Top 20 TPC-DS queries" border="0" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image-7.png" style="border: 0px currentcolor; border-image: none; width: 600px; height: 327px; background-image: none;"></p>


  <p style="text-align: center;"><img alt="Total running time" border="0" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image-6.png" style="border: 0px currentcolor; border-image: none; width: 600px; height: 296px; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;"></p>


  <h2>요약</h2>


  <p>HDInsight IO Cache는 이제 최신 Azure HDInsight Apache Spark 클러스터에서 미리 보기로 제공됩니다. 사용하도록 설정하면 필요한 작업을 변경하지 않고 완전히 투명한 방식으로 Spark 작업의 성능을 향상시킵니다. 이렇게 하면 클라우드 기반 Spark 배포의 뛰어난 성능 대비 비용이 제공됩니다. <a href="https://azure.microsoft.com/en-us/services/hdinsight/apache-spark/" target="_blank">Azure HDInsight</a>에서 지금 사용해 보세요. 질문과 피드백은 문의하세요 <a href="mailto:AskHDInsight@microsoft.com">AskHDInsight@microsoft.com</a>.</p>


  <h2>HDInsight 정보</h2>


  <p>Azure HDInsight는 Azure에서 오픈 소스 워크로드를 실행하기 위한 Microsofts&rsquo; 프리미엄 관리형 제품입니다. HDInsight의 Apache Spark 클러스터는 클래스 보안 기능, 권한 부여 및 감사 컨트롤, <a href="https://azure.microsoft.com/en-us/blog/hdinsight-tools-for-vscode-simplifying-cluster-spark-job-configuration-management/">작성</a>을 위한 <a href="https://azure.microsoft.com/en-us/blog/powerful-debugging-tools-for-spark-for-azure-hdinsight/">개발 도구</a> 및 Spark 작업의 <a href="https://azure.microsoft.com/en-us/blog/spark-debugging-and-diagnosis-toolset-for-azure-hdinsight/">진단을 </a>가장 잘 제공합니다. Azure HDInsight는 제조, 소매, 교육, 비영리, 정부, 의료, 미디어, 은행, 통신 및 보험을 비롯한 광범위한 분야에서 가장 중요한 고객&rsquo; 업무용 애플리케이션을 지원합니다. 이러한 산업과 함께 ETL, 데이터 웨어하우징, 기계 학습, IoT 등 다양한 사용 사례가 제공됩니다.</p>

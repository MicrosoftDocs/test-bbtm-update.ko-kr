### YamlMime:Yaml
ms.openlocfilehash: d016610539961d3f247e1e49252cfc0e68a51b05
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139913069"
Slug: build-custom-video-ai-workflows-with-video-indexer-and-logic-apps
Title: Video Indexer 및 Logic Apps를 사용하여 사용자 지정 비디오 AI 워크플로 빌드
Summary: Logic Apps의 Video Indexer 커넥터를 사용하여 가장 자주 사용하는 앱을 Video Indexer 계정에 연결하는 워크플로를 설정하고 프로세스를 추가로 자동화할 수 있습니다. 이 블로그에서는 논리 앱에서 Video Indexer 커넥터를 사용하는 예제를 안내합니다.
Content: >-
  <div style="background:#eee;border:1px solid #ccc;padding:5px 10px;"><em><strong>업데이트 2020년 5월 7일:</strong>&nbsp; Video Indexer 논리 앱 및 Power Automate 커넥터에 대한 최신 정보는 <a href="https://docs.microsoft.com/en-us/azure/media-services/video-indexer/logic-apps-connector-tutorial" target="_blank">자습서: Logic App 및 Power Automate</a>&nbsp; documentation에서 Video Indexer 사용 자습서를 참조하세요.</em></div>


  <p>Logic Apps용 Video Indexer 커넥터를 사용하면 가장 많이 사용되는 앱을 Video Indexer와 연결하는 사용자 지정 워크플로를 설정하여 비디오에서 심층 인사이트를 추출하는 프로세스를 더욱 자동화할 수 있습니다.</p>


  <p>이 블로그에서는 논리 앱에서 Video Indexer 커넥터를 사용하여 OneDrive 특정 폴더에 새 비디오 파일이 만들어질 때마다 비디오가 자동으로 업로드 및 인덱싱되는 워크플로를 설정하는 예제를 안내합니다. 완료되면 새로 인덱싱된 비디오의 인사이트는 OneDrive 지정된 폴더에 JSON 파일로 저장됩니다.</p>


  <h2>주의해야 할 제한 사항</h2>


  <p>현재 트리거할 OneDrive 및 기타 스토리지 커넥터에 대한 파일 크기 제한은 50MB입니다. Video Indexer 커넥터를 사용하면 스토리지 커넥터 또는 공유 액세스 서명 URL에서 파일 콘텐츠를 통해 비디오를 업로드할 수 있습니다. 현재 스토리지 커넥터에서 비디오에 대한 URL에 액세스할 수 있는 방법은 없지만 OneDrive, 비즈니스용 OneDrive 및 Azure Storage 이 기능을 추가하는 중입니다. 구현되면 50MB보다 큰 비디오로 작업할 수 있습니다. 그러나 지금은 한도로 작업해야 합니다.</p>


  <h2>논리 앱 설정</h2>


  <p>시작하려면 Azure Portal에 로그인하고 새 논리 앱을 만듭니다. 자습서에 따라 <a href="https://docs.microsoft.com/en-us/azure/logic-apps/logic-apps-create-a-logic-app" target="_blank">새 논리 앱을 만들고 배포하는 방법을</a> 알아볼 수 있습니다.</p>


  <p>논리 앱을 만든 후에는 <strong>Logic Apps 디자이너 </strong>로 이동하여 <strong>빈 논리 앱을</strong> 선택합니다.</p>


  <p>&nbsp;<a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/69a14472-bf19-4a62-879e-18e5fff7f39e.png"><img alt="0" border="0" height="417" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/e294b86b-dc45-4302-a17c-354b4245ef7a.png" style="background-image: none; display: inline; border-image: none" title="0" width="500"></a></p>


  <p>가장 먼저 필요한 것은 비디오용 &ldquo;OneDrive 폴더에 새 파일이 생성되었을 때 이벤트를 발생시키는 트리거&rdquo;입니다.</p>


  <p>커넥터 및 트리거에 대한 검색 창에서 OneDrive&rdquo; 검색&ldquo;합니다. OneDrive(소비자) 및 비즈니스용 OneDrive 대한 옵션이 표시됩니다. 비슷한 단계가 있기 때문에 가지고 있거나 원하는 계정을 기반으로 할 수 있습니다. 이 자습서에서는 OneDrive 사용합니다.</p>


  <p><strong>OneDrive 커넥터</strong>를 클릭합니다. 그러면 OneDrive 사용할 수 있는 모든 트리거가 표시됩니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/71cb22f1-0af7-4cdb-af42-483e157562ce.png"><img alt="1" border="0" height="314" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ddfae985-29b2-4781-9f7b-cf3de43b7d78.png" style="background-image: none; display: inline; border-image: none" title="1" width="500"></a></p>


  <p><strong>파일을 만들&rdquo; 때를 선택합니다&ldquo;</strong>. 그러면 지정된 OneDrive 폴더에 새 파일이 삭제될 때마다 Logic App에서 트리거가 발생합니다. 완료되면 OneDrive 계정에 로그인하라는 메시지가 표시됩니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8ae74b7d-0f1b-4285-a528-308bbfec3a23.png"><img alt="21" border="0" height="225" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ba93e829-74dc-4ff4-a16f-be1029777909.png" style="background-image: none; display: inline; border-image: none" title="21" width="500"></a></p>


  <p>로그인하면 트리거와 다른 필드가 표시됩니다. <strong>폴더</strong> 필드의 경우 폴더 아이콘을 클릭하고 비디오를 보려면 폴더로 이동합니다. 내 OneDrive 비디오 폴더&ldquo;&rdquo;를 선택했습니다.&nbsp; 적절한 폴더를 선택하거나 사용자 고유의 워크플로와 관련된 새 폴더를 만들 수 있습니다. 이 폴더에는 비디오 또는 오디오 파일만 있어야 합니다. 다른 파일은 Video Indexer 커넥터에 업로드 오류가 발생합니다.</p>


  <p>트리거가 지정된 폴더에 파일이 만들어졌는지 여부를 확인하는 빈도를 설정할 수도 있습니다. &ldquo;항목을 얼마나 자주 확인하시겠습니까?&rdquo; 섹션에서 <strong>빈도</strong>를 분으로 설정하고 <strong>간격</strong>을 3으로 설정하여 3분마다 트리거를 확인합니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7089d7de-9030-4487-928d-00526274ea66.png"><img alt="image" border="0" height="286" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/65c006c6-620f-4b25-8400-b2423f6b90b9.png" style="background-image: none; display: inline; border-image: none" title="이미지" width="500"></a></p>


  <p>다음으로, OneDrive 폴더에 생성된 비디오를 Video Indexer 포털에 업로드하는 작업을 설정해야 합니다. <strong>다음 단계를 </strong>클릭하고 <strong>작업 추가를</strong> 선택합니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/79bd013f-3931-43fc-be74-0e39dee0c9ed.png"><img alt="24" border="0" height="222" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/047b0aa8-4fd2-4fe6-9b14-1be003333195.png" style="background-image: none; display: inline; border-image: none" title="24" width="500"></a></p>


  <p>Video Indexer&rdquo;를 &ldquo;검색하고 Video Indexer 커넥터를 선택합니다. 나열된 다른 작업이 표시됩니다. 현재 Video Indexer에 대한 트리거는 없으므로 나중에 WebHook에 대한 지원이 Video Indexer API에 추가될 때 트리거가 제공됩니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4c83b83b-5b55-4bef-9e6b-76f1c0687d97.png"><img alt="3" border="0" height="389" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/a597e70a-3a54-4817-9ff1-6a2170538bd6.png" style="background-image: none; display: inline; border-image: none" title="3" width="500"></a>&nbsp;&nbsp;&nbsp; <a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6705051d-8e0d-406d-a5b1-9e1f1c9aab07.png"><img alt="35" border="0" height="389" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/a2d9c497-3ccf-403f-92dc-46ebfb971a42.png" style="background-image: none; display: inline; border-image: none" title="35" width="475"></a></p>


  <p>Video Indexer 포털에 비디오를 업로드하는 두 가지 옵션이 표시됩니다. 업로드 <strong>비디오 및 인덱</strong>스라고 하며 파일 콘텐츠 데이터를 사용하여 비디오를 업로드할 수 있습니다. 다른 옵션은 <strong>업로드 비디오 및 인덱스(URL 사용)</strong>라고 하며 URL을 사용하여 비디오를 업로드할 수 있습니다. 두 옵션 모두 업로드 시 비디오를 자동으로 인덱싱합니다.</p>


  <p>이 자습서에서는 파일 콘텐츠 데이터를 사용하여 비디오를 업로드하므로 비디오 <strong>및 인덱스 업로드</strong> 선택합니다.</p>


  <p>Video Indexer API 키를 사용하여 연결을 만들라는 메시지가 표시됩니다. 연결 이름과 API 키를 입력합니다. 자습서에 따라 <a href="https://azure.microsoft.com/en-us/blog/gettingstartedwiththevideoindexerapi/" target="_blank">Video Indexer API를 구독하는 방법과 API 키에 액세스하는 방법을 알아볼 수 있습니다</a>.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/456d9542-c7b8-4b32-9952-6bd8b9165a1e.png"><img alt="4" border="0" height="257" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/619461ff-aa00-4745-ba63-9f814437aa15.png" style="background-image: none; display: inline; border-image: none" title="4" width="500"></a></p>


  <p>연결을 만들 때 <strong>업로드 비디오 및 인덱스</strong> 작업을 열어야 합니다. 필드를 클릭하면 OneDrive 트리거의 응답 요소가 표시됩니다. <em>파일 콘텐츠</em> 필드의 경우 <strong>파일 콘텐츠 </strong>응답 요소를 선택합니다. <em>비디오 이름의</em> 경우 <strong>파일 이름</strong> 응답 요소를 선택하거나 원하는 이름을 입력할 수 있습니다. 원하는 대로 개인 정보를 설정합니다. 여기서 개인 정보 보호를 &ldquo;설정&rdquo;했습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/9ba2326b-8384-42ac-a193-6fb2d8b2473b.png"><img alt="5" border="0" height="354" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/9c7d8105-c740-41b3-a8b3-82eb67359669.png" style="background-image: none; display: inline; border-image: none" title="5" width="700"></a></p>


  <p><strong>고급 옵션 표시</strong>를 클릭하면 비디오에 대한 자세한 정보를 제공하기 위해 입력할 수 있는 더 많은 필드가 표시됩니다. 나는 그들이 필수 필드가 아니기 때문에 여기에 그들을 비워 둘 것입니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/eb64f59b-7e82-4af8-91ae-5f56abf2a45e.png"><img alt="554" border="0" height="393" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/913c1b30-4393-4ed7-ac6f-85c3c3e75cc5.png" style="background-image: none; display: inline; border-image: none" title="554" width="500"></a></p>


  <p><strong>그러나 업로드 비디오 및 인덱스</strong> 작업은 업로드 시 비디오의 ID를 반환합니다. 즉, 인덱싱이 완료되었음을 의미하지는 않습니다. 이를 위해 비디오가 완전히 처리된 경우에만 논리 앱이 앞으로 이동할 수 있도록 하는 검사를 추가해야 합니다. <strong>새 단계를</strong> 선택한 다음 <strong>자세히</strong> 선택합니다. 그런 다음 <strong>, 할 일 추가를 선택할 수</strong> 있습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1774d0c0-1c01-459d-a439-570336ed4713.png"><img alt="7" border="0" height="262" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/efa6fb7a-664f-4ed3-9ae9-13f370cac87c.png" style="background-image: none; display: inline; border-image: none" title="7" width="500"></a></p>


  <p>이제 Until 루프가 표시됩니다. Until 루프 내에서 <strong>작업 추가를</strong> 선택합니다. Video Indexer 커넥터를 다시 검색하고 <strong>처리 상태 가져오기</strong> 작업을 선택합니다. <em>비디오 ID</em> 필드의 경우 업로드 <strong>비디오 및 인덱스에서 Video</strong> <strong>Id</strong> 응답 요소를 선택합니다.</p>


  <p>&nbsp; <a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c28efd51-5bb9-4f1d-80a6-dc58558495cf.png"><img alt="9" border="0" height="343" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/14f0ea1d-7d32-4006-9471-a9277e69fac2.png" style="background-image: none; display: inline; border-image: none" title="9" width="500"></a>&nbsp;</p>


  <p>&ldquo;Until 루프의 값&rdquo; 선택 필드에 대해 <strong>처리 가져오기 상태에서</strong> <strong>상태</strong> 응답 요소를 선택합니다. 값 선택이라는 &ldquo;필드의 경우 처리됨&rdquo;을 &ldquo;입력&rdquo;합니다. 처리&rdquo; 중인 &ldquo;상태는 비디오 인덱싱이 완료되었음을 나타냅니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0b451227-5474-4985-8685-81212854769e.png"><img alt="image" border="0" height="432" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8312407d-b892-4bff-8420-a04e60f838d8.png" style="background-image: none; display: inline; border-image: none" title="이미지" width="500"></a></p>


  <p>Until 루프 내에서 처리<strong> 상태 가져오기 작업</strong> 후에 <strong>작업 추가를</strong> 선택합니다. <strong>지연</strong> 작업을 검색하고 선택합니다(일정 커넥터의 일부임). <strong>기본적으로 상태가</strong> &ldquo;처리&rdquo;되는지 확인하는 빈도를 결정하려면 개수 및 단위 필드를 설정해야 합니다. 여기서는 <strong>개수를</strong> 3&rdquo;으로&ldquo;, <strong>단위</strong>를 분&rdquo;으로 설정하여 &ldquo;3분마다 확인합니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/54e904e5-f5f5-4fb6-bdb6-eb2cae0c64a9.png"><img alt="11" border="0" height="510" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/e45f1e12-34e0-4996-abd2-c3330701e39d.png" style="background-image: none; display: inline; border-image: none" title="11" width="500"></a></p>


  <p>다음 단계는 새로 처리된 비디오의 인사이트를 획득하는 것입니다. Until 루프 외부에서 <strong>새 단계를</strong> 선택하고 Video Indexer 커넥터를 검색합니다. <strong>비디오 분석</strong> 가져오기 작업을 선택합니다. <em>비디오 ID</em> 필드의 경우 업로드 <strong>비디오 및 인덱스에서 Video</strong> <strong>Id</strong> 응답 요소를 선택합니다. 이 작업은 비디오의 모든 인사이트를 제공합니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/04b9f2be-0c19-40a1-9424-401fc5070436.png"><img alt="12" border="0" height="288" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/910e8c07-6cca-4839-9609-fca7ede5584d.png" style="background-image: none; display: inline; border-image: none" title="12" width="500"></a></p>


  <p>비디오 분석 <strong>가져오기</strong>를 통해 비디오에 대한 인사이트를 얻게 되었으므로 이제 새 인사이트를 사용하여 파일을 만들고 OneDrive 적절한 폴더에 저장합니다.</p>


  <p><strong>작업 추가를</strong> 선택하고 OneDrive 커넥터를 검색합니다. <strong>파일 만들기</strong> 작업을 선택합니다. <em>폴더 경로</em> 필드의 경우 폴더 아이콘을 클릭하고 비디오의 인사이트를 저장하기 위한 적절한 폴더로 이동합니다. Insights&rdquo; 폴더를 &ldquo;선택했습니다.</p>


  <p><em>파일 이름</em> 필드의 경우 새 텍스트 파일의 이름을 입력하거나 선택합니다. 여기서 <strong>비디오 </strong>분석 가져오기에서 <strong>Name</strong> 응답 요소를 선택하고 Insights&rdquo; 입력&ldquo;했습니다. <em>파일 콘텐츠</em> 필드의 경우 저장하려는 <strong>비디오 분석 가져오기</strong>에서 <strong>요약된 Insights</strong> 또는 특정 응답 요소를 선택합니다. <a href="https://docs.microsoft.com/en-us/azure/cognitive-services/video-indexer/video-indexer-output-json" target="_blank">응답 요소</a>에 대해 자세히 알아봅니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f3a0918c-1eb4-4df9-a9fd-ceb612ea2df6.png"><img alt="13" border="0" height="428" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ae2b0bcb-9393-411d-91ac-082390c1ad4b.png" style="background-image: none; display: inline; border-image: none" title="13" width="500"></a></p>


  <p>논리 앱을 저장하면 완료됩니다. 이제 논리 앱을 테스트해야 합니다.</p>


  <h2>논리 앱 테스트</h2>


  <p>실행을 선택하여 시작합니다<strong>. </strong> 그런 다음 논리 앱을 트리거하려면 트리거에 지정한 OneDrive 비디오 폴더에 비디오 파일을 업로드합니다. 앞에서 설명한 대로 OneDrive 트리거에 대해 50MB 파일 크기 제한이 있으므로 비디오 파일을 적절하게 선택해야 합니다.&nbsp;</p>


  <p>논리 앱의<strong> </strong><strong>개요</strong> 페이지의 <strong>실행 기록 </strong>섹션에서 논리 앱의 실행 세부 정보를 볼 수 있어야 합니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5904c56d-5cbb-4755-9f17-5e6c9c24d55c.png"><img alt="14" border="0" height="428" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8241f0c7-1af6-4ff3-8896-1b8851e1fe0b.png" style="background-image: none; display: inline; border-image: none" title="14" width="500"></a></p>


  <p>이제 Video Indexer 커넥터를 사용하여 다양한 워크플로 조합을 테스트하여 프로세스를 자동화하고 효율적으로 만드는 데 가장 적합한 항목을 찾을 준비가 되었습니다.</p>


  <p>비디오 파일이 현재 50MB 제한 내에 있는 한 Media Services GitHub 사이트 및 Video Indexer 커넥터<a href="https://github.com/Azure-Samples/media-services-dotnet-functions-integration">의 샘플을 사용하여 Media Services</a> 라이브 및 주문형 워크플로를 Video Indexer와 통합하는 사용자 지정 워크플로를 만들 수 있습니다. 또한 논리 앱을 만들어 Video Indexer의 인사이트를 Cosmos DB와 같은 시스템으로 푸시하고 Azure Search를 사용하여 메타데이터를 쿼리하거나 사용자 고유의 사용자 지정 메타데이터에 인사이트를 조인할 수 있습니다.</p>

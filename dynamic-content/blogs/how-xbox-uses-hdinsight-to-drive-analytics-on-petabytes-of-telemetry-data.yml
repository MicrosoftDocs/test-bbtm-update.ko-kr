### YamlMime:Yaml
ms.openlocfilehash: 9a87f266b1615c7133a844535182743949587e18
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139907763"
Slug: how-xbox-uses-hdinsight-to-drive-analytics-on-petabytes-of-telemetry-data
Title: XBox - Azure HDInsight를 사용하여 페타바이트 단위의 게임 데이터에 대한 분석
Summary: Azure HDInsight는 고객이 Hadoop, MapReduce, Hive, LLAP, Presto, Spark, Kafka 및 R과 같은 가장 인기 있는 오픈 소스 프레임워크를 사용하여 대규모로 분석을 수행할 수 있는 완전 관리형 클라우드 서비스입니다.
Content: >-
  <p><em>이 블로그 게시물은 카란 굴라티, 수석 소프트웨어 엔지니어, XBOX 및 다니엘 하겐, 수석 소프트웨어 엔지니어, XBOX에 의해 공동 저술되었습니다. </em></p>


  <p>Microsoft Studios는 Halo, Minecraft 및 Forza Motorsport 시리즈를 포함하여 세계에서&rsquo; 가장 인기 있는 게임 타이틀 중 일부를 생산합니다. Xbox 제품 서비스 팀은 자사 스튜디오에 대해 매시간 수백 기가바이트의 데이터를 사용하는 수천 개의 데이터 세트와 수백 개의 활성 파이프라인을 관리합니다. 게임 개발자는 획득, 보존, 플레이어 진행률 및 시간 경과에 따른 일반 사용량을 측정하여 게임의 상태를 알아야 합니다. 이는 데이터를 정리, 서식 지정, 집계 및 보고해야 하는 교과서 빅 데이터 문제를 제시하며, ETL(변환 부하 추출)으로 더 잘 알려져 있습니다.</p>


  <h2>HDInsight - 엔터프라이즈를 위한 완전 관리형 전체 스펙트럼 오픈 소스 분석 서비스</h2>


  <p>Azure HDInsight는 고객이 Hadoop과 같은 가장 인기 있는 오픈 소스 프레임워크를 사용하여 대규모로 분석을 수행할 수 있는 완전 관리형 클라우드 서비스입니다. MapReduce, Hive, LLAP, Presto, Spark, Kafka 및 R. HDInsight를 사용하면 오픈 소스 프레임워크를 사용하여 대량의 데이터를 대량으로 일괄 처리 &amp; ETL, 데이터 웨어하우징, 기계 학습, IoT 및 스트리밍과 같은 광범위한 고객 시나리오를 사용할 수 있습니다.</p>


  <h2>주요 HDInsight 이점</h2>


  <ul>
   <li>
   <p><strong>클라우드 네이티브:</strong> 프로덕션 워크로드에 종단 간 SLA를 제공하는 업계 유일한 서비스입니다. Hadoop, Spark, Hive, Interactive Query, HBase Storm, Kafka 및 99.9% SLA에서 지원되는 Microsoft R Server 대한 클라우드 최적화 클러스터입니다.</p>
   </li>
   <li>
   <p><strong>저가:</strong> 분리된 컴퓨팅 및 스토리지를 통해 워크로드를 비용 효율적으로 확장 또는 축소합니다. 사용한 항목에 대해서만 요금을 지불합니다. Spark 및 대화형 쿼리 사용자는 추가 SSD 비용 없이 대화형 성능을 위해 SSD 메모리를 사용할 수 있습니다.</p>
   </li>
   <li>
   <p><strong>보안:</strong> 가상 네트워크, 암호화, Active Directory로 인증, 사용자 및 그룹 권한 부여, 모든 엔터프라이즈 데이터에 대한 역할 기반 액세스 제어 정책을 사용하여 데이터 자산을 보호합니다. HDInsight는 HIPAA, PCI 등과 같은 많은 규정 준수 표준을 충족합니다. </p>
   </li>
  </ul>


  <ul>
   <li>
   <p><strong>글로벌:</strong> 전 세계 25개 이상의 지역에서 사용할 수 있습니다. HDInsight는 Azure Government 클라우드 및 중국에서도 사용할 수 있으므로 주요 지리적 영역에서 요구 사항을 충족할 수 있습니다.</p>
   </li>
   <li>
   <p><strong>생산성:</strong> Hadoop 및 Spark를 위한 다양한 생산성 도구(예: <a href="https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-hadoop-visual-studio-tools-get-started">Visual Studio,</a>  <a href="https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-apache-spark-eclipse-tool-plugin">Eclipse</a> 및 <a href="https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-apache-spark-intellij-tool-plugin">IntelliJfor</a>  Scala, Python, R, Java 및 .NET 지원). 데이터 과학자는 가장 인기 있는 두 개의 Notebook인  <a href="https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-apache-spark-jupyter-notebook-kernels">JupyterandZeppelin</a> 을 사용할 수도 있습니다. <a href="https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-apache-spark-zeppelin-notebook"></a> HDInsight는 Microsoft R Server에 통합된 유일한 관리형 클라우드 Hadoop 솔루션이기도 합니다.</p>
   </li>
   <li>
   <p><strong>확장:</strong> 원클릭 배포 환경을 제공하는 통합 마켓플레이스를 통해 선도적인 인증된 빅 데이터 애플리케이션과 원활하게 통합합니다.</p>
   </li>
  </ul>


  <h2>빅 데이터 문제</h2>


  <p>이 광범위한 사용 및 다양한 규모의 데이터를 처리하기 위해 Xbox는 Azure HDInsight의 다재다능함과 기능을 활용했습니다. 원시 다른 유형의 json 데이터가 Azure Blob Storage 있게 됨에 따라 Hive 작업은 원시 데이터를 ORC(최적화된 행 열 형식)와 같은 성능이 높고 인덱싱된 형식으로 변환합니다. 그런 다음 스튜디오 사용자는 추가 Hive, Spark 또는 Azure ML 작업을 파이프라인에 추가하여 추가로 정리, 필터링 및 집계할 수 있습니다. </p>


  <h2>분리된 컴퓨팅 및 기본 스토리지를 사용하는 확장 가능한 HDInsight 아키텍처</h2>


  <p>게임의 출시 스타일에 따라 Xbox 원격 분석 시스템은 출시 시 엄청난 데이터 급증을 볼 수 있습니다. 사용자가 증가하는 것 외에, 다양한 비즈니스 질문에 답하는 데 필요한 분석 및 쿼리 유형은 게임마다, 그리고 수명 주기 내내 크게 달라질 수 있으므로 필요한 컴퓨팅이 바뀔 수 있습니다. Xbox는 Azure API를 통해 HDInsight 클러스터를 쉽게 만들어 분석 요구 사항 및 데이터 변동에 따라 SLA를 유지하면서 새 클러스터의 크기를 조정하고 만듭니다. </p>


  <p>다양한 격리 수준을 제공하면서 스케일 업 및 스케일 아웃하는 시스템이 필요했기 때문에 Xbox는 Azure Storage 계정 배열과 공유 Hive 메타스토어를 활용하기로 결정했습니다. 외부 Azure SQL 데이터베이스를 Hive 메타스토어로 활용하면 동일한 메타데이터를 공유하면서 많은 클러스터를 만들 수 있으므로 수십 개의 클러스터에서 원활한 쿼리 환경을 사용할 수 있습니다. SAS 키와 연결된 많은 Azure Storage 계정을 활용하여 권한을 제어할 수 있으므로 클러스터 수준에서 더 높은 수준의 일관성과 보안을 사용할 수 있습니다. 클러스터 메서드의 이 클러스터를 사용하면 스케일 아웃 기능이 크게 증가합니다. 이 클러스터 구성 클러스터에서 Xbox는 ETL(처리) 클러스터와 읽기 전용 임시 클러스터를 분리할 수 있도록 했습니다. 사용자는 다른 사용자 또는 처리에 영향을 주지 않고 이러한 읽기 전용 클러스터에서 쿼리를 테스트하고 데이터를 읽을 수 있으므로 시끄러운 인접 상황을 제거할 수 있습니다. 사용자는 동일한 기본 데이터와 메타데이터를 공유하면서 크기 조정 및 읽기 전용 클러스터를 활용하는 방법을 제어할 수 있습니다.</p>


  <p>&nbsp;</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/e32b2beb-5f9c-4928-9246-b5a1affd6e88.png"><img alt="xboxmetastore" border="0" height="335" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/79668947-3167-45d2-a771-78a2f8ae66fc.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="xboxmetastore" width="751"></a></p>


  <p style="text-align: center;"><em>Azure HDInsight의 다양한 분석 엔진에서 공유 데이터 및 메타스토어</em></p>


  <p>고성능 및 민첩성을 위해 HDInsight를 사용하여 외부 메타스토어를 선택하는 동안 다음과 같은 모범 사례를 채택했습니다.</p>


  <ul>
   <li>
   <p>외부 메타스토어를 사용합니다. 이를 통해 컴퓨팅과 메타데이터를 분리할 수 있습니다.</p>
   </li>
   <li>
   <p>특정 HDInsight 클러스터 버전에 대해 만들어진 metastore가 여러 HDInsight 클러스터 버전 간에 공유되지 않도록 합니다. 이는 서로 다른 스키마가 있는 다른 Hive 버전 때문입니다. 예를 들어 Hive 1.2 및 Hive 2.1 클러스터는 동일한 메타스토어를 사용하려고 합니다.</p>
   </li>
   <li>
   <p>OOPS 복구 및 DR 요구 사항에 대해 정기적으로 사용자 지정 메타스토어를 백업합니다.</p>
   </li>
   <li>
   <p>metastore, 스토리지 계정 및 HDInsight 클러스터를 동일한 지역에 유지합니다.</p>
   </li>
  </ul>


  <h2>데이터 흐름</h2>


  <p>Xbox 장치는 수천 개의 다른 Azure Data Factory 활동을 실행하고 마지막으로 사용자가 추가 인사이트를 위해 데이터를 사용할 수 있도록 하여 HDInsight 클러스터에서 추가 처리를 위해 Event Hub에서 사용하는 원격 분석 데이터를 생성합니다. 아래 그림은 Xbox 원격 분석 데이터 경험을 보여줍니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/eec91347-2ea8-4806-bf2b-a29d9d4e3104.png" style="font-size: 13px;"><img alt="xboxarchitecture" border="0" height="435" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/219a6c6a-93f7-48b9-be01-1c1f8c017aa9.png" style="border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="xboxarchitecture" width="751"></a></p>


  <h3>작업의 부하 분산</h3>


  <p>아키텍처에서 여러 클러스터를 사용하여 수천 개의 작업을 처리합니다. 다양한 클러스터 간에 작업을 분산하는 고유한 사용자 지정 논리를 빌드하여 작업 완료 시간을 최적화하는 데 도움이 됩니다. 일반적으로 완료해야 하는 장기 실행 작업과 대화형 우선 순위가 높은 작업이 있습니다. Yarn 용량 스케줄러를 사용하여 이러한 작업에 대한 클러스터 용량 부하를 분산합니다. 일반적으로 최대 용량을 100%로 설정하고 최대 용량이 100%인 우선 순위가 낮은 큐를 클러스터의 ~80-90%로 설정하고 우선 순위가 낮은 큐를 100%로 설정합니다. 이 배포를 사용하면 우선 순위가 높은 대화형 작업이 표시될 때까지 장기 실행 작업이 최대 클러스터 용량을 사용할 수 있습니다. 이 경우 우선 순위가 높은 작업은 클러스터 용량의 80-90%를 차지하고 더 빨리 완료할 수 있습니다.</p>


  <h2>요약</h2>


  <p>Azure HDInsight를 기반으로 하는 Xbox 원격 분석 처리 파이프라인은 대규모 빅 데이터 처리를 해결하려는 모든 종류의 엔터프라이즈에 적용할 수 있습니다.</p>


  <p>자세한 내용은 문의하세요 <a href="mailto:AskHDInsight@Microsoft.com" ms.cmpgrp="body" ms.cmpnm="AskHDInsight@Microsoft.com" ms.cmptyp="link" ms.interactiontype="1" ms.pgarea="content" ms.title="" style="box-sizing: inherit; transition: color 0.2s ease-in-out; color: rgb(0, 114, 198); font-family: &quot;Segoe UI Condensed&quot;, &quot;Segoe UI&quot;, &quot;Segoe WP&quot;, Tahoma, Arial, sans-serif; font-size: 15px; font-style: normal; font-weight: 400;">AskHDInsight@Microsoft.com</a>&nbsp;.</p>

### YamlMime:Yaml
ms.openlocfilehash: 057acf7ecc58f131f65350f20de1979938bf8330
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139897645"
Slug: how-to-use-socket-io-with-azure-mobile-service-node-backend
Title: Azure Mobile Service Node 백 엔드에서 Socket.IO 사용하는 방법
Summary: 이 문서에서는 socket.io 사용하여 Azure Mobile Service Node 백 엔드와 실시간 통신을 수행하는 방법을 보여 줍니다.
Content: "Azure Mobile Service .NET 백 엔드를 사용하면 SignalR을 사용하여 실시간 통신을 수행할 수 있습니다. 그러나 노드 백 엔드 고객에게는 이러한 옵션을 사용할 수 없습니다. Azure Mobile Service 노드 백 엔드의 최신 업데이트를 통해 모바일 서비스와 <a href=\"https://socket.io/\">socket.io</a> 쉽게 연결할 수 있습니다.\n<h2>설치</h2>\n먼저 다음과 같이 모바일 서비스 git 리포지토리를 로컬로 복제합니다.\n<pre class=\"prettyprint\">C:\\&gt; git clone <a href=\"\"></a></pre>\n그런 다음 디렉터리를 'service' 폴더로 변경하고 'socket.io' 모듈을 설치합니다.\n<pre class=\"prettyprint\">cd nodetestapp\\service\nnpm install socket.io --save</pre>\n<blockquote><strong>참고: </strong> 원격 리포지토리에서 node_modules 폴더를 푸시하지 않도록 하려면 .gitignore 파일을 추가해야 합니다. 자세한 내용은 <a href=\"https://blogs.msdn.com/b/azuremobile/archive/2014/01/20/support-for-package-json-in-azure-mobile-services.aspx\" target=\"_blank\">Azure Mobile Services package.json에 대한 지원을</a> 참조하세요.</blockquote>\n이제 디렉터리를 'extensions' 폴더로 변경하고 다음 내용을 사용하여 'startup.js'이라는 파일을 만듭니다.\n<pre class=\"prettyprint\">var path = require('path');\n\nexports.startup = function (context, done) {\n    var io = require('socket.io')(context.app.server);\n    io.on('connection', function(socket){\n      socket.on('chat message', function(msg){\n        io.emit('chat message', msg);\n      });\n    }); \n\n       context.app.get('/public/chat.html', function(req, res) {\n        res.sendfile(path.resolve(__dirname, '../public/chat.html'));\n    }); \n    done();\n}</pre>\n<span style=\"font-family: Calibri\">위의 코드 조각에서 socket.io 구성하고 채팅 앱을 호스트하는 경로를 추가했습니다. </span>\n<h2>채팅 앱</h2>\n<span style=\"font-family: Calibri\">새 파일 'chat.html'을 만들고 다음 html을 사용하여 'service' 폴더 내에 'public'이라는 새 폴더에 배치합니다.</span>\n<pre class=\"prettyprint\">&lt;!doctype html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Socket.IO chat&lt;/title&gt;\n    &lt;style&gt;\n      * { margin: 0; padding: 0; box-sizing: border-box; }\n      body { font: 13px Helvetica, Arial; }\n      form { background: #000; padding: 3px; position: fixed; bottom: 0; width: 100%; }\n      form input { border: 0; padding: 10px; width: 90%; margin-right: .5%; }\n      form button { width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; }\n      #messages { list-style-type: none; margin: 0; padding: 0; }\n      #messages li { padding: 5px 10px; }\n      #messages li:nth-child(odd) { background: #eee; }\n    &lt;/style&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;ul id=\"messages\"&gt;&lt;/ul&gt;\n    &lt;form action=\"\"&gt;\n      &lt;input id=\"m\" autocomplete=\"off\" /&gt;&lt;button&gt;Send&lt;/button&gt;\n    &lt;/form&gt;\n    &lt;script src=\"https://code.jquery.com/jquery-1.11.1.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"\"&gt;&lt;/script&gt;    \n    &lt;script&gt;\n      var socket = io();\n      $('form').submit(function(){\n        socket.emit('chat message', $('#m').val());\n        $('#m').val('');\n        return false;\n      });\n      socket.on('chat message', function(msg){\n        $('#messages').append($('&lt;li&gt;').text(msg));\n      });\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;</pre>\n마지막으로 모든 변경 내용을 커밋하고 git의 추가, 커밋 및 푸시 명령을 사용하여 모바일 서비스로 푸시합니다.\n\n그런 다음 방문 <a href=\"\"></a> 하면 텍스트 상자와 아래쪽에 단추를 표시하는 페이지가 표시됩니다. 브라우저에서 이 페이지의 두 인스턴스를 엽니다. 메시지를 입력하고 Enter 키를 누릅니다. 다른 창에도 메시지가 표시됩니다.\n<h2>확장</h2>\n위의 샘플은 모바일 서비스의 단일 인스턴스가 있는 경우에만 작동합니다. 인스턴스가 여러 개인 경우 socket.io 함께 실시간 통신을 위해 redis를 백업 저장소로 사용해야 합니다. 이를 위해 npm에서 socket.io-redis 노드 모듈을 설치할 수 있습니다.\n\n<a title=\"https://www.npmjs.org/package/socket.io-redis\" href=\"https://www.npmjs.org/package/socket.io-redis\">https://www.npmjs.org/package/socket.io-redis</a>\n\n또한 Azure의 redis 인스턴스에 대해 작동하도록 구성할 수 있습니다. 자세한 내용은 다음 문서를 참조하세요.\n\n<a title=\"https://azure.microsoft.com/en-us/documentation/articles/cache-dotnet-how-to-use-azure-redis-cache/\" href=\"https://azure.microsoft.com/en-us/documentation/articles/cache-dotnet-how-to-use-azure-redis-cache/\">https://azure.microsoft.com/en-us/documentation/articles/cache-dotnet-how-to-use-azure-redis-cache/</a>"

### YamlMime:Yaml
ms.openlocfilehash: 7779b5a85bce9d7a54c7d2f6a176d059f44fa40b
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139900245"
Slug: sub-clipping-and-live-archive-extraction-with-media-encoder-standard
Title: Media Encoder Standard 사용하여 Sub-Clipping 및 라이브 보관 추출
Summary: 프레임 정확도 강조 표시 생성, MP4 파일 보관 또는 Media Encoder Standard 사용 등 라이브 스트림에서 편집 작업을 수행합니다.
Content: >-
  <p>라이브 스트리밍을 수행하는 거의 모든 고객이 이벤트 도중 또는 이후에 라이브 스트림을 편집할 수 있는 기능을 요청했습니다. 하위 클립을 만들고 후속 배포를 위해 전체 이벤트의 ISO MP4 아카이브를 만드는 방법에 대해 묻습니다.</p>


  <p>이제 Media Encoder Standard 사용하여 라이브 스트림에서 이러한 편집 작업을 수행할 수 있다고 발표하게 되어 기쁩니다. 이 블로그 게시물에서는 AMSE(Azure Media Services Explorer)를 사용하여 이 작업을 얼마나 쉽게 수행할 수 있는지 보여 줍니다.</p>


  <h1>시작하기</h1>


  <p>시작하려면 다음 단계를 수행합니다.</p>


  <ol>
   <li>최신(v3.28 이상) <a href="https://aka.ms/amse">AZURE MEDIA SERVICES 탐색기</a>(AMSE) 도구를 설치합니다.</li>
   <li>Azure Media Service 계정을 사용하여 라이브 이벤트에 대한 채널 및 관련 프로그램을 만듭니다. 팁 <a href="https://azure.microsoft.com/en-us/documentation/articles/media-services-manage-live-encoder-enabled-channels/#channels-programs" target="_blank">은 라이브 스트리밍 개요를</a> 참조하세요.</li>
   <li><a href="https://azure.microsoft.com/en-us/blog/dynamic-manifests-and-rendered-sub-clips/" target="_blank">렌더링된 하위 클립</a> 개념을 숙지합니다.</li>
  </ol>


  <p>또한 도구 및 기능에 익숙해지려면 보통 기간의 프로그램(수십 분에서 몇 시간)으로 시작하는 것이 좋습니다.</p>


  <h1>최상위 비트 전송률 보관</h1>


  <p>가장 쉬운 시나리오로, 가장 높은 비트 전송률 비디오와 가장 높은 비트 전송률 오디오를 사용하고 전체 프로그램에 대해 단일 비트 전송률 ISO MP4 파일을 생성하려고 합니다. 단계는 다음과 같습니다.</p>


  <ol>
   <li>AMSE를 시작합니다.</li>
   <li>자산 탭에서 프로그램을 나타내는 자산을 찾습니다.</li>
   <li>해당 자산을 선택하고 Alt+R을 누릅니다.</li>
   <li>&ldquo;라이브 스트림/보관 하위 파일 대화&rdquo; 상자가 나타납니다.</li>
   <li>기본 옵션인 &ldquo;상위 비트 전송률&rdquo; 보관을 선택하고 하위 클립을 누릅니 &ldquo;다.&rdquo;</li>
   <li>AMSE는 적절한 구성으로 Media Encoder Standard 인코딩 작업을 제출합니다.</li>
  </ol>


  <p><img alt="Archive Top Bitrate" border="0" height="795" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/57cbf94d-4024-42f7-83c6-e15a3ccd8478.png" style="background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 0px auto; display: block; padding-right: 0px; border-image: none" title="상위 비트 전송률 보관" width="917"></p>


  <p>AMSE에서 작업 탭으로 이동하여 제출된 작업을 선택하고 두 번 클릭하면 작업 정보 창이 열립니다. 작업 탭으로 이동하고 구성을 선택하여 이 인코딩 작업에 대한 XML 구성을 확인합니다.</p>


  <h1><img alt="Task Configuration XML for Archiving Top Bitrate" border="0" height="593" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3cee48a9-f08c-4796-90db-58b5cff579de.png" style="background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 0px auto; display: block; padding-right: 0px; border-image: none" title="최상위 비트 전송률 보관을 위한 작업 구성 XML" width="786"></h1>


  <p>VideoStream 및 AudioStream 요소가 특수 값인 &ldquo;TopBItrate&rdquo;로 설정되는 방식을 확인하여 처리할 최고 품질의 비디오 및 오디오를 선택하도록 인코더에게 알릴 수 있습니다. 인코딩 섹션에서 인코더는 원본 비디오 및 오디오(CopyVideo 및 CopyAudio 요소)를 복사하라는 지시를 받았습니다. 따라서 인코더는 단순히 비디오 및 오디오의 모든 조각을 읽고 오디오 비디오 인터리브 ISO MP4 파일로 재패키지합니다.</p>


  <p>작업이 완료되면 출력에 ISO MP4 파일이 포함됩니다.</p>


  <h1>GOP/조각 경계에서 최상위 비트 전송률 트리밍</h1>


  <p>이 시나리오는 가장 높은 비트 전송률 비디오와 가장 높은 비트 전송률 오디오의 일부를 가져와서 선택한 하위 클립에 대해&nbsp; 단일 비트 전송률 ISO MP4 파일을 생성하려는 이전의 확장입니다. <a href="https://azure.microsoft.com/en-us/blog/dynamic-manifests-and-rendered-sub-clips/" target="_blank">앞서 설명</a>한 것처럼 편집 내용의 인/아웃 지점이 GOP 또는 조각 경계와 일치하는 경우 보관된 조각을 오디오 비디오 인터리브 ISO MP4 파일로 다시 패키징하기만 하면 Media Encoder Standard. 단계는 다음과 같습니다.</p>


  <ol>
   <li>AMSE를 시작합니다.</li>
   <li>자산 탭에서 프로그램을 나타내는 자산을 찾습니다.</li>
   <li>해당 자산을 선택하고 Alt+R을 누릅니다.</li>
   <li>&ldquo;라이브 스트림/보관 하위 파일 대화&rdquo; 상자가 나타납니다.</li>
   <li>기본 옵션인 &ldquo;최상위 비트 전송률&rdquo; 보관을 선택하고 라이브 보관/스트림 자르기(GOP 정확도)&rdquo; 상자를 선택합니다&ldquo;. 자산 재생은 기본적으로 선택되므로 AMSE는 Azure Media Player를 사용하여 창에서 라이브 스트림을 재생합니다.</li>
   <li>재생 컨트롤을 사용하여 관심 부분의 대략적 시작/끝을 식별합니다.</li>
   <li>그런 다음 시작 시간 및 &ldquo;종료 시간에&rdquo;&rdquo; 대한 &ldquo;슬라이더를 타임라인의 위치로 이동하여 시작 시간이 관심 있는 클립의 시작 시간 또는 그 앞에 있고 종료 시간이 관심 있는 클립의 끝 또는 그 이후가 되도록 합니다. 시작 및 종료 시간 값이 조각 기간 단위로 증가되는 방식을 확인합니다. 아래 스크린샷에서 첫 번째 관심 프레임은 비디오의 2분 24초에서 시작되지만 하위 클립 작업의 시작 시간은 2분 23.10초로 설정됩니다.</li>
   <li>슬라이더를 원하는 대로 조정했으면 서브클립&rdquo;을 눌러 &ldquo;인코딩 작업을 시작합니다. 작업이 완료되면 출력 자산에 하위 클립에 해당하는 ISO MP4 파일이 포함됩니다.</li>
  </ol>


  <p><img alt="Sub-Clip Top Bitrate" border="0" height="795" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ec8c6c16-22b5-4cb3-9388-708b4be6e768.png" style="background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 0px auto; display: block; padding-right: 0px; border-image: none" title="상위 비트 전송률 Sub-Clip" width="917"></p>


  <p>AMSE에서 작업 정보 페이지를 열고 작업 구성 XML을 살펴보면 AMSE가 Source 요소에 StartTime 및 Duration 특성을 추가했음을 확인할 수 있습니다.</p>


  <p>Source StartTime=&quot;P16682DT17H23M39.0666668S&quot; Duration=&quot;PT25.758S&quot;.</p>


  <p>AMSE는 하위 클립의 인/아웃 지점을 적절한 값으로 변환하는 것을 처리합니다. 세부 정보에 대한 자세한 정보가 필요한 경우 AMSE의 소스 코드를 살펴보세요.</p>


  <ol><!--EndFragment-->

  </ol>


  <h1>모든 비트 전송률 보관</h1>


  <p>이는 주문형 출력 자산에 입력 라이브 자산에 있는 모든 비디오 비트 전송률 및 모든 오디오 비트 전송률을 포함하도록 할 수 있는 첫 번째 섹션의 확장입니다. 이 옵션은 거의 필요하지 않습니다. 원래 자산은 모든 요구 사항에 충분해야 합니다. 이 기능은 완전성을 위해 구현됩니다.</p>


  <p>&ldquo;라이브 스트림/보관 하위 파일 대화&rdquo; 상자에서 인코딩 작업을 제출하기 전에 모든 비트 전송률&rdquo; 보관 옵션을 선택할 &ldquo;수 있습니다. 작업 구성 XML을 표시하면 VideoStream 및 AudioStream 요소가 특수 값 &ldquo;*&rdquo;으로 설정되어 인코더에게 모든 비트 전송률을 처리하도록 알 수 있습니다.</p>


  <p>작업이 완료되면 출력에 ISO MP4 파일 집합이 포함됩니다. 라이브 스트림의 각 비디오 비트 전송률은 모든 오디오 비트 전송률과 인터리브되어 각 MP4 파일을 생성합니다. 출력 자산에는 소위 매니페스트 파일(*)도 포함됩니다. ISM) 동적 패키징과 함께 사용하기 위한 것입니다.</p>


  <h1>GOP/조각 경계에서 라이브 자산 트리밍</h1>


  <p>이 시나리오는 라이브 스트림의 일부를 추출하고 스트리밍할 수 있는 새 주문형 자산을 만들려는 두 번째 시나리오의 확장입니다. <a href="https://azure.microsoft.com/en-us/blog/dynamic-manifests-and-rendered-sub-clips/" target="_blank">앞에서 설명</a>한 것처럼 이 메서드의 이점은 하위 클립이 잘린 스트림과 독립적으로 자체 수명 주기를 가질 수 있고 자체 보안 속성을 가질 수 있다는 것입니다. 예를 들어 전체 이벤트는 액세스 제어될 수 있지만 하위 클립은 명확할 수 있습니다.</p>


  <p>이 작업을 수행하는 단계는 간단합니다. 모든 비트 전송률&rdquo; 보관 옵션을 선택한 &ldquo;다음 라이브 보관/스트림 자르기(GOP 정확)&rdquo; 상자를 선택하여 &ldquo;두 번째 섹션에 설명된 대로 시작 및 종료 시간 컨트롤을 활성화합니다. 이전 시나리오와 마찬가지로 태스크가 완료된 후 출력 자산에는 매니페스트(*)와 함께 ISO MP4 파일 집합이 포함됩니다. ISM) 파일입니다.</p>


  <h1>렌더링된 Sub-Clips Frame-Accurate</h1>


  <p>이전의 모든 시나리오에서 하위 클리핑 작업의 인/아웃 지점은 GOP 또는 조각 경계로 제한되었습니다. 대신 라이브 스트림의 일부를 프레임 정확하게 편집해야 하는 경우 소위 렌더링된 Sub-Clip 기능을 사용합니다. 여기서 인코더는 최상위 비트 전송률 스트림을 가져와서 지정된 비트 전송률 및 해상도로 다시 인코딩(&ldquo;렌더링&rdquo;)합니다.</p>


  <p>이 기능을 사용하려면 위에서 설명한 대로 라이브 스트림/보관 하위 파일 대화&rdquo; 상자를 표시&ldquo;하고 이제 상위 비트 전송률&rdquo; 다시 인코딩 옵션을 선택하고 &ldquo;라이브 보관/스트림 자르기(GOP 정확도)&rdquo; 상자를 선택하여 &ldquo;시작 및 종료 시간 컨트롤을 활성화합니다. 프레임 정확도 작업을 수행하므로 당연히 시작 및 종료 시간을 자유롭게 편집할 수 있습니다.</p>


  <p><strong>참고:</strong> AMSE 버전 2.38 릴리스부터 라이브 스트림 프레임 단위로 단계별로 실행하여 포인트 안팎을 지정할 수 없습니다. 이 작업을 지원할 수 있는 다른 도구에 대해 작업 중입니다. 이러한 도구가 필요한 경우 다음에서 문의하세요. <a href="mailto:amslived@microsoft.com">amslived@microsoft.com</a></p>


  <p><img alt="Rendered Sub-Clip Selection" border="0" height="795" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c0036cf5-f5b0-44b0-9bd4-ea272ff1a7f6.png" style="background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 0px auto; display: block; padding-right: 0px; border-image: none" title="렌더링된 Sub-Clip 선택 영역" width="917"></p>


  <p>이제 서브클립&hellip;&rdquo; 단추를 누르면 &ldquo;AMSE에서 인코딩 설정을 지정하기 위한 일반 Media Encoder Standard 대화 상자가 열립니다. 예를 들어 H264 다중 비트 전송률 720p&rdquo; 사전 설정을 선택하고 &ldquo;필요에 따라 값을 업데이트할 수 있습니다. 사전 설정에 대한 자세한 내용은 <a href="https://go.microsoft.com/fwlink/?linkid=618336&amp;clcid=0x409" target="_blank">설명서를 참조하세요</a>.</p>


  <p><img alt="Encode Options for Rendered Sub-Clip" border="0" height="593" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/fb2aaf65-9c17-4886-be93-8aa6c916ede8.png" style="background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 0px auto; display: block; padding-right: 0px; border-image: none" title="렌더링된 Sub-Clip 대한 인코딩 옵션" width="786"></p>


  <p>이전 시나리오와 마찬가지로 태스크가 완료된 후 출력 자산에는 매니페스트(*)와 함께 ISO MP4 파일 집합이 포함됩니다. ISM) 파일입니다.</p>


  <h1>알려진 문제</h1>


  <p>다음은 이 기능의 알려진 문제 중 일부입니다.</p>


  <ol>
   <li>Media Encoder Standard 라이브 스트림이 깨끗하다고 &lsquo;가정합니다.&rsquo; 즉, 모든 조각이 수신 및 보관되었습니다. 예를 들어 네트워크 중단으로 인해 일부 조각이 삭제된 경우 인코더는 간격을 처리하는 데 적합하지 않습니다. 출력 비디오에 비디오/오디오가 잘못 정렬되었을 수 있습니다.</li>
   <li>현재 릴리스에서는 특정 오디오 트랙을 선택할 수 없습니다. 예를 들어 여러 언어 오디오 트랙이 있는 라이브 스트림에서 보내는 경우 하위 클리핑 작업은 모든 오디오 트랙을 처리하게 됩니다.</li>
   <li>태스크가 제출된 시기와 Media Encoder Standard 실제로 이 작업을 처리하기 시작하는 시점 사이에는 지연이 있습니다. 이 지연은 가변적입니다. 인코더가 작업을 &ndash; 수행하는 경우 작업 구성의 타임스탬프가 유효&rsquo;해야 &lsquo;합니다. 라이브&rsquo; 자산에서 이 기능을 &lsquo;사용하는 경우 DVR 창에서 떨어지는 타임스탬프를 고려해야 할 수 있습니다.</li>
  </ol>

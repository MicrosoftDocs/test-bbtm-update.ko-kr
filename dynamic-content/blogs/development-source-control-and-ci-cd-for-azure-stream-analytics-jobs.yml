### YamlMime:Yaml
ms.openlocfilehash: ef64bab65e49e1ac542e02c326afba7b19d5b677
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139911946"
Slug: development-source-control-and-ci-cd-for-azure-stream-analytics-jobs
Title: Azure Stream Analytics 작업에 대한 개발, 소스 제어 및 CI/CD
Summary: ASA(Microsoft Azure Stream Analytics) 작업을 개발하고 소스 제어하는 방법을 알고 있나요? 자동화된 프로세스를 설정하여 이러한 작업을 빌드, 테스트 및 여러 환경에 배포하는 방법을 알고 있나요?
Content: >-
  <p>ASA(Microsoft Azure Stream Analytics) 작업을 개발하고 소스 제어하는 방법을 알고 있나요? 자동화된 프로세스를 설정하여 이러한 작업을 빌드, 테스트 및 여러 환경에 배포하는 방법을 알고 있나요? <a href="https://marketplace.visualstudio.com/items?itemName=ADLTools.AzureDataLakeandStreamAnalyticsTools" target="_blank">Stream Analytics Visual Studio 도구</a>는 <a href="https://azure.microsoft.com/en-us/services/devops/pipelines/" target="_blank">Azure Pipelines</a> 함께 이러한 모든 시나리오를 수행하는 데 도움이 되는 통합 환경을 제공합니다. 이 문서에서는 이러한 도구를 사용하기 위해 올바른 위치를 가리키는 방법을 보여 줍니다.</p>


  <p>이전에는 AZURE Data Lake Store Gen1을 ASA 작업의 출력 싱크로 사용하고 관련 자동화된 CI/CD 프로세스를 설정하기가 어려웠습니다. OAuth 모델이 이러한 종류의 스토리지에 대해 자동화된 인증을 허용하지 않았기 때문입니다. 2019년 1월에 릴리스되는 도구는 <a href="https://docs.microsoft.com/en-us/azure/stream-analytics/stream-analytics-managed-identities-adls#stream-analytics-tools-for-visual-studio" target="_blank">Azure Data Lake Storage Gen1 출력 싱크에 대한 관리 ID</a>를 지원하며 이제 이 중요한 시나리오를 사용하도록 설정합니다.</p>


  <p>이 문서에서는 Stream Analytics Visual Studio 도구, <a href="https://www.nuget.org/packages/Microsoft.Azure.StreamAnalytics.CICD/" target="_blank">Stream Analytics CI.CD NuGet 패키지</a> 및 Azure Pipelines 사용하는 엔드 투 엔드 개발 및 CI/CD 프로세스에 대해 설명합니다. 현재 Visual Studio 2019, 2017 및 2015가 모두 지원됩니다. 도구를 시도하지 않은&rsquo; 경우 설치 지침에 따라 시작하세요.</p>


  <h2>작업 개발</h2>


  <p>작업을 만들어 시작해 보겠습니다&rsquo;. Stream Analytics Visual Studio 도구를 사용하면 프로젝트를 사용하여 작업을 관리할 수 있습니다. 각 프로젝트는 ASA 쿼리 스크립트, 작업 구성 및 여러 입력 및 출력 구성으로 구성됩니다. 쿼리 편집은 오류 표식, 자동 완성 및 구문 강조 표시와 같은 모든 IntelliSense 기능을 사용할 때 매우 효율적입니다. 작업을 작성하는 방법에 대한 자세한 내용은 <a href="https://docs.microsoft.com/en-us/azure/stream-analytics/stream-analytics-quick-create-vs" target="_blank">Visual Studio 빠른 시작 가이드</a>를 참조하세요.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f67fba48-b30d-4f63-a161-b63eae6d8be6.png"><img alt="Screenshot of Azure Stream Analytics query script" border="0" height="195" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7c9d99c0-86ea-4fcf-b252-19da02476ec1.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Azure Stream Analytics 쿼리 스크립트의 스크린샷" width="624"></a></p>


  <p>기존 작업이 있고 Visual Studio 개발하거나 소스 제어를 추가하려는 경우 먼저 로컬 프로젝트로 내보냅니다. 지정된 ASA 작업에 대한 서버 탐색기 상황에 맞는 메뉴에서 이 작업을 수행할 수 있습니다. 이 기능을 사용하여 모든 항목을 처음부터 작성하지 않고도 지역 간에 작업을 쉽게 복사할 수 있습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/65e09e97-aa44-4df9-809f-97fcf9b8a2a0.png"><img alt="Screenshot of exporting to new Stream Analytics project" border="0" height="165" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/9a3f3539-33a5-4903-9383-fc922475a6f8.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="새 Stream Analytics 프로젝트로 내보내는 스크린샷" width="775"></a></p>


  <p>또한 Visual Studio 개발하면 클라우드 작업에서 <a href="https://docs.microsoft.com/en-us/azure/stream-analytics/stream-analytics-javascript-user-defined-functions" target="_blank">JavaScript 사용자 정의 함수</a>를 작성하거나 Edge 작업에서 <a href="https://docs.microsoft.com/en-us/azure/stream-analytics/stream-analytics-edge-csharp-udf-methods" target="_blank">C# 사용자 정의 함수</a>를 작성할 때 최상의 네이티브 작성 및 디버깅 환경을 제공합니다.</p>


  <h2>원본 제어</h2>


  <p>프로젝트로 만들면 쿼리 및 기타 아티팩트가 개발 컴퓨터의 로컬 디스크에 배치됩니다. 버전 제어 또는 원하는 리포지토리에 직접 코드를 커밋하기 위해 Azure DevOps(이전 Visual Studio Team Service)를 사용할 수 있습니다. 이렇게 하면 필요한 경우 이전 버전으로 쉽게 되돌리면서 입력, 출력 및 작업 구성뿐만 아니라 다른 버전의 .asaql 쿼리를 저장할 수 있습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5127c5ba-c53b-4bf6-a29d-f170ec13bd6a.png"><img alt="Screenshot of home screen on Team Explorer" border="0" height="298" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0156e25e-e00c-4600-b06c-330cbbc99fd2.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="팀 탐색기의 홈 화면 스크린샷" width="393"></a></p>


  <h2>로컬로 테스트</h2>


  <p>개발하는 동안 로컬 테스트를 사용하여 로컬 샘플 데이터 또는 <a href="https://docs.microsoft.com/en-us/azure/stream-analytics/stream-analytics-live-data-local-testing" target="_blank">라이브 스트리밍 입력 데이터를</a> 사용하여 <a href="https://docs.microsoft.com/en-us/azure/stream-analytics/stream-analytics-vs-tools-local-run" target="_blank">반복적으로 코드를 실행하고 수정</a>합니다. 로컬로 실행하면 쿼리가 몇 초 안에 시작되고 테스트 주기가 훨씬 짧아집니다.</p>


  <h2>클라우드에서 테스트</h2>


  <p>쿼리가 로컬 컴퓨터&rsquo;에서 잘 작동하면 성능 및 확장성 테스트를 위해 클라우드에 제출해야 합니다. 쿼리 편집기에서 Azure&rdquo;에 제출을 선택하여 &ldquo;쿼리를 업로드하고 작업 실행을 시작합니다. 그런 다음 Visual Studio 내에서 작업 메트릭 및 작업 흐름 다이어그램을 볼 수 있습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/a94f0ba0-6ef8-44d3-8a28-511548aa182c.png"><img alt="Screenshot of submitting query to Azure" border="0" height="201" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8cec8e3b-237a-404e-8529-21557b593fa7.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Azure에 쿼리를 제출하는 스크린샷" width="658"></a></p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f96e6eea-5281-4ad8-9cce-cdc87a51e200.png"><img alt="Screenshot of Stream Analytics job summary" border="0" height="632" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ec9aeed4-5051-4a74-997b-e357eb9bfd26.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Stream Analytics 작업 요약 스크린샷" width="800"></a></p>


  <h2>CI/CD 파이프라인 설정</h2>


  <p>쿼리 테스트가 완료되면 다음 단계는 프로덕션 환경에 대한 CI/CD 파이프라인을 설정하는 것입니다. ASA 작업은 ARM(Azure Resource Manager) 템플릿을 사용하여 Azure 리소스로 배포됩니다. 각 작업은 <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-manager-templates-parameters" target="_blank">ARM 템플릿 정의 파일 및 매개 변수 파일로</a> 정의됩니다.</p>


  <p>위에서 언급한 두 파일을 생성하는 방법에는 두 가지가 있습니다.</p>


  <ol>
   <li>Visual Studio 프로젝트 이름을 마우스 오른쪽 단추로 클릭하고 빌드를 선택합니다&ldquo;.&rdquo;</li>
   <li>임의 빌드 머신에서 <a href="https://www.nuget.org/packages/Microsoft.Azure.StreamAnalytics.CICD/" target="_blank">Stream Analytics CI.CD NuGet 패키지를</a> 설치하고 현재 Windows 지원되는 명령 &ldquo;빌드&rdquo;를 실행합니다. 이는 자동화된 빌드 프로세스에 필요합니다.</li>
  </ol>


  <p>빌드&rdquo;를 &ldquo;수행하면 bin&rdquo; 폴더 아래에 &ldquo;두 파일이 생성되고 원하는 위치에 저장할 수 있습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/e2765c35-6a6b-444d-8e1e-733952ce33f5.png"><img alt="Screenshot of the deployment folder" border="0" height="141" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3bb545f0-27ba-4e65-8295-4be54fe38e0c.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="배포 폴더의 스크린샷" width="789"></a></p>


  <p>매개 변수 파일의 기본값은 Visual Studio 프로젝트의 입력/출력 작업 구성 파일의 기본값입니다. 여러 환경에 배포하려면 매개 변수 파일의 간단한 파워 셸 스크립트를 통해 값을 바꿔 대상 환경을 지정하기 위해 이 파일의 다른 버전을 생성합니다. 이러한 방식으로 개발, 테스트 및 최종 프로덕션 환경에 배포할 수 있습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/07759465-6381-460b-bf4f-698d5f37e5df.png"><img alt="Example code for power shell script" border="0" height="354" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/06e4e8dc-4f26-410d-9e46-6e9504731097.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Power Shell 스크립트에 대한 예제 코드" width="450"></a></p>


  <p>위에서 설명한 대로 <a href="https://www.nuget.org/packages/Microsoft.Azure.StreamAnalytics.CICD/" target="_blank">Stream Analytics CI.CD NuGet 패키지</a>는 독립적으로 또는 Azure Pipelines 같은 CI/CD 시스템에서 사용하여 Stream Analytics Visual Studio 프로젝트의 빌드 및 테스트 프로세스를 자동화할 수 있습니다. &ldquo; 자세한 내용은 <a href="https://docs.microsoft.com/en-us/azure/stream-analytics/stream-analytics-tools-for-visual-studio-cicd" target="_blank">Stream Analytics 도구</a>&rdquo;&ldquo;와 지속적으로 통합 및 개발하고 <a href="https://docs.microsoft.com/en-us/azure/stream-analytics/stream-analytics-tools-visual-studio-cicd-vsts" target="_blank">Azure Pipelines 자습서를 사용하여 CI/CD를 사용하여 Stream Analytics 작업 배포</a>를 확인 &rdquo; 하세요.</p>


  <h2>피드백 및 아이디어 제공</h2>


  <p>Azure Stream Analytics 팀은 피드백을 수신 대기하기 위해 최선을 다하고 있습니다. <a href="https://feedback.azure.com/forums/270577-stream-analytics/filters/top" target="_blank">UserVoice</a>를 통해 대화에 참여하고 음성을 들을 수 있게 되어 환영합니다. 도구 피드백의 <a href="mailto:ASAToolsFeedback@microsoft.com">ASAToolsFeedback@microsoft.com</a>경우 .</p>


  <p>공개 미리 보기에 10개 이상의 새로운 기능이 있다는 것을 알고 계셨나요? <a href="https://docs.microsoft.com/en-us/azure/stream-analytics/stream-analytics-previews" target="_blank">미리 보기 프로그램에 등록</a> 하여 사용해 보세요. 또한 Twitter <a href="https://twitter.com/azurestreaming" target="_blank">@AzureStreaming</a> 에서 최신 기능을 계속 업데이트하세요.</p>

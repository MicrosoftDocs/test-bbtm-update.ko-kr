### YamlMime:Yaml
ms.openlocfilehash: 3932e880b6c2dce63f85d0729b4025bacf79c4bc
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139897261"
Slug: query-across-resources
Title: 리소스 간 쿼리
Summary: 현재 작업 영역 또는 애플리케이션뿐만 아니라 다른 리소스의 데이터를 단일 쿼리로 분석하는 기능인 리소스 간 쿼리를 도입하게 되어 기쁩니다.
Content: >-
  <p>&rsquo;Were는 현재 작업 영역 또는 애플리케이션뿐만 아니라 다른 리소스의 데이터를 단일 쿼리로 분석하는 기능을 쿼리하는 &ndash; 교차 리소스를 도입하게 되어 매우 기쁩니다.</p>


  <p>지금까지 쿼리는 단일 애플리케이션 Insights 앱 또는 단일 Log Analytics 작업 영역의 범위로 제한되었습니다. 현재는 여러 앱 또는 여러 작업 영역에서 쿼리를 지원하여 데이터에 대한 진정한 시스템 차원의 보기를 제공합니다.</p>


  <h2>애플리케이션 Insights 앱에서 쿼리</h2>


  <p><em>앱</em> 식별자를 사용하여 외부 애플리케이션을 참조합니다.</p>


  <p><code>union app(&#39;mmsportal-prod&#39;).requests, app(&#39;fabrikamapp&#39;).requests, requests<br>

  | summarize count() by bin(timestamp, 1h)</code></p>


  <p>위의 예제에서는 <em>mmsportal-prod, fabrikamprod </em>및 현재 앱(이름이 필요하지 않고&rsquo; 테이블을 직접 참조)의 세 가지 개별 앱에서 <i>요청</i> 테이블의 레코드를 쿼리합니다. 그런 다음 각 레코드를 보유하는 애플리케이션에 관계없이 총 레코드 수를 계산합니다.</p>


  <p><img align="left" alt="cross-app-chart-125" border="0" height="299" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/bbc1d7aa-f145-4cf7-b70e-3f63d180950d.png" style="margin: 0px auto; border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; float: none; display: block; background-image: none;" title="앱 간 차트-125" width="610"></p>


  <h2>Log Analytics 작업 영역 전체 쿼리</h2>


  <p>작업 영역 식별자를 사용하여 외부 <em>작업 영역을 </em>참조합니다.</p>


  <p><code>union Update, workspace(&quot;contosoretail-it&quot;).Update<br>

  | where TimeGenerated &gt;= ago(1h)<br>

  | where UpdateState == &quot;Needed&quot;<br>

  | summarize dcount(Computer) by Classification</code></p>


  <p>위의 예제에서는 현재 작업 영역과 <i>contosoretail-it</i>이라는 다른 작업 영역에서 <i>업데이트</i> 테이블을 쿼리합니다. 그런 다음 각 레코드를 보유하는 작업 영역에 관계없이 분류에 따라 필요한 업데이트의 고유 레코드를 계산합니다.</p>


  <h2>리소스 식별</h2>


  <p>애플리케이션 및 작업 영역 식별은 다음과 같은 여러 가지 방법으로 수행할 수 있습니다.</p>


  <ol>
   <li>리소스 이름 - 사용자가 읽을 수 있는 앱 또는 작업 영역의 이름입니다. 경우에 따라 이를 구성 요소 이름으로&rdquo; 지칭합니다&ldquo;.
   <p><code>workspace(&quot;contosoretail&quot;).Update | count </code></p>
   <em>참고:</em> 작업 영역 및 앱 이름은 구독 또는 리소스 그룹에서 고유하지 않으므로 사용자가 동일한 이름의 여러 구성 요소에 액세스할 수 있는 경우 이 식별자가 모호할 수 있습니다. 이러한 경우 쿼리는 모호성에 실패합니다.</li>
   <li>정규화된 이름 - &ldquo;구독 이름, 리소스 그룹 및 구성 요소 이름으로&rdquo; 구성된 앱 또는 작업 영역의 전체 이름입니다. subscriptionNameresourceGroupcomponentName&lt;&gt;&gt;&lt;//&gt; 형식&lt;입니다.
   <p><code>app(&#39;AI-Prototype/Fabrikam/fabrikamprod&#39;).requests | count </code></p>
   <em>참고: </em> Azure 구독 이름은 고유하지 않으므로 이 식별자는 모호할 수 있습니다.</li>
   <li>앱 또는 작업 영역 ID - 앱 또는 작업 영역의 고유하고 변경할 수 없는 공용 식별자인 GUID입니다. <p><code>workspace(&quot;b438b4f6-912a-46d5-9cb1-b44069212ab4&quot;).Update | count </code></p>
   </li>
   <li>Azure 리소스 ID &ndash; 는 앱 또는 작업 영역의 Azure 정의 ID입니다.
   <ul>
    <li>앱의 경우 형식은 /subscriptions/&lt;subscriptionId&gt;/resourcegroups/&lt;resourceGroup&gt;/providers/microsoft.insights/components/&lt;componentName&gt;입니다.<br>
  예를 들면 다음과 같습니다. <p><code>app(&quot;/subscriptions/7293b69-db12-44fc-9a66-9c2005c3051d/resourcegroups/Fabrikam/providers/microsoft.insights/components/fabrikamapp&quot;).requests | count</code></p>
    </li>
    <li>작업 영역의 경우 형식은 /subscriptions/subscriptionId&gt;/&lt;resourcegroups/resourceGroup&gt;/&lt;providers/microsoft입니다. OperationalInsights/workspaces/&lt;componentName&gt;.</li>
    <li>예를 들면 다음과 같습니다. <p><code>workspace(&quot;/subscriptions/e427267-5645-4c4e-9c67-3b84b59a6982/resourcegroups/ContosoAzureHQ/providers/Microsoft.OperationalInsights/workspaces/contosoretail&quot;).Event | count</code></p>
    </li>
   </ul>
   </li>
  </ol>


  <h2>즐겨찾는 리소스</h2>


  <p><img align="left" alt="favorites" border="0" height="431" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d4af89ea-473f-4871-96c8-7b8896df13fd.png" style="border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 20px; padding-left: 0px; float: left; display: inline; background-image: none;" title="즐겨찾기" width="175"></p>


  <p>멋진 새 기능은 분석 포털의 즐겨찾기&rdquo; &ndash;&nbsp; 이며&ldquo;, Scehma 창에는 가장 많이 쿼리하는 리소스에 대한 빠른 액세스를 제공하기 위한 즐겨찾기 리소스 목록이 있습니다. 목록에 항목을 추가하려면 현재 활성 리소스를 마우스로 가리키고 별 아이콘을 클릭하거나 편집&quot; 단추를 선택하고 &quot;관련 리소스를 검색할 수 있습니다.</p>


  <p>리소스 간 쿼리&rsquo;의 컨텍스트에서 Intellisense는 즐겨찾기를 기반으로 식별자를 제안합니다. 제안에 관계없이 실제로 액세스 권한이 있는 리소스를 참조할 수 있습니다.</p>


  <h3>다음 단계</h3>


  <p>데이터를 분석하는 방법에 대해 자세히 알아봅니다.</p>


  <p>&middot;<a href="https://go.microsoft.com/fwlink/?linkid=844764" target="_blank">쿼리 언어 문서 사이트</a></p>


  <p>&middot; <a href="https://go.microsoft.com/fwlink/?linkid=856078" target="_blank">쿼리 시작</a></p>

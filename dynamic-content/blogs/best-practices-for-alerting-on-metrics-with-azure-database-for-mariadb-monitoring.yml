### YamlMime:Yaml
ms.openlocfilehash: 0c48dbf68b35ae5e88d318472bed863059eea531
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139908541"
Slug: best-practices-for-alerting-on-metrics-with-azure-database-for-mariadb-monitoring
Title: Azure Database for MariaDB 모니터링을 사용하여 메트릭에 대한 경고 모범 사례
Summary: 2018년 12월 4일 Microsoft의 Azure Database for Open Sources는 MariaDB의 일반 공급이 발표되었습니다. 이 블로그는 서비스에 대해 가장 일반적으로 모니터링되는 메트릭에 대한 경고에 대한 몇 가지 지침과 모범 사례를 공유하려고 합니다.
Content: >-
  <p>2018년 12월 4일 오픈 소스용 Microsofts&rsquo; Azure Database에서 <a href="https://azure.microsoft.com/en-us/blog/announcing-the-general-availability-of-azure-database-for-mariadb/" target="_blank">MariaDB의 일반 공급</a>이 발표되었습니다. 이 블로그는 MariaDB에 대해 가장 일반적으로 모니터링되는 메트릭에 대한 경고에 대한 몇 가지 지침과 모범 사례를 공유하려고 합니다.</p>


  <p>개발자, 데이터베이스 분석가, 사이트 안정성 엔지니어 또는 회사의 DevOps 전문가이든 관계없이 데이터베이스 모니터링은 MariaDB 서버의 안정성, 가용성 및 성능을 유지하는 데 중요한 부분입니다. Azure Database for MariaDB에서 서버 동작에 대한 인사이트를 얻을 수 있는 다양한 <a href="https://docs.microsoft.com/en-us/azure/mariadb/concepts-monitoring" target="_blank">메트릭</a> 이 있습니다. Azure Portal 또는 Azure CLI <a href="https://docs.microsoft.com/en-us/azure/mariadb/howto-alert-metric" target="_blank">를 사용하여 이러한 메트릭에 대한 경고를 설정할</a> 수도 있습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7b149701-0520-4ac4-8585-b4d6f88fbf6a.png"><img alt="Create New Rule screenshot" border="0" height="528" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/dd4f737d-6ca4-4cfc-a1a1-8bfdee0ff04c.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="새 규칙 만들기 스크린샷" width="1024"></a></p>


  <p>기존 온-프레미스 접근 방식에서 하이브리드 또는 클라우드 네이티브로 발전하는 최신 애플리케이션으로 하이브리드/퍼블릭 클라우드에서 성공적인 모니터링 전략에 대한 몇 가지 모범 사례를 채택해야 합니다. 다음은 MariaDB 서버에서 모니터링 데이터를 사용하는 방법과 이러한 다양한 메트릭에 따라 개선할 수 있는 영역에 대한 몇 가지 모범 사례입니다.</p>


  <h2>활성 연결</h2>


  <p>샘플 임계값(백분율 또는 값): 30분보다 크거나 같은 총 연결 제한의 80%를 5분마다 확인했습니다.</p>


  <h3>확인할 사항</h3>


  <ul>
   <li>활성 연결이 지난 반시간 동안 총 한도의 80%에 해당되는 경우 워크로드에 따라 예상되는지 확인합니다.</li>
   <li>부하가 예상되는 경우 <a href="https://docs.microsoft.com/en-us/azure/mariadb/concepts-pricing-tiers" target="_blank">가격 책정 계층 또는 vCore</a>를 업그레이드하여 활성 연결 제한을 늘릴 수 있습니다. Azure <a href="https://docs.microsoft.com/en-us/azure/mariadb/concepts-limits" target="_blank">Database for MariDB의 제한</a> 사항 설명서 &ldquo; 에서 각 SKU에 대한 활성 연결 제한을 확인할 수 있습니다.&rdquo;</li>
  </ul>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/517c4957-cccd-40a7-929d-7db97e354a75.png"><img alt="Active Connections (Platform) screenshot" border="0" height="681" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/dd5ad061-cb77-4427-b37a-42c2513977b5.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="활성 연결(플랫폼) 스크린샷" width="1430"></a></p>


  <h2>실패한 연결</h2>


  <p>샘플 임계값(백분율 또는 값): 지난 30분 동안 실패한 연결 10개가 5분마다 확인되었습니다.</p>


  <h3>확인할 사항</h3>


  <ul>
   <li>지난 반시간 동안 연결 요청 오류가 표시되는 경우 실패 이유로 로그를 확인하여 이 오류가 예상되는지 확인합니다.</li>
  </ul>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1e76a125-ec20-4d49-897d-93c8cff75064.png"><img alt="Failed Connections (Platform) screenshot" border="0" height="727" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8255eccc-fb12-4fc9-81e4-e4753811e9cb.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="실패한 연결(플랫폼) 스크린샷" width="1430"></a></p>


  <ul>
   <li>사용자 오류인 경우 적절한 조치를 취합니다. 예를 들어 인증에 실패한 오류가 발생하면 사용자 이름/암호를 확인합니다.</li>
   <li>오류가 SSL과 관련된 경우 <a href="https://docs.microsoft.com/en-us/azure/mariadb/concepts-ssl-connection-security" target="_blank">SSL 설정</a> 및 입력 매개 변수가 올바르게 구성되었는지 확인합니다.
   <ul style="margin-left: 40px;">
    <li>예: psql &quot;sslmode=verify-ca sslrootcert=root.crt host=mydemoserver.mariadb.database.azure.com dbname=mariadb user=mylogin@mydemoserver&quot;</li>
   </ul>
   </li>
  </ul>


  <h2>CPU 백분율 또는 메모리 백분율</h2>


  <p>샘플 임계값(백분율 또는 값): 5분 동안 100%, 2시간 이상 95%</p>


  <h3>확인할 사항</h3>


  <ul>
   <li>CPU 또는 메모리 사용량이 100%에 도달한 경우 애플리케이션 원격 분석 또는 로그를 확인하여 오류의 영향을 이해합니다.</li>
   <li>활성 연결 수를 검토합니다. <a href="https://docs.microsoft.com/en-us/azure/mariadb/concepts-limits" target="_blank">Azure Database for MariaDB</a>의 제한 사항 설명서 &ldquo; 에서 연결 제한을 확인합니다.&rdquo; 애플리케이션이 최대 연결을 초과했거나 한도에 도달한 경우 컴퓨팅을 확장하는 것이 좋습니다.</li>
  </ul>


  <h2>IO 백분율</h2>


  <p>샘플 임계값(백분율 또는 값): 60분보다 크거나 같은 90%의 사용량입니다.</p>


  <h3>확인할 사항</h3>


  <ul>
   <li>IOPS가 1시간 이상 90%에 있는 경우 애플리케이션 워크로드에 따라 예상되는지 확인합니다.</li>
   <li>높은 부하가 예상되는 경우 스토리지를 늘려 IOPS 제한을 늘입니다. <a href="https://docs.microsoft.com/en-us/azure/mariadb/concepts-pricing-tiers" target="_blank">IOPS 매핑에 대한 Storage</a> 참조로 아래에 표시됩니다.</li>
  </ul>


  <h2>스토리지</h2>


  <p>프로비전하는 스토리지는 Azure Database for PostgreSQL 서버에 사용할 수 있는 스토리지 용량입니다. 스토리지는 데이터베이스 파일, 임시 파일, 트랜잭션 로그 및 PostgreSQL 서버 로그에 사용됩니다. 프로비전하는 총 스토리지 용량도 서버에 사용할 수 있는 I/O 용량을 정의합니다.</p>


  <table border="0" cellpadding="2" cellspacing="0">
   <tbody>
    <tr>
     <td valign="top">&nbsp;</td>
     <td valign="top"><strong>기본</strong></td>
     <td valign="top"><strong>범용</strong></td>
     <td valign="top"><strong>메모리에 최적화</strong></td>
    </tr>
    <tr>
     <td valign="top">스토리지 유형</td>
     <td valign="top">Azure Standard Storage</td>
     <td valign="top">Azure Premium Storage</td>
     <td valign="top">Azure Premium Storage</td>
    </tr>
    <tr>
     <td valign="top">스토리지 크기</td>
     <td valign="top">5GB~1TB</td>
     <td valign="top">5GB~4TB</td>
     <td valign="top">5GB~4TB</td>
    </tr>
    <tr>
     <td valign="top">스토리지 증분 크기</td>
     <td valign="top">1GB</td>
     <td valign="top">1GB</td>
     <td valign="top">1GB</td>
    </tr>
    <tr>
     <td valign="top">IOPS</td>
     <td valign="top">변수</td>
     <td valign="top">
     <p>3IOPS/GB</p>

     <p>최소 100IOPS</p>

     <p>최대 6000IOPS</p>
     </td>
     <td valign="top">
     <p>3IOPS/GB</p>

     <p>최소 100IOPS</p>

     <p>최대 6000IOPS</p>
     </td>
    </tr>
   </tbody>
  </table>


  <h2>스토리지 비율</h2>


  <p>샘플 임계값(백분율 또는 값): 80%</p>


  <h3>확인할 사항</h3>


  <ul>
   <li>서버가 프로비전된 스토리지 한도에 도달하면 곧 공간이 부족해지고 읽기 전용으로 설정됩니다.</li>
   <li>사용량을 모니터링하세요. 파일, 로그 등을 삭제하지 않고 서버를 계속 사용하기 <a href="https://docs.microsoft.com/en-us/azure/mariadb/concepts-pricing-tiers#scale-resources" target="_blank">위해 더 많은 스토리지를 프로비전</a> 할 수도 있습니다.</li>
  </ul>


  <p>모든 것을 시도했지만 위에서 언급한 모니터링 팁 중 어느 것도 해결로 이어지지 않는 경우 주저하지&#39;<a href="https://portal.azure.com/#create/Microsoft.Support" target="_blank">Microsoft Azure 지원에</a> 문의하십시오.</p>


  <h2>감사의 글</h2>


  <p>이 블로그에 기여해 주신 Azure Database for MariaDB 프로그램 관리자인 Andrea Lam에게 특별히 감사드립니다.</p>

### YamlMime:Yaml
ms.openlocfilehash: dc19a00adb9760663dd8603d2e34b0c62a519fec
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139912290"
Slug: what-why-how-azure-automation-desired-state-configuration
Title: Azure Automation Desired State Configuration(DSC)의 내용, 이유 및 방법
Summary: 머신을 조직 정책에 맞추거나 지속적인 배포를 사용하도록 설정할지 여부에 관계없이 대규모 구성 관리는 번갈아 가며 오류가 발생하기 쉬운 프로세스일 수 있습니다. 이제 일반 공급되는 Azure Automation DSC를 사용하면 쉽게 사용할 수 있습니다.
Content: "<p>머신을 조직 정책에 맞추거나 지속적인 배포를 사용하도록 설정할지 여부에 관계없이 대규모 구성 관리는 번갈아 가며 오류가 발생하기 쉬운 프로세스일 수 있습니다. 조직의&rsquo; 인프라 공간이 커짐에 따라 다음과 같은 일반적인 질문과 함께 이 영역에서 어려움을 겪습니다.</p>\n\n<ul>\n <li>모든 컴퓨터가 의도한 구성과 일치하고 올바른 상태로 유지되도록 하려면 어떻게 해야 하나요?</li>\n <li>사람, 프로세스 및 프로그램의 변경으로 인해 컴퓨터 구성이 원하는 상태에서 벗어나지 않도록 하려면 어떻게 해야 하나요?</li>\n <li>새 컴퓨터가 동일한 역할의 기존 컴퓨터 구성과 일치하도록 하려면 어떻게 해야 하나요?</li>\n <li>컴퓨터의 전체 또는 하위 집합에 대해 원하는 새 구성을 원활하게 설정하려면 어떻게 해야 하나요?</li>\n <li>컴퓨터 또는 컴퓨터 역할의 원하는 구성을 변경할 수 있는 사용자에 대한 액세스를 제한하려면 어떻게 해야 하나요?</li>\n <li>가동 시간에 영향을 주지 않고 구성 변경 내용을 오케스트레이션하려면 어떻게 해야 하나요?</li>\n <li>위의 모든 작업을 온-프레미스 머신과 퍼블릭 클라우드 및 Windows 및 Linux에서 일관되게 수행하려면 어떻게 해야 하나요?</li>\n</ul>\n\n<p><strong>Azure Automation Desired State Configuration(DSC)</strong>는 위의 문제를 해결하는 데 도움이 되는 고가용성 구성 관리 솔루션을 제공합니다. <a href=\"https://azure.microsoft.com/en-us/documentation/articles/automation-dsc-overview/?wt.mc_id=WW_CE_OMS_OO_BLOG_NONE\">Automation DSC</a>를 사용하면 클라우드에서 대규모로 모든 IT 리소스의 원하는 상태를 일관되게 배포, 안정적으로 모니터링 및 자동으로 업데이트할 수 있습니다. Automation DSC는 클라우드 또는 온-프레미스에서 물리적 및 가상 머신, Windows 또는 Linux의 특정 상태와 머신 구성을 정렬하여 일관된 제어를 통해 지속적인 배포 및 IT 서비스 제공을 가능하게 할 수 있습니다. 다른 유형의 환경과 여러 클라우드에서 빠른 변화를 관리하면 더 간단해져서 비즈니스 요구 사항을 보다 유연하게 충족할 수 있습니다.</p>\n\n<p>그러나 어떻게 작동합니까? Automation DSC는 더욱 쉬운 구성 관리 환경을 제공하기 위해 <a href=\"https://msdn.microsoft.com/en-us/powershell/dsc/overview?f=255&amp;MSPPError=-2147217396\">PowerShell Desired State Configuration(DSC)</a>에 도입된 기본 사항을 기반으로 합니다. Automation DSC를 사용하면 클라우드에서 PowerShell DSC 구성을 작성하고 관리하고, DSC 리소스를 가져오고, MOF 문서(DSC 노드 구성)를 생성할 수 있습니다. 이러한 DSC 항목은 Automation DSC 끌어오기 서버에 배치되므로 클라우드 또는 온-프레미스의 대상 노드(물리적 및 가상 머신)가 이를 선택하고, 지정한 원하는 상태를 자동으로 준수하고, 준수 여부에 따라 Automation DSC에 다시 보고할 수 있습니다.</p>\n\n<p>예를 들어 로그 분석 및 모니터링을 위해 Microsofts&rsquo; OMS(<a href=\"https://www.microsoft.com/en-us/server-cloud/operations-management-suite/overview.aspx\" target=\"_blank\">Operations Management Suite</a>)에 의존한다고 가정&rsquo;해 보겠습니다&rsquo;. 이 상황에서는 모든 컴퓨터가 어디에 있든 OMS 에이전트가 설치되어 있고 에이전트가 지속적으로 실행되고 있는지 확인하려고 할 수 있습니다. 더 적은 것은 클라우드 및 데이터 센터 환경에 대한 인사이트 및 제어의 손실을 의미합니다.</p>\n\n<p>Automation DSC를 사용하여 컴퓨터가 원하는 상태와 일치하는지 확인하는 것은 매우 간단합니다. 먼저 컴퓨터가 일치해야 하는 원하는 상태를 지정하는 PowerShell DSC 구성을 Automation DSC에 작성하고 가져옵니다. 위의 OMS 에이전트 예제에서 DSC 구성은 다음과 같습니다.</p>\n\n<pre class=\"prettyprint\">\nConfiguration MyConfiguration {\n    \n    # TODO: add your OMS workspace onboarding values here\n    $OmsWorkspaceId = &quot;FILL ME IN&quot;\n    $OmsWorkspaceKey = &quot;FILL ME IN&quot;\n\n    $OIPackageLocalPath = &quot;C:\\MMASetup-AMD64.exe&quot;\n    Import-DscResource -ModuleName xPSDesiredStateConfiguration\n\n    Node OMSServer {\n\n        #Service state\n        Service OIService {\n            Name = &quot;HealthService&quot;\n            State = &quot;Running&quot;\n            DependsOn = &quot;[Package]OI&quot;\n        }\n\n        xRemoteFile OIPackage {\n            Uri = &quot;https://opsinsight.blob.core.windows.net/publicfiles/MMASetup-AMD64.exe&quot;\n            DestinationPath = $OIPackageLocalPath\n        }\n\n        #Application\n        Package OI {\n            Ensure = &quot;Present&quot;\n            Path  = $OIPackageLocalPath\n            Name = &quot;Microsoft Monitoring Agent&quot;\n            ProductId = &quot;C318816D-D471-4F18-999A-7662DB906BC0&quot;\n            Arguments = &#39;/C:&quot;setup.exe /qn ADD_OPINSIGHTS_WORKSPACE=1 OPINSIGHTS_WORKSPACE_ID=&#39; + $OmsWorkspaceId + &#39; OPINSIGHTS_WORKSPACE_KEY=&#39; + $OmsWorkspaceKey + &#39; AcceptEndUserLicenseAgreement=1&quot;&#39;\n            DependsOn = &quot;[xRemoteFile]OIPackage&quot;\n        }\n    }\n}</pre>\n\n<p>이 구성은 네이티브가 아닌 PowerShell DSC 리소스(xRemoteFile)&rsquo;에 따라 달라지므로 해당 DSC 리소스가 포함된 <a href=\"https://www.powershellgallery.com/packages/xPSDesiredStateConfiguration/3.7.0.0?wt.mc_id=WW_CE_OMS_OO_BLOG_NONE\">PowerShell 모듈</a> 도 Automation DSC로 가져와야 합니다. 그런 다음 Automation 서비스에서 <a href=\"https://azure.microsoft.com/en-us/documentation/articles/automation-dsc-compile/?wt.mc_id=WW_CE_OMS_OO_BLOG_NONE\">구성을 컴파일</a> 하고 생성된 노드 구성을 컴퓨터에 할당하기만 하면 됩니다. 이 노드 구성을 끌어오고 지속적으로 자동 고침하여 원하는 상태를 준수하거나 각 컴퓨터에 대해 설정한 구성 모드&rsquo;에 따라 원하는 상태에 대한 준수를 보고합니다. Automation DSC 대시보드에서 이 준수 정보를 &ldquo;모두&rdquo; 볼 수 있습니다.</p>\n\n<p><img alt=\"Automation-DSC-dashboard\" border=\"0\" height=\"310\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f7141ac7-2878-493c-abf1-3d9bf7513a70.png\" style=\"border-width: 0px; margin-right: auto; margin-left: auto; float: none; display: block;\" title=\"Automation-DSC-dashboard\" width=\"480\"></p>\n\n<p>OMS 에이전트가 설치/실행 중인지 확인하는 것은 Automation DSC를 사용할 수 있는 한 가지 방법입니다. 물론 보안 정책, 방화벽 규칙 또는 <a href=\"https://azure.microsoft.com/en-us/documentation/articles/automation-dsc-cd-chocolatey/\">최신 버전의 애플리케이션 코드</a> 존재와 같이 규정 준수를 적용하거나 보고하려는 다른 &ldquo;많은 상태가&rdquo; 있습니다.</p>\n\n<p>&rsquo;이제 Automation DSC&rsquo;의 기본 사항을 살펴보겠습니다. 최근 <a href=\"https://azure.microsoft.com/en-us/updates/general-availability-azure-automation-desired-state-configuration/?wt.mc_id=WW_CE_OMS_OO_BLOG_NONE\">일반 공급</a> 릴리스의 일부로 추가한 서비스의 새로운 기능 중 일부를 살펴보겠습니다. 가장 먼저 알 수&rsquo; 있는 것은 머신의 리소스가 원하는 상태인지와 일치하지 않는지 정확하게 확인할 수 있도록 제공하는 새롭고 풍부한 보고 인터페이스입니다. 이전에는 Automation DSC UI에서 머신에 대한 DSC 보고서를 클릭하면 다음과 같이 표시됩니다.</p>\n\n<p><img alt=\"DSC-report-for-a-machine\" border=\"0\" height=\"397\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/fc92dc3b-cadc-4092-b601-9bb3ebd8bc43.png\" style=\"border-width: 0px; margin-right: auto; margin-left: auto; float: none; display: block;\" title=\"DSC-report-for-a-machine\" width=\"480\"></p>\n\n<p>이제 컴퓨터가 WMF 5 RTM을 실행하는 경우 훨씬 더 친숙한 사용자 인터페이스에 동일한 정보를 표시합니다.</p>\n\n<p><img alt=\"DSC-report-for-a-machine-running-WMF-5-RTM\" border=\"0\" height=\"336\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/60cae313-67fc-4f3e-b8b4-dd6fcf302f96.png\" style=\"border-width: 0px; margin-right: auto; margin-left: auto; float: none; display: block;\" title=\"DSC-report-for-a-machine-running-WMF-5-RTM\" width=\"480\"></p>\n\n<p>&rsquo;하지만 자동화 DSC의 덜 알려진 또 다른 보고 기능이 있는데, 최근에 &ndash; 는 컴퓨터가 규정 준수 보고를 위해서만 Automation DSC를 사용하도록 지원했습니다.&nbsp; &rsquo;이제 위의 스크린샷에서와 같은 준수 정보만 Automation DSC에 보고하지만 데이터 센터 내에서 직접 푸시되는 PowerShell DSC 구성에서 원하는 상태를 계속 받을 수 있도록 컴퓨터를 온보딩할 수 있습니다. 이렇게 하면 데이터 센터의 온-프레미스에서 PowerShell DSC&rsquo; 구성을 사용하는 동시에 클라우드에서 Automation DSC의 풍부한 보고 기능을 활용할 수 있는 선택과 유연성을 제공합니다.</p>\n\n<p>다음은&rsquo; Automation DSC에서 보고서 전용 컴퓨터의 모양을 나타내는 예제입니다. 당신이 볼 수 있듯이, 그것은 모양과 보고 정보의 측면에서, 다른 관리되는 컴퓨터처럼 정확하게 작동합니다. 그러나 Automation DSC에서 배달되지 않으므로 노드 구성이 할당되지 않습니다.</p>\n\n<p><img alt=\"Report-only-machine-in-Automation-DSC\" border=\"0\" height=\"220\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6adb2582-df0d-429e-8e87-f94a82810c56.png\" style=\"border-width: 0px; margin-right: auto; margin-left: auto; float: none; display: block;\" title=\"Report-only-machine-in-Automation-DSC\" width=\"480\"></p>\n\n<p>여기에서 보고서 전용 모드를 포함하여 Automation DSC에 머신을 온보딩하는 방법에 대해 자세히 알아볼 수 <a href=\"https://azure.microsoft.com/en-us/documentation/articles/automation-dsc-onboarding/?wt.mc_id=WW_CE_OMS_OO_BLOG_NONE\">있습니다</a>.</p>\n\n<p>Automation DSC의 또 다른 흥미로운 사용 사례는 <a href=\"https://azure.microsoft.com/en-us/blog/azure-vm-scale-sets-public-preview/\">Azure Virtual Machine Scale Sets</a>입니다. VM Scale Sets를 사용하면 여러 Azure VM을 집합으로 배포 및 관리하고 부하에 따라 집합을 쉽게 확장하거나 확장할 수 있습니다. 이 기능의 이점은 관리 오버헤드를 줄이는 동시에 성능 요구 사항을 충족하도록 스케일 업하고 성능 요구 사항이 감소할 때 비용을 절감하도록 축소할 수 있다는 것입니다. 그러나 VM Scale Sets의 사용자는 일반적으로 다음과 같은 사항을 궁금해합니다.</p>\n\n<ul>\n <li>확장 집합의 컴퓨터가 동일하고 구성에서 동일하게 유지되도록 하려면 어떻게 해야 하나요?</li>\n <li>확장 집합에서 기존 및 아직 생성되지 않은 컴퓨터의 구성을 쉽게 업데이트하려면 어떻게 해야 하나요?</li>\n</ul>\n\n<p>이제 Automation DSC는 구성 관리의 이러한 측면에 대한 매우 간단한 접근 방식을 제공합니다. 이제 Azure Virtual Machine Scale Sets를 구성하여 Automation DSC에서 관리하기 위해 집합의 모든 머신이 자동으로 온보딩되도록 할 수 있습니다. Automation DSC에서 구성이 업데이트되면 확장 집합의 모든 컴퓨터가 자동으로 새 원하는 상태를 준수하며 확장 집합이 증가할 때마다 새 VM 인스턴스도 원하는 상태를 자동으로 준수합니다. 또한 확장 집합의 컴퓨터가 원하는 상태에서 어떻게든 드리프트되면 자동으로 수정됩니다. 또한 이 모든 작업은 Azure Resource Manager 템플릿을 업데이트하고 배포하거나 컴퓨터에 원격으로 배포하여 구성을 설정하지 않고도 수행할 수 있습니다. 여기서 Automation DSC에서 관리하는 VM 확장 집합을 설정하는 ARM 템플릿 예제를 볼 수 <a href=\"https://azure.microsoft.com/en-us/documentation/templates/201-vmss-automation-dsc/?wt.mc_id=WW_CE_OMS_OO_BLOG_NONE\">있습니다</a>.</p>\n\n<p>보듯이 Automation DSC는 온-프레미스 및 클라우드, Windows 또는 Linux에서 머신을 간단하게 구성할 수 있습니다. 대규모 구성 관리에 대한 사용자 고유의 고통을 줄이기 위해 시도해 볼 수 있기를 바랍니다&rsquo;.</p>\n\n<p>Automation DSC에 대해 자세히 알아보고 싶나요? 아래 링크를 확인하거나 이 <a href=\"https://github.com/azureautomation/automation-packs/tree/master/102-sample-automation-setup\">Azure Resource Manager 템플릿</a> 을 사용하여 Automation DSC에서 관리하도록 미리 구성된 가상 머신을 사용하여 Azure에 샘플 환경을 신속하게 배포합니다.</p>\n\n<ul>\n <li><a href=\"https://azure.microsoft.com/en-us/documentation/articles/automation-dsc-overview/?wt.mc_id=WW_CE_OMS_OO_BLOG_NONE\">Automation DSC 개요</a></li>\n <li><a href=\"https://azure.microsoft.com/en-us/pricing/details/automation/?wt.mc_id=WW_CE_OMS_OO_BLOG_NONE\">Automation DSC 가격 책정</a></li>\n <li><a href=\"https://azure.microsoft.com/en-us/documentation/articles/automation-dsc-onboarding/?wt.mc_id=WW_CE_OMS_OO_BLOG_NONE\">Automation DSC에서 관리하기 위한 컴퓨터 온보딩</a></li>\n</ul>\n\n<p>Azure Automation을 시작하기만 하면 되었나요? <a href=\"https://aka.ms/Q2p1ap\">여기서</a> 서비스에 대해 알아보고 <a href=\"https://twitter.com/AzureAutomation\">Twitter</a>에서 Azure Automation을 팔로우하여 가장 최신의 기능을 확인하세요.</p>\n\n<p>이 블로그 게시물은 원래 Microsoft 하이브리드 클라우드 <a href=\"https://blogs.technet.microsoft.com/systemcenter/2016/03/18/configuration-management-in-microsoft-operations-management-suite/\">관리 블로그에</a> 게시되었습니다. 이 서비스는 Microsoft Azure 및 Microsoft Operations Management Suite 고객 모두에서 사용할 수 있으므로 Azure 대상에 맞게 약간 조정되었습니다.</p>"

### YamlMime:Yaml
ms.openlocfilehash: e7c36b27045d933807a4438958f2ac8dbcbe914f
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139900834"
Slug: securing-azure-sql-databases-with-managed-identities-just-got-easier
Title: 관리 ID를 사용하여 Azure SQL 데이터베이스 보안이 더 쉬워졌습니다.
Summary: 'Azure Services 앱 인증 라이브러리 버전 1.2.0의 두 번째 미리 보기 릴리스를 공유하게 되어 기쁩니다. 이 릴리스를 사용하면 코드 변경 없이 구성 변경만으로 기존 .NET 애플리케이션에 대한 Azure SQL Database 간단하고 원활한 인증이 가능합니다. '
Content: >-
  <p><a href="https://www.nuget.org/packages/Microsoft.Azure.Services.AppAuthentication/1.2.0-preview2" target="_blank">Azure Services 앱 인증 라이브러리</a> 버전 1.2.0의 두 번째 미리 보기 릴리스를 공유하게 되어 기쁩니다. 이 릴리스에서는 코드 변경 없이 구성 변경 &ndash; 만 포함된 기존 .NET 애플리케이션에 대해 간단하고 원활한 인증을 Azure SQL Database 수 있습니다. 이 릴리스까지 기존 SQL 애플리케이션에서 관리 ID 및 AAD 기반 인증을 사용하려는 개발자는 인증에 사용되는 액세스 토큰을 검색하고 설정하기 위해 코드를 변경해야 했습니다. 많은 개발자가 앱 인증 라이브러리에 익숙하기 때문에 아래와 같이 액세스 토큰을 검색하는 데 사용하도록 선택했습니다.</p>


  <pre>

  SqlConnection connection = new SqlConnection(connectionString);

  connection.AccessToken = await (new AzureServiceTokenProvider()).GetAccessTokenAsync(&quot;<a href="https://database.windows.net/&quot;)">https://database.windows.net/&quot;)</a>

  connection.Open();</pre>


  <p>이러한 코드 변경 내용을 구현하고 테스트하는 것은 간단하지 않은 경우가 많습니다. <a href="https://stackoverflow.com/questions/54226474/login-failed-for-user-sqlexception-when-accessing-azure-sql-db-via-msi-wit" target="_blank">이는 StackOverflow</a>에서 볼 수 있는 <a href="https://stackoverflow.com/questions/50054491/can-msi-work-with-ef-codefirst" target="_blank">많은 외부 질문</a>에서 알 수 있듯이 이러한 코드 변경이 개발자에게 더 어렵고 오류가 발생하기 쉬운 EntityFramework와 더욱 복잡해졌습니다. 그러나 <a href="https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-7-2/" target="_blank">.NET Framework 4.7.2</a>에서는 개발자가 애플리케이션&#39;구성을 통해 SQL 인증 공급자를 등록할 수 있는 SqlClient에 대한 새로운 기능이 추가되었습니다. 개발자를 위해 이 SQL 인증 공급자를 구현하는 작업을 이미 수행했을&#39;있으므로 이제 아래와 같이 공급자를 등록하기 위한 몇 가지 간단한 구성 변경만 수행해야 합니다.</p>


  <p>앱 인증 라이브러리의 이번 릴리스에서는 많은 개발자가 기존 SQL 지원 솔루션에서 새로운 기능을 사용해 보며 앱 인증 라이브러리 및 관리 ID가 제공하는 보안 이점을 얻을 수 있기를 바랍니다. 자세한 내용과 이 새로운 기능을 사용해 보려면 <a href="https://aka.ms/appauthsqlsample" target="_blank">새 샘플을</a> 확인하세요.</p>


  <p><strong>이전에는 자격 증명이 포함된 연결 문자열을 사용합니다.</strong></p>


  <pre>

  &lt;connectionStrings&gt;
     &lt;!-- using connection string containing credentials --&gt;
     &lt;add name=&quot;MyDbConnection&quot; connectionString=&quot;Data Source=tcp:[SQL Server Name].database.windows.net;Initial Catalog=[SQL DB name];UID=[UID];Password=[pwd]&quot; providerName=&quot;System.Data.SqlClient&quot; /&gt;
  &lt;/connectionStrings&gt;</pre>


  <p><strong>그런 다음 앱 인증&rsquo; SqlAppAuthenticationProvider를 등록합니다.</strong></p>


  <pre>

  &lt;configSections&gt;
     ...
     &lt;!-- Change #1: Register the new SqlAuthenticationProvider configuration section --&gt;
     &lt;section name=&quot;SqlAuthenticationProviders&quot; type=&quot;System.Data.SqlClient.SqlAuthenticationProviderConfigurationSection, System.Data, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; /&gt;
  &lt;/configSections&gt;

  &lt;connectionStrings&gt;
     &lt;!-- Change #2: Update the connection string to remove credentials and reference the registered SQL authentication provider from change #3 --&gt;
     &lt;add name=&quot;MyDbConnection&quot; connectionString=&quot;Data Source=tcp:[SQL Server Name].database.windows.net;Initial Catalog=[SQL DB Name];UID=AnyString;Authentication=Active Directory Interactive&quot; providerName=&quot;System.Data.SqlClient&quot; /&gt;
  &lt;/connectionStrings&gt;

  &lt;!-- Change #3: Add the new SqlAuthenticationProvider configuration section, registering the built-in authentication provider in AppAuth library --&gt;

  &lt;SqlAuthenticationProviders&gt;
     &lt;providers&gt;
       &lt;add name=&quot;Active Directory Interactive&quot; type=&quot;Microsoft.Azure.Services.AppAuthentication.SqlAppAuthenticationProvider, Microsoft.Azure.Services.AppAuthentication&quot; /&gt;
     &lt;/providers&gt;
  &lt;/SqlAuthenticationProviders&gt;</pre>


  <p>앱 인증 라이브러리에서 새로운 SQL 인증 공급자 기능을 사용해 보시기 바랍니다. 궁금한 사항이나 우려 사항은 <a href="https://stackoverflow.com/questions/tagged/azure-msi" target="_blank">StackOverflow</a>에서 문의하세요.</p>

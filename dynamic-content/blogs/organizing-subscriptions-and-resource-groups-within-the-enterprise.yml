### YamlMime:Yaml
ms.openlocfilehash: e6ebaeeb6ceb6c944a87cdd09fde6f737cc47cc8
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139902465"
Slug: organizing-subscriptions-and-resource-groups-within-the-enterprise
Title: 엔터프라이즈 내의 구독 및 리소스 그룹 구성
Summary: Core Services Engineering(이전의 Microsoft IT)은 개발자가 빠르게 진행할 수 있도록 하면서 제어 및 보안을 위해 엔터프라이즈 Azure 공간 내에서 구독 및 리소스 그룹을 사용하는 방법을 보여 줍니다.
Content: >-
  <p><em>보안 및 규정 준수를 보장하면서 개발 팀을 활성화하는 이야기를 공유해 주신 핵심 서비스 엔지니어링(이전의 Microsoft IT)의 재무 엔지니어링 팀의 수석 소프트웨어 엔지니어인 Robert Venable에게 특별한 감사드립니다. 또한 Microsoft의 계정 기술 전략가인 Opsgility의 수석 클라우드 솔루션 설계자인 <a href="https://twitter.com/ciphertxt" target="_blank">Scott Hoag</a>와 귀중한 피드백을 검토하고 제공한 Rob Dendtler에게 감사드립니다.</em></p>


  <p>Redmond의 이그제큐티브 브리핑 센터에서 고객과 대화할 때 핵심 서비스 엔지니어링 및 운영 팀의 구성원이 자주 묻는 일반적인 질문 중 하나는 엔지니어링 팀이 비즈니스 라인 애플리케이션에 대한 Azure 공간을 보호하는 동시에 개발자에게 환경을 자유롭게 파악하고 Visual Studio Team Services 기능을 사용할 수 있도록 하는 것입니다.  CI/CD, 릴리스 등의 경우</p>


  <p>이 답변의 핵심은 구독, 리소스 그룹 및 역할 기반 액세스 제어의 조합을 사용하여 일련의 지침을 준수하는 방법입니다.</p>


  <p>&#39;최상위 수준인 Azure 구독에서 시작해 보겠습니다. CSEO는 현재 1,000개가 넘는 기간 업무 애플리케이션을 보유하고 있다고 상상할 수 있습니다. <a href="https://docs.microsoft.com/azure/azure-resource-manager/resource-manager-subscription-governance/?wt.mc_id=itshowcase-codeapps" target="_blank">Azure 엔터프라이즈 스캐폴드 - 규범적 구독 거버넌스 문서의</a> <strong>사업부 </strong>패턴을 느슨하게 따릅니다.</p>


  <p align="center"><img alt="business oriented subscription design" data-linktype="relative-path" height="392" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/business.png" title="Azure 스캐폴드에서 비즈니스 분할 구문" width="480"></p>


  <p align="center"><em>사업부 패턴</em></p>


  <p>특히, 많은 팀이 위의 패턴을 엔터프라이즈/연방/주/로컬에 공통 매핑하는 방법을 채택했습니다. 이 일반적인 어휘는 모든 사람이 이해하고 공감할 수 있는 실용적인 구문을 제공하므로 동일한 페이지에&#39;.</p>


  <p>구독 조직에 대한 예제를 통해 이 번역은 실제로 어떤 모습일까요? 위에서 아래로 다음과 같이 표시됩니다.</p>


  <ul>
   <li><strong></strong> - Enterprise Azure 스캐폴드의 Enterprise 그대로 유지됩니다. Enterprise 수준 항목은 회사 &ndash; 전체에서 일반적인 관심사로, 내부 Azure 소비를 공공 수익으로 계산하지&#39;, 테넌트에 있는 모든 Azure 구독 또는 수준에 관계없이 중요하게 사용하는 기타 높은 수준의 전략적 목표에서 얼마나 안전한지 확인할 수 있습니다. 이를 생각하는 또 다른 방법은 Microsoft가 전체 회사에서&#39;글로벌 분기별 실적을 &ndash; 보고하는 방법일 수 있습니다.</li>
   <li><strong>연방</strong> - 우리의 주요 부서는 연방으로 명명됩니다. 예를 들어 CSEO는 연방 그룹 중 하나입니다. 이 수준에서는 추가 정책 및 절차, 발자국에 대해 실행되는 자동화 또는 해당 부서와 관련된 기타 사항이 있을 수 있습니다. 일반적으로 대규모 예산에는 롤업 보기 등이 있습니다.</li>
   <li><strong>상태</strong> - 관련된 서비스 그룹 또는 서비스 제품입니다. 예를 들어 금융 IT 조직 내의 세금 서비스 제공입니다. 여기에 HIPAA, PCI, SOX 컨트롤 및 프로시저와 같은 추가 정책 및 프로시저가 있을 수 있습니다. 상태에는 관련된 서비스 그룹이 있습니다.</li>
   <li><strong>로컬</strong> &ndash; 구독이 있는 위치이며 서비스와 연결됩니다. 각 구독에는 서비스를 구성하는 기능 집합을 제공하는 것과 관련된 여러 애플리케이션이 포함되어 있습니다. 각 애플리케이션은 일반적으로 명시적 리소스 그룹에 포함됩니다. 리소스 그룹은 서비스(구독)의 일부인 해당 애플리케이션에 대한 컨테이너가 됩니다. 서비스에 공유 또는 일반 애플리케이션이 있을 수 있습니다. 애플리케이션/리소스 그룹 수준에서 애플리케이션 개발자 팀이 거주하는 위치이며&rsquo;, 보안에서 Azure에서의 사용량에 대한 책임을 지고 Azure에서 수행하는 모든 작업에 대한 최적의 Azure 지출에 대한 책임을 집니다. 이 수준에서 운영하는 훌륭한 개발 팀은 일반적으로 더 높은 수준에서 묻는 대부분의 우려 사항 및 롤업 보고 질문을 해결합니다. 각 개발 팀이 Azure Log Analytics에서 빌드된 Azure Security Center 블레이드, 고정된 대시보드 및 Azure Advisor 블레이드를 매일 살펴보면 지출을 줄이거나 패치 규정 준수를 높이기 위해 부서 차원의 노력을 기울이지 않을 것입니다&rsquo;.</li>
  </ul>


  <p>이 계층 구조는 개발자가 빠르게 진행할 수 있도록 하면서 다양한 수준의 컨트롤과 정책을 허용합니다. 다음은 일반적인 구독 구성입니다.</p>


  <p align="center"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/75517cc9-4fe6-4b0a-8976-f0ca058a6548.png"><img alt="image" border="0" height="679" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7d28a2bc-0f6a-4378-9421-a7382a212d44.png" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="이미지" width="689"></a></p>


  <p align="center"><em>세금 서비스에 대한 예제 CSEO 구독</em></p>


  <p>위의 리소스 그룹 내에서 각 프로덕션 리소스 그룹(애플리케이션)에 표시되는 일반적인 구성 요소는 다음과 같은 특정 서비스를 빌드하는 데 사용되는 Azure 구성 요소입니다.</p>


  <ul>
   <li>Azure HDInsight 클러스터</li>
   <li>스토리지 계정</li>
   <li>SQL Database</li>
   <li>Log Analytics</li>
   <li>Application Insights</li>
   <li>등</li>
  </ul>


  <p>각 리소스 그룹에는 해당 애플리케이션과 관련된 구성 요소가 있습니다. 경우에 따라 구독에 Common 또는 Shared Services 리소스 그룹이 있을 수 있습니다. 다음은 서비스의 애플리케이션에서 사용되는 항목입니다. 예를 들면 다음과 같습니다.</p>


  <ul>
   <li>일반적인 Log Analytics 작업 영역</li>
   <li>다른 서비스에서 처리하기 위해 파일이 덤프되는 일반적인 Blob Storage 계정</li>
   <li>An ExpressRoute VNet</li>
  </ul>


  <p>CSEO 세금 서비스에는 데이터 웨어하우스와 같은 자체 리소스 그룹에 각각 여러 애플리케이션이 있으며, 세금(도움말 웹 포털 및 일부 봇), 계산 엔진, 보관 애플리케이션, 보고 애플리케이션 등이 있습니다.</p>


  <p>구독 및 리소스 그룹 내에서 최소 권한 액세스 원칙을 사용하여 작업을 수행해야 하는 사용자만 리소스에 액세스할 수 있도록 합니다. 따라서 서비스의 엔지니어링 소유자만 구독의 소유자입니다. 구독에 기여자가 없습니다. 일부 특정 ID는 판독기 역할에 추가되며 일반적으로 자동화된 도구에서 사용하는 계정입니다.</p>


  <p>각 리소스 그룹에는 필요한 최소 사용 권한으로 필요한 ID만 추가됩니다. 시간이 지남에 따라 규모가 확장되어 관리 문제가 생기는 사용자 지정 역할을 만들지 않으려고 노력합니다.</p>


  <p>리소스 그룹 내에서 소유자 및 판독기 역할은 구독에서 상속됩니다. VSTS 빌드 계정 ID는 자동화된 배포를 위한 리소스 그룹에 대한 기여자로 추가됩니다. 즉 <strong>, 서비스 소유자와 빌드 ID만 지속적으로 프로덕션 서비스에 연결할 수 있습니다</strong>.</p>


  <p>사전 프로덕션 리소스 그룹에서 엔지니어링 팀은 판독기 역할에 추가됩니다. 이는 여전히 서비스 소유자 및 빌드 계정만 사전 프로덕션을 지속적으로 터치할 수 있지만 엔지니어링 팀은 리소스 그룹에서&#39;무슨 일이 일어나고 있는지 확인할 수 있음을 의미합니다. 개발자가 테스트를 위해 몇 가지 작업을 수행해야 하는 경우 사전 프로덕션 또는 prod 환경에 배치할 수&rsquo; 없습니다.</p>


  <p>이에 대한 몇 가지 변형이 있지만&rsquo; 일반적이지 않습니다. 예를 들어 일부 팀은 보안에서 하위 소유자로 누군가를 원할 수 있으며, 일부 팀은 수식에서 사용자를 제거하고 서비스 계정의 형태를 하위 소유자로 사용하기도 합니다. 일부 팀은 필요한 자동화에 대해 완전히 성숙하지 않은 경우&rsquo; 사전 프로덕션에 대한 엔지니어 기여자를 제공할 수 있습니다. 그것은 모두 팀의 요구에 따라 달라집니다.</p>


  <p>이제 이러한 역할이 함께 있으므로 조직의 일반적인 역할에 대해 무엇을 의미할까요?</p>


  <p><strong>개발자는 </strong>사전 프로덕션 리소스 그룹에 액세스하여 개발/사전 프로덕션/uat/회사에서 어떤&#39;진행되는지 확인할 수 있지만, 프로덕션에서 수행해야 하는 것처럼 디버깅을 위해 플랫폼에서 원격 분석 메커니즘을 사용하는 데 익숙해져야 합니다. 팀이 이 수준으로 성숙하는 동안 사전 프로덕션 리소스 그룹에서 기여자 수준 액세스 권한이 있는 개발자를 볼 수 있습니다. 이 분야의 결과는 일반적으로 훨씬 더 풍부한 애플리케이션 Insights 포털 및 Azure Log Analytics 대시보드입니다. 팀이 성숙해짐에 따라 Microsoft Release Management 사용하는 Visual Studio Team Services 같은 CI/CD 시스템에서 배포로 전환하고 빌드 및 릴리스 정의를 만드는 데 매우 능숙합니다. 또한 개발자는 키 회전과 같은 운영 문제를 스크립트하고 자동화합니다.</p>


  <p><strong>보안 &amp; 운영은 </strong>IaaS용 Azure Security Center를 통해 Just-In-Time VM 액세스로 ID를 통해 액세스하고 Azure AD를 통해 Privileged Identity Management. 일부 운영 팀은 자동화된 도구를 사용하여 위험을 줄이기 위한 구성을 찾는 Azure 구독 공간을 심문할 수 있습니다(예: PiP(공용 인터넷 엔드포인트) 및 보안 위험을 초래할 수 있는 ExpressRoute 회로가 포함된 리소스 그룹을 찾는 경우) 이러한 팀은 구독 수준에서 추가된 감사 계정 ID를 사용합니다.</p>


  <p>이 모델이 암시적으로 구동하는 또 다른 점은 모든 중앙 IT 팀에서 개발 팀으로 책임의 전환입니다. 그렇다고 해서 보안 및 운영 팀이 여전히 규정 준수 및 위험에 관심을 가지고 있기 때문에 <strong>우려 사항이 바뀌는 것은 아닙니다</strong>. 그러나 로컬 개발 팀이 청구, 보안 센터 및 Azure Advisor 도구를 보고 매일 대기하는 경우 엔터프라이즈, 연방 및 주 계층에서 필연적으로 요구하는 비용 최적화, 보안 규정 준수 및 우려가 이미 최적화되어 있습니다.</p>


  <p>Core Services Engineering의 엔지니어에게 질문할 질문이 있나요? 트위터에서 <a href="https://twitter.com/lyledodge" target="_blank">@lyledodge</a> Lyle 닷지(Lyle Dodge)에 도달할 수 있으며, 우리 팀은 향후 문서나 <a href="https://www.microsoft.com/itshowcase">IT 쇼케이스 사이트에서</a> 질문에 대한 답변을 확인할 것입니다.</p>

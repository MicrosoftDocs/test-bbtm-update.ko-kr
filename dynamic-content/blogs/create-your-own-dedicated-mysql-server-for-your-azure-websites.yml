### YamlMime:Yaml
ms.openlocfilehash: d39ee8ec5ee1716b0dfce8db6bd721bcb8d9a452
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139908502"
Slug: create-your-own-dedicated-mysql-server-for-your-azure-websites
Title: 'Azure Websites에 대한 고유한 전용 MySQL 서버 만들기 '
Summary: 'LAMP 또는 WAMP 애플리케이션에서 작업 중이고 Azure에서 호스트하려는 경우 Azure 웹 사이트는 Azure에서 애플리케이션을 호스트하는 가장 빠르고 신뢰할 수 있는 방법입니다. '
Content: "LAMP 또는 WAMP 애플리케이션에서 작업 중이고 Azure에서 호스트하려는 경우 Azure 웹 사이트는 Azure에서 애플리케이션을 호스트하는 가장 빠르고 신뢰할 수 있는 방법입니다. Azure Websites는 PHP 스택을 지원하며 MySQL 서버에 대한 두 가지 훌륭한 옵션을 제공합니다.\n<ol>\n <li>Azure Store에서 ClearDB MySQL 서비스 사용</li>\n <li>Azure Virtual Machine을 사용하여 고유한 MySQL 서버 설정</li>\n</ol>\nAzure에서 실행되는 MySQL 서버 가상 머신을 사용하려는 몇 가지 시나리오가 있습니다.\n<ul>\n <li>MySQL 구성에 대한 특별한 요구 사항이 있으며 스토어의 ClearDB 서비스 계획이 요구 사항을 충족하지 않습니다.</li>\n <li>개발/테스트 목적으로 MySQL 서버를 사용하고 여러 개발/스테이징 사이트에 다시 사용하려는 경우</li>\n</ul>\nMySQL 서버를 스핀업하는 가장 쉬운 방법은 Azure 가상 머신을 사용하는 것입니다. 이렇게 하면 유연한 리소스가 필요할 때 사용자 고유의 확장 가능한 컴퓨팅 인프라를 유연하게 만들 수 있습니다. Azure 관리 포털을 사용하면 몇 분 만에 Windows 및 Linux 배포 둘 다에 대한 새 Azure Virtual Machine을 쉽게 만들 수 있습니다. 이 문서에서는 다음을 수행하는 방법을 보여 드리겠습니다.\n<ul>\n <li>Windows Azure VM에서 MySQL 서버 만들기</li>\n <li>Linux Azure VM에서 MySQL 서버 만들기</li>\n <li>MySQL 서버에 연결할 수 있는 Azure 웹 사이트 만들기</li>\n</ul>\n&nbsp;\n<h2>Windows Azure VM에서 MySQL 서버 만들기</h2>\n<ol>\n <li>Azure 계정을 사용하여 <a href=\"https://manage.windowsazure.com/\">Azure 관리 포털</a> 에 로그인합니다.</li>\n <li>관리 포털의 웹 페이지 왼쪽 아래에서  <b>+새로</b> 만들기를 클릭하고 <b>Virtual Machine</b>을 클릭한 다음  <b>[만들기</b>]를 클릭합니다.</li>\n <li> <b>Virtual 컴퓨터 구성</b>  페이지에서 다음 정보를 제공합니다.\n<ul>\n <li><em>windowsmyslsrv</em>와 같은 <b>Virtual 컴퓨터 이름</b> 제공</li>\n <li><em>azureuser</em>와 같은  <b>새 사용자 이름</b> 지정</li>\n <li> <b>새 암호</b>  상자에  <a href=\"https://msdn.microsoft.com/en-us/library/ms161962.aspx\">강한 암호를 입력합니다</a>.</li>\n <li> <b>TheConfirm Passwordbox</b> 에서 암호를 다시 입력합니다.</li>\n <li>드롭다운 목록에서  <b>appropriateSizef</b> 를 선택합니다.</li>\n <li> <b>theRegion/Affinity Group/Virtual Networkbox</b> 에서 이 가상 이미지가 호스트되는 지역을 선택합니다.<img class=\"alignnone size-full wp-image-180021\" alt=\"Create Windows Virtual Machine\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/img1.png\" width=\"1452\" height=\"658\" /></li>\n</ul>\n</li>\n</ol>\n이제 Windows Server 2012 VM이 만들어집니다.Windows VM에 MySQL을 설치하려면 Windows Azure VMHow에 MySQL 설치 문서를 <a title=\"확인하여 Windows Azure VM\" href=\"https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-mysql-windows-server-2008r2/\" target=\"_blank\"></a>에 MySQL을 설치합니다. 이 문서에서는 Windows Server 2008 R2에 중점을 두고 있지만 Azure Virtual Machines의 Windows Server VM에도 동일한 프로세스가 적용됩니다.\n<h2>원격 액세스 사용</h2>\nMySQL 서버는 기본적으로 \"루트\" 사용자에 대한 원격 액세스를 허용하지 않습니다. 이를 사용하도록 설정하려면 루트에 대한 새 HOST를 만들고 루트가 어디서나 로그인하도록 허용해야 합니다.\n<pre class=\"prettyprint\">mysql&gt; GRANT ALL PRIVILEGES ON *.* TO 'root'@'%'\n&gt; IDENTIFIED BY 'password' WITH GRANT OPTION;\nmysql&gt; FLUSH PRIVILEGES;\nmysql&gt; exit</pre>\nMySQL 서버가 구성되었으므로 Windows Azure VM의 데이터베이스 호스트 이름이 <em>windowsmysqlsrv.cloudapp.net:3306.</em>\n\n이 문서에 <a title=\"설명된 대로 Azure Web SitesHow에서 PHP 웹 사이트를 만드는 방법에 설명된 대로 Azure 웹\" href=\"https://azure.microsoft.com/en-us/documentation/articles/web-sites-php-create-web-sites/\"> 사이트에서 간단한 PHP 애플리케이션을 만들어 MySQL 서버 VM의 데이터베이스에 연결하여 웹 사이트가 새로 만든 MySQL 서버에 연결할 수 있는지 테스트하는 <strong>index.php</strong> 파일을 사용하여 PHP </a>  웹 사이트를 만드는 방법:\n<pre class=\"prettyprint\">&lt;?php\n// Create connection : Update the hostname , DB username , DB password \n//, database name. \n\n$con=mysqli_connect(\"windowsmysqlsrv.cloudapp.net:3306\",\"root\",\"root\",\n\"databasename\");\n\n// Check connection\nif (mysqli_connect_errno()) {\n    echo \"Failed to connect to MySQL: \" . mysqli_connect_error();\n}\nelse\n{\n    echo \"Connection with MySQL database was successful\";\n}\n?&gt;</pre>\n<strong>참고:</strong> \"액세스 거부됨\" 또는 \"호스트 'xxx.xx.xxx.xxx'와 같은 오류 메시지가 표시되면 이 MySQL 서버에 연결할 수 없습니다.\" ; 다음을 확인합니다.\n<ul>\n <li>포트 3306에 대한 방화벽은 인바운드 및 아웃바운드 연결 모두에 대해 열려 있습니다.</li>\n <li>MySQL 서버는 연결하는 데 사용하는 사용자의 원격 연결을 허용하도록 구성됩니다. &lt;emmysql.host&gt;&lt;/em&gt; 테이블을 확인하여 사용자가 호스트 열의 '%' 와일드카드와 연결되어 원격 IP를 허용하는지 확인합니다.</li>\n</ul>\n<h2>Linux Azure VM에서 MySQL 서버 만들기</h2>\n<ol>\n <li>Azure 계정을 사용하여 <a href=\"https://manage.windowsazure.com/\">Azure 관리 포털</a> 에 로그인합니다.</li>\n <li>관리 포털의 웹 페이지 왼쪽 아래에서  <b>+새로</b> 만들기를 클릭하고 <b>Virtual Machine</b>을 클릭한 다음  <b>ClickFrom 갤러리</b>를 클릭합니다.<img class=\"alignnone size-full wp-image-164231\" alt=\"Capture11\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Capture11.png\" width=\"1162\" height=\"500\" /></li>\n <li> <b>Platform 이미지</b>에서 <b>Ubuntu 가상</b> 머신 이미지를 선택한 다음 페이지 오른쪽 아래에 있는 다음 화살표를 클릭합니다.<img class=\"alignnone size-full wp-image-164181\" alt=\"Capture2\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Capture2.png\" width=\"1013\" height=\"634\" /></li>\n <li> <b>Virtual 컴퓨터 구성</b>  페이지에서 다음 정보를 제공합니다.\n<ul>\n <li><em>Linuxmysqlsrv</em>와 같은 <b>Virtual 컴퓨터 이름</b> 제공</li>\n <li>가상 머신에 대해 SSH 키 또는 사용자 이름/암호 인증을 사용하도록 선택할 수 있습니다. 이 자습서에서는 Username/Password 메서드를 사용합니다. Sudoers 목록 파일에 추가될 <em>azureuser</em>와 같은  <b>새 사용자 이름을</b> 지정합니다.</li>\n <li> <b>새 암호</b>  상자에  <a href=\"https://msdn.microsoft.com/en-us/library/ms161962.aspx\">강한 암호를 입력합니다</a>.</li>\n <li> <b>TheConfirm Passwordbox</b> 에서 암호를 다시 입력합니다.</li>\n <li>드롭다운 목록에서  <b>appropriateSizef</b> 를 선택합니다.</li>\n <li>다음 화살표를 클릭하여 계속합니다.<img class=\"alignnone size-full wp-image-164171\" alt=\"Capture3\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Capture3.png\" width=\"1013\" height=\"632\" /></li>\n</ul>\n</li>\n <li> <b>Virtual 컴퓨터 모드</b>  페이지에서 다음 정보를 제공합니다.</li>\n</ol>\n<ul>\n <li> <b>SelectStandalone Virtual Machine</b>.</li>\n <li> <b>DNS 이름</b>  상자에 유효한 DNS 주소를 입력합니다. 예를 들어 <em>linuxmysqlsrv</em></li>\n <li> <b>theRegion/Affinity Group/Virtual Networkbox</b> 에서 이 가상 이미지가 호스트되는 지역을 선택합니다. 다음 화살표를 클릭하여 계속합니다.<img class=\"alignnone size-full wp-image-164161\" alt=\"Capture4\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Capture4.png\" width=\"1264\" height=\"809\" /></li>\n</ul>\n<ol start=\"6\">\n <li>Azure에서 가상 머신을 준비하는 동안 기다립니다.</li>\n</ol>\n&nbsp;\n\n가상 머신이 만들어지면 원격으로 연결하기 위해 엔드포인트를 구성해야 합니다. 기본적으로 Azure 설치 관리자는 컴퓨터에 연결할 수 있도록 공용 포트 22에 SSH 엔드포인트를 만듭니다.\n<h2>Virtual Machine에 연결</h2>\n가상 머신이 프로비전되고 엔드포인트가 구성된 경우 SSH(Linux) 또는 <a title=\"PuttyPuTTY\" href=\"https://www.putty.org/\" target=\"_blank\"></a> (Windows)를 사용하여 연결할 수 있습니다.\n\n<span style=\"font-size: 1.5em;\">SSH를 사용하여 연결</span>\n\nLinux 컴퓨터를 사용하는 경우 SSH를 사용하여 VM에 연결합니다. 명령 프롬프트에서 다음을 실행합니다.\n<div>\n<pre class=\"prettyprint\"> ssh newuser@testlinuxvm.cloudapp.net -o ServerAliveInterval=180</pre>\n</div>\n가상 머신에 액세스하라는 메시지가 표시되면 컴퓨터 사용자의 암호를 입력합니다.\n<h2>PuTTY를 사용하여 연결</h2>\nWindows 컴퓨터를 사용하는 경우 PuTTY를 사용하여 VM에 연결합니다. PuTTY 다운로드 페이지에서 PuTTY를 다운로드할 수 있습니다.\n<ol>\n <li> <b>putty.exe</b> 다운로드하여 컴퓨터의 디렉터리에 저장합니다. 명령 프롬프트를 열고 해당 폴더로 이동한<b> 다음putty.exe</b>실행합니다.</li>\n <li> <b>ThePort</b>의 <b>Host Nameand</b>  \"22\"에 대해 \"<em>linuxmysqlsrv.cloudapp.net\"를</em> 입력합니다.<em></em></li>\n</ol>\n<img alt=\"Capture8\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Capture8.png\" width=\"468\" height=\"450\" />\n<h2>Virtual Machine 업데이트</h2>\n가상 머신에 연결한 후에는 필요에 따라 시스템 업데이트 및 패치를 설치할 수 있습니다. 다음을 실행합니다.\n<pre class=\"prettyprint\"> sudo apt-get update</pre>\n<h2>Ubuntu에 MySQL Server 5 설치</h2>\nUbuntu에 MySQL 5 Server를 설치하는 것은 빠르고 쉬운 프로세스입니다. 그것은 거의 더 어려울 것 같은 느낌.\n\n터미널 창을 열고 다음 명령을 사용합니다.\n<pre class=\"prettyprint\">sudo apt-get install mysql-server</pre>\nMySQL 클라이언트도 필요하므로 터미널 창에서 다음 명령을 실행합니다.\n<pre class=\"prettyprint\">sudo apt-get install mysql-client</pre>\n그러면 MySQL 서버가 설치되고 서버의 상태를 확인하려면 다음 명령을 실행합니다.\n<pre class=\"prettyprint\">sudo service mysql status</pre>\n<h2>SSH Tunnel 사용하여 MySQL에 연결</h2>\n보안 셸 또는 SSH는 로컬 컴퓨터와 원격 컴퓨터 간에 보안 채널을 만드는 데 사용됩니다. SSH는 일반적으로 보안 터미널 액세스 및 파일 전송에 사용되지만 일반적으로 암호화되지 않은 다른 네트워크 연결을 전달하기 위해 컴퓨터 간에 보안 터널을 만드는 데 사용할 수도 있습니다. SSH 터널은 내부 네트워크 리소스에 대한 외부 액세스를 허용하는 데에도 유용합니다. SSH는 로컬 포트를 열고 해당 포트를 통해 서버에서 실행되는 MySQL로 모든 통신을 원활하게 전송합니다. MySQL 서버가 로컬 시스템에서 실행되는 것처럼 보이게 합니다.\n\nUbuntu VM에서 SSH 터널을 만들려면 -L을 사용하여 명령줄 SSH 명령을 실행하여 로컬 포트 전달을 사용하도록 설정할 수 있습니다.\n<ul>\n <li>오픈 포트 3306 포트는 기본적으로 열리지 않으므로 원격 클라이언트가 MySQL 서버에 연결할 수 있도록 먼저 이 포트를 열어야 합니다. 다음 명령을 실행하여 TCP 포트 3306 열기</li>\n</ul>\n<pre class=\"prettyprint\">iptables -A INPUT -i eth0 -p tcp -m tcp --dport 3306 -j ACCEPT</pre>\n이제 다음 명령을 실행하여 포트 3306이 열려 있는지 확인해 보겠습니다.\n<pre class=\"prettyprint\">sudo netstat -anltp|grep :3306</pre>\n<ul>\n <li>포트 3307에 대한 SSH 터널 만들기</li>\n</ul>\n<pre class=\"prettyprint\">sudo ssh -fNg -L 3307:127.0.0.1:3306 azurevmuser@servername</pre>\n<ul>\n <li>Azure 관리 포털의 VM 대시보드에서 포트 3307에 대한 엔드포인트를 만듭니다. 자세한 내용은 Virtual Machinehow에 엔드포인트를 설정하여 가상 머신\" href=\"https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-set-up-endpoints/\"></a> 에 엔드포인트를 추가하는 방법을 참조<a title=\"하세요. 이제 데이터베이스 호스트 이름이<em> linuxmysqlsrv.cloudapp.net:3307</em></li>\n</ul>\n<img class=\"alignnone size-full wp-image-180311\" alt=\"img3\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/img3.png\" width=\"1442\" height=\"944\" />\n\nMySQL에 대한 직접 액세스를 허용하면 공격자가 서버를 손상시킬 위험이 증가하므로 MySQL 서버에 연결하는 <b>것이 권장되는</b> 솔루션이 아니기 때문에 이 자습서에서는 다루지 않을 원격 시스템에서 MySQL에 직접 액세스할 수 있습니다. MySQL은 기본적으로 보안 연결을 사용하지 않으므로 MySQL을 사용하는 SSL을 참조하세요.\n<h2>MySQL 서버에 연결할 수 있는 PHP 웹 사이트 만들기</h2>\nAzure 관리 포털에서 웹 사이트를 만들 때는 빠른 만들기, 데이터베이스로 만들기 및 갤러리에서의 세 가지 옵션이 있습니다. 아래 지침에서는 빠른 만들기 옵션을 설명합니다. 다른 두 옵션에 대한 자세한 내용은 PHP-MySQL Azure 웹 사이트 만들기 및 Git을 사용하여 배포 및 Azure 갤러리에서 WordPress 웹 사이트 만들기를 참조하세요. 여기서는 간단한 사이트를 만들고 간단한 PHP 스크립트를 추가하여 데이터베이스에 연결하는 방법을 보여 드리겠습니다.\n\n이 문서에 <a title=\" 설명된 대로 Azure 웹 사이트에서 간단한 PHP 애플리케이션을 만듭니다. Azure Web SitesHow <strong></strong>\" href=\"https://azure.microsoft.com/en-us/documentation/articles/web-sites-php-create-web-sites/\">에서 PHP 웹 사이트를 만들어 MySQL 서버 Linux VM의 데이터베이스에 연결하려고 시도하는 PHP 웹 사이트를 </a>   만드는 방법: 새로 만든 MySQL 서버와 연결할 수 있습니다.\n<pre class=\"prettyprint\">&lt;?php\n// Create connection : Update the hostname , username , password \n//, database name. \n//Linux VM would be  linuxmysqlsrv.cloudapp.net:3307\n$con=mysqli_connect(\"linuxmysqlsrv.cloudapp.net:3307\",\"username\",\"password\",\n\"databasename\");\n\n// Check connection\nif (mysqli_connect_errno()) {\n    echo \"Failed to connect to MySQL: \" . mysqli_connect_error();\n}\nelse\n{\n    echo \"Connection with MySQL database was successful\";\n}\n?&gt;</pre>\n&nbsp;\n<h2>결론</h2>\nClear DB 서비스 또는 Azure Virtual Machines는 둘 다 Azure Websites에서 MySQL을 사용할 수 있는 이점을 제공할 수 있습니다. 데이터베이스에 대한 요구 사항을 이해하고 요구 사항에 맞는 최상의 솔루션을 선택합니다."

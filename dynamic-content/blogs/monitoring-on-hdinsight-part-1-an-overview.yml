### YamlMime:Yaml
ms.openlocfilehash: 4b80be5cbe4f5baa3f494a81a2b6adf21bdb1f52
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139905343"
Slug: monitoring-on-hdinsight-part-1-an-overview
Title: 'Azure HDInsight 모니터링 1부: 개요'
Summary: Azure HDInsight는 Hadoop, Spark 또는 Kafka 클러스터를 모니터링하는 여러 가지 방법을 제공합니다.  클러스터 상태 및 가용성, 리소스 사용률 및 성능, 작업 상태 및 로그의 세 가지 주요 범주로 나눌 수 있습니다.
Content: >-
  <p>Azure HDInsight는 Hadoop, Spark 또는 Kafka 클러스터를 모니터링하는 여러 가지 방법을 제공합니다. HDInsight의 모니터링은 다음 세 가지 주요 범주로 나눌 수 있습니다.</p>


  <ul>
   <li>클러스터 상태 및 가용성</li>
   <li>리소스 사용률 및 성능</li>
   <li>작업 상태 및 로그</li>
  </ul>


  <p>두 가지 주요 모니터링 도구는 Azure HDInsight, 모든 HDInsight 클러스터에 포함된 Apache Ambari 및 모든 HDInsight 클러스터 <a href="https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-hadoop-oms-log-analytics-tutorial#enable-azure-monitor-logs-by-using-the-portal" target="_blank">에서 사용하도록 설정할 수</a> 있는 Azure Monitor 로그와의 선택적 통합에서 제공됩니다. 이러한 도구에는 동일한 정보가 포함되어 있지만 각 도구는 특정 시나리오에서 장점이 있습니다. 이러한 도구를 사용하여 HDInsight 클러스터의 다양한 측면을 모니터링하는 가장 좋은 방법에 대한 개요를 읽어 보세요.</p>


  <h2>클러스터 상태 및 가용성</h2>


  <p>Azure HDInsight는 HDInsight 클러스터를 원활하게 실행하도록 중복 게이트웨이 노드, 헤드 노드 및 ZooKeeper 노드가 있는 고가용성 서비스입니다. 이렇게 하면 단일 오류가 클러스터의 기능에 영향을 주지 않지만 문제가 발생할 때 경고를 받을 수 있도록 클러스터 상태를 모니터링하는 것이 좋습니다. 클러스터 상태 모니터링은 클러스터의 모든 노드와 클러스터에서 실행되는 구성 요소를 사용할 수 있고 올바르게 작동하는지 여부를 모니터링하는 것을 의미합니다.</p>


  <p>Ambari는 지정된 HDInsight 클러스터의 상태를 모니터링하는 데 권장되는 도구입니다. <a href="https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-high-availability-linux#how-to-check-on-a-service-status" target="_blank">HDInsight의 Apache Hadoop</a> 클러스터의 가용성 및 안정성 설명서 &ldquo; 에서 Ambari를 사용하여 클러스터 가용성을 모니터링하는 방법에 대해 자세히 알아볼 수 있습니다.&rdquo;</p>


  <p style="text-align: justify;"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d50e7bb9-8da9-4302-9b8a-378e283815b3.png"><img alt="ambari_components" border="0" height="564" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d290cc90-4291-4647-87be-d81bcd7874ab.png" style="border: 0px currentcolor; border-image: none; text-align: left; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="ambari_components" width="526"></a></p>


  <p style="text-align: center;"><em>헤드 노드의 모든 구성 요소 상태를 보여 주는 Ambari 포털 보기</em></p>


  <h2>클러스터 리소스 사용률 및 성능</h2>


  <p>클러스터에서 최적의 성능을 유지하려면 리소스 사용률을 모니터링해야 합니다. 이 작업은 Ambari 및 Azure Monitor 로그를 사용하여 수행할 수 있습니다.</p>


  <h3>Ambari와 함께</h3>


  <p>Ambari는 전체 클러스터에서 사용률을 모니터링하는 데 권장되는 도구입니다. Ambari 대시보드에는 CPU, 네트워크, YARN 메모리 및 HDFS 디스크 사용량과 같은 메트릭을 표시하는 쉽게 볼 수 있는 위젯이 표시됩니다. 표시되는 특정 메트릭은 클러스터 유형에 따라 달라집니다. 호스트&rdquo; 탭에는 &ldquo;개별 노드에 대한 메트릭이 표시되므로 클러스터의 부하가 균등하게 분산되도록 할 수 있습니다.</p>


  <p>&ldquo;YARN 큐 관리자&rdquo;도 Ambari를 통해 액세스할 수 있습니다. 이렇게 하면 각 작업 큐의 용량을 관리하여 작업 간에 작업이 분산되는 방식과 리소스가 제한되는지 여부를 확인할 수 있습니다. Ambari를 사용하여 클러스터 성능을 모니터링하는 방법에 대한 자세한 내용은 설명서인 &ldquo;<a href="https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-key-scenarios-to-monitor" target="_blank">클러스터 성능 모니터링</a>을 참조하세요.&rdquo;</p>


  <p style="text-align: justify;"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6060900a-3cfe-41fa-b22e-db89350e9626.png"><img alt="ambari_dashboard" border="0" height="298" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f2cb7497-6159-4acc-9f5f-8f44807d9369.png" style="border: 0px currentcolor; border-image: none; text-align: left; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="ambari_dashboard" width="650"></a></p>


  <p style="text-align: center;"><em>전체 클러스터의 사용률을 한눈에 보여주는 Ambari 포털 대시보드</em></p>


  <h3>Azure Monitor 로그 사용</h3>


  <p>Azure Monitor 로그를 사용하여 VM(가상 머신) 수준에서 리소스 사용률을 모니터링할 수 있습니다. HDInsight 클러스터의 모든 VM은 CPU, 메모리 및 디스크 사용을 포함하여 Log Analytics 작업 영역의 Perf 테이블에 성능 카운터를 푸시합니다. 다른 Log Analytics 테이블과 마찬가지로 Perf 테이블을 쿼리하고, 뷰 디자이너를 사용하여 시각화를 만들고, 경고를 구성할 수 있습니다. Azure Monitor 로그의 주요 이점 중 하나는 여러 HDInsight 클러스터의 메트릭과 로그를 동일한 Log Analytics 작업 영역으로 푸시하여 여러 클러스터를 한 곳에서 모니터링할 수 있다는 것입니다. Azure Monitor 로그의 성능 데이터 작업에 대한 자세한 내용은 설명서를 &ldquo; 방문하여 <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/learn/tutorial-viewdata#work-with-performance-data" target="_blank">Log Analytics 로그 검색을 통해 수집된 데이터를 보거나 분석</a>할 수 있습니다.&rdquo;</p>


  <h2>워크로드 정보 및 로그</h2>


  <p>HDInsight 클러스터 모니터링의 또 다른 주요 부분은 클러스터에서 실행되는 워크로드에 대한 정보를 모니터링하고 디버깅을 지원하기 위해 관련 로그를 보는 것입니다. 예를 들어 Kafka에서 들어오는 데이터를 모니터링하거나 Spark 작업이 실패하는 시기를 파악할 수 있습니다.</p>


  <h3>Azure Monitor 로그 사용</h3>


  <p>Azure HDInsight에서 워크로드 정보 및 로그를 모니터링하는 권장 방법은 <a href="https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-hadoop-oms-log-analytics-tutorial" target="_blank">Azure Monitor 로그를 사용하는 것입니다</a>. HDInsight 클러스터는 OSS 구성 요소에서 Log Analytics 작업 영역으로 워크로드별 메트릭 및 로그를 내보낼 수 있습니다. 예를 들어 Spark/Hadoop 클러스터는 제출, 보류 중, 실패 및 종료된 앱 수를 내보낼 수 있으며 Kafka 클러스터는 들어오는 메시지 수와 들어오는/나가는 바이트를 내보낼 수 있습니다. Log Analytics 작업 영역 <a href="https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-hadoop-oms-log-analytics-use-queries" target="_blank">의 테이블을 쿼리</a> 하고 특정 메트릭이 정의된 임계값을 충족할 때 발생하는 <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/platform/alerts-metric">Azure Monitor 경고를</a> 설정할 수 있습니다. 예를 들어 Spark 작업이 실패할 때마다 발생 및 전자 메일을 보내거나 다른 작업을 수행하는 경고를 설정할 수 있습니다.</p>


  <h4>Azure HDInsight 모니터링 솔루션</h4>


  <p>Azure Monitor 로그 통합을 기반으로 빌드되는 워크로드별 Azure <a href="https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-hadoop-oms-log-analytics-tutorial#install-hdinsight-cluster-management-solutions" target="_blank">HDInsight 모니터링 솔루션</a> 도 사용할 수 있습니다. 이러한 솔루션은 앞서 언급한 워크로드별 메트릭에 대한 시각화를 포함하는 미리 만들어진 대시보드 형식으로 제공됩니다. 예를 들어 Spark 솔루션은 시간이 지남에 따라 보류 중, 실패 및 종료된 앱과 같은 메트릭 그래프를 표시합니다. 이러한 솔루션은 Log Analytics 작업 영역에서 지원되므로 시각화는 메트릭을 작업 영역에 내보내는 모든 클러스터에 대한 데이터를 표시합니다. 따라서 동일한 유형의 여러 클러스터에서 이러한 워크로드 메트릭의 시각화를 한 곳에서 모두 볼 수 있습니다.</p>


  <p style="text-align: justify;"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f9a86415-dc00-4be9-9598-08a187b8b0e2.png"><img alt="spark_solution" border="0" height="609" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4b235095-c1b0-4cac-ac20-233eedd8a219.png" style="border-image: none; text-align: left; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="spark_solution" width="800"></a></p>


  <p align="center"><em>HDInsight Spark 모니터링 솔루션</em></p>


  <h3>Ambari와 함께</h3>


  <p>Ambari 포털을 통해 액세스할 수 있는 YARN ResourceManager UI의 Spark/Hadoop 클러스터에서 워크로드 정보를 볼 수도 있습니다. YARN UI는 모든 작업 제출 및 해당 상태에 대한 자세한 정보를 표시하며, Ambari 포털은 작업을 추가로 디버그해야 하는 경우 ResourceManager 로그 파일에 대한 링크를 제공합니다.</p>


  <h3>클러스터에서</h3>


  <p>클러스터에서 직접 로그 파일에 액세스하려면 <a href="https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-log-management#step-3-manage-the-cluster-job-execution-log-files">HDInsight 클러스터에 대한 로그 관리</a> 설명서를 &quot; 참조하세요.&quot;</p>


  <h2>지금 HDInsight 사용해 보기</h2>


  <p>Apache Ambari와 Azure Log Analytics 통합 간에 HDInsight는 HDInsight 클러스터의 모든 측면을 모니터링하기 위한 포괄적인 도구를 제공합니다. HDInsight에서 모니터링을 최대한 활용할 수 있기를 바랍니다. Azure HDInsight를 사용하여 빌드할 항목을 확인하게 되어 기쁩니다. <a href="https://azure.microsoft.com/en-us/blog/get-up-to-speed-with-azure-hdinsight-the-comprehensive-guide/" target="_blank">이 개발자 가이드를 읽고</a> <a href="https://docs.microsoft.com/en-us/azure/hdinsight/hadoop/apache-hadoop-linux-tutorial-get-started" target="_blank">빠른 시작 가이드</a> 에 따라 Azure HDInsight에서 이러한 파이프라인 및 아키텍처를 구현하는 방법에 대해 자세히 알아보세요. Twitter <a href="https://twitter.com/search?q=%23AzureHDInsight&amp;src=typd" target="_blank">#AzureHDInsight</a> 및 에서 팔로우하여 최신 Azure HDInsight 뉴스 및 <a href="https://twitter.com/search?q=%40AzureHDInsight&amp;src=typd" target="_blank">@AzureHDInsight</a>기능을 최신 상태로 유지하세요. 질문과 피드백을 보려면 문의하세요 <a href="mailto:AskHDInsight@microsoft.com">AskHDInsight@microsoft.com</a>.</p>


  <h2>HDInsight 정보</h2>


  <p>Azure HDInsight는 고객이 Apache Hadoop, Spark, Kafka 등을 비롯한 인기 있는 오픈 소스 프레임워크를 쉽게 실행할 수 있도록 하는 오픈 소스 분석을 위한 쉽고 비용 효율적인 엔터프라이즈급 서비스입니다. 이 서비스는 36개 공용 지역 및 Azure Government 및 국가별 클라우드에서 사용할 수 있습니다. Azure HDInsight는 다양한 분야에서 중요 업무용 애플리케이션을 지원하며 ETL, 스트리밍 및 대화형 쿼리를 비롯한 광범위한 사용 사례를 지원합니다.</p>

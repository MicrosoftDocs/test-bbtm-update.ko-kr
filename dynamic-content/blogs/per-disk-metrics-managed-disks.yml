### YamlMime:Yaml
ms.openlocfilehash: 75403a18e04710ecfd0b9fe1a0dd7548c59b6439
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139899618"
Slug: per-disk-metrics-managed-disks
Title: 관리되는 & 관리되지 않는 디스크에 대한 디스크별 메트릭이 공개 미리 보기로 제공됩니다.
Summary: 현재 모든 Managed & 관리되지 않는 디스크에 대한 디스크별 메트릭의 공개 미리 보기를 공유하고 있습니다. 이렇게 하면 애플리케이션 사용량에 맞게 올바른 디스크를 면밀히 모니터링하고 선택할 수 있습니다...
Content: >-
  <p>&rsquo;현재는 모든 관리 &amp; 되지 않는 디스크에 대한 디스크별 메트릭의 공개 미리 보기를 공유합니다. 이를 통해 애플리케이션 사용 패턴에 맞게 적절한 디스크 선택을 면밀하게 모니터링하고 만들 수 있습니다. 또한 경고, 진단 및 컴파일 자동화를 만드는 데 사용할 수 있습니다.</p>


  <p>이전에 VM(가상 머신)에 연결된 모든 디스크에 대한 집계 메트릭을 가져올 수 있었는데, 이는 특히 워크로드가 연결된 모든 디스크에 균등하게 분산되지 않은 경우 애플리케이션의 성능 특성에 대한 제한된 인사이트를 제공했습니다.&nbsp; 이 릴리스를 사용하면 이제 특정 디스크로 드릴다운하고 워크로드의 성능 특성을 쉽게 파악할 수 있습니다.</p>


  <p>오늘&#39;미리 보기에서 다시 사용하도록 설정할&#39;있는 새 메트릭은 다음과 같습니다.</p>


  <ul>
   <li>OS 디스크 읽기 작업/초</li>
   <li>OS 디스크 쓰기 작업/초</li>
   <li>OS 디스크 읽기 바이트/초</li>
   <li>OS 디스크 쓰기 바이트/초</li>
   <li>OS 디스크 QD</li>
   <li>데이터 디스크 읽기 작업/초</li>
   <li>데이터 디스크 쓰기 작업/초</li>
   <li>데이터 디스크 읽기 바이트/초</li>
   <li>데이터 디스크 쓰기 바이트/초</li>
   <li>데이터 디스크 QD</li>
  </ul>


  <p>다음 GIF는 Azure Portal에서 특정 디스크에 대한 메트릭 대시보드를 빌드하는 것이 얼마나 쉬운지 보여 줍니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/851331a9-4efe-4c12-bc5e-606167e7e124.gif"><img alt="2018-04-02_14-22-12" height="550" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5c706072-4d06-4537-ae21-86ae3b352181.gif" style="margin-right: auto; margin-left: auto; float: none; display: block;" title="2018-04-02_14-22-12" width="1000"></a></p>


  <p>또한 Grafana&rsquo;<a href="https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/monitor-send-to-grafana">와 Azure Monitor 통합</a>으로 인해 이러한 메트릭을 사용하여 Grafana 대시보드를 매우 쉽게 빌드할 수 있습니다. 여기에&rsquo; OS 디스크 1개와 데이터 디스크 3개와 VM의 메트릭이 포함된 Grafana 대시보드 설정을 보여 주는 GIF가 있습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0734aaab-4c98-45e5-a789-e3b3d8eece5a.gif"><img alt="2018-04-02_17-06-26" height="517" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/10a03200-090e-473a-8f03-1e4c9054af71.gif" style="margin-right: auto; margin-left: auto; float: none; display: block;" title="2018-04-02_17-06-26" width="1000"></a></p>


  <h2>Azure CLI</h2>


  <p>Azure CLI&rsquo;를 사용하면 메트릭 값을 프로그래밍 방식으로 쉽게 가져올 수 있습니다.&nbsp; 먼저 특정 리소스에 대한 메트릭 정의 목록을 가져와야 합니다.</p>


  <pre style="margin-left: 0.5in;">

  ➜  ~ az monitor metrics list-definitions --resource /subscriptions/&lt;sub-id&gt;/resourceGroups/metric-rg/providers/Microsoft.Compute/virtualMachines/metric-md


  Display Name                    Metric Name                       Unit            Type     Dimension Required    Dimensions

  ------------------------------  --------------------------------  --------------  -------  --------------------  ------------

  Percentage CPU                  Percentage CPU                    Percent         Average  False

  Network In                      Network In                        Bytes           Total    False

  Network Out                     Network Out                       Bytes           Total    False

  Disk Read Bytes                 Disk Read Bytes                   Bytes           Total    False

  Disk Write Bytes                Disk Write Bytes                  Bytes           Total    False

  Disk Read Operations/Sec        Disk Read Operations/Sec          CountPerSecond  Average  False

  Disk Write Operations/Sec       Disk Write Operations/Sec         CountPerSecond  Average  False

  CPU Credits Remaining           CPU Credits Remaining             Count           Average  False

  CPU Credits Consumed            CPU Credits Consumed              Count           Average  False

  Data Disk Read Bytes/Sec        Per Disk Read Bytes/sec           CountPerSecond  Average  False                 SlotId

  Data Disk Write Bytes/Sec       Per Disk Write Bytes/sec          CountPerSecond  Average  False                 SlotId

  Data Disk Read Operations/Sec   Per Disk Read Operations/Sec      CountPerSecond  Average  False                 SlotId

  Data Disk Write Operations/Sec  Per Disk Write Operations/Sec     CountPerSecond  Average  False                 SlotId

  Data Disk QD                    Per Disk QD                       Count           Average  False                 SlotId

  OS Disk Read Bytes/Sec          OS Per Disk Read Bytes/sec        CountPerSecond  Average  False

  OS Disk Write Bytes/Sec         OS Per Disk Write Bytes/sec       CountPerSecond  Average  False

  OS Disk Read Operations/Sec     OS Per Disk Read Operations/Sec   CountPerSecond  Average  False

  OS Disk Write Operations/Sec    OS Per Disk Write Operations/Sec  CountPerSecond  Average  False

  OS Disk QD                      OS Per Disk QD                    Count           Average  False</pre>


  <p>메트릭 목록이 있으면 특정 메트릭에 대한 값(예: 이 경우 데이터 디스크 쓰기 바이트/초)을 가져올 수 있습니다.</p>


  <pre style="margin-left: 40px;">

  ➜ ~ az monitor metrics list --resource /subscriptions/&lt;sub-id&gt;/resourceGroups/metric-rg/providers/Microsoft.Compute/virtualMachines/metric-md --metric &#39;Per Disk Write Bytes/Sec&#39; --aggregation Maximum --filter &quot;SlotId eq &#39;1&#39;&quot; --interval PT1M --start-time 2018-04-02T21:35:09Z --end-time 2018-04-03T00:49:09Z


  Timestamp            Name                         Slotid      Maximum

  -------------------  -------------------------  --------  -----------

  2018-04-02 21:35:00  Data Disk Write Bytes/Sec         1

  2018-04-02 21:36:00  Data Disk Write Bytes/Sec         1

  2018-04-02 21:37:00  Data Disk Write Bytes/Sec         1

  2018-04-02 21:38:00  Data Disk Write Bytes/Sec         1

  2018-04-02 21:39:00  Data Disk Write Bytes/Sec         1

  2018-04-02 21:40:00  Data Disk Write Bytes/Sec         1

  2018-04-02 21:41:00  Data Disk Write Bytes/Sec         1

  2018-04-02 21:42:00  Data Disk Write Bytes/Sec         1

  2018-04-02 21:43:00  Data Disk Write Bytes/Sec         1

  2018-04-02 21:44:00  Data Disk Write Bytes/Sec         1

  2018-04-02 21:45:00  Data Disk Write Bytes/Sec         1

  2018-04-02 21:46:00  Data Disk Write Bytes/Sec         1

  2018-04-02 21:47:00  Data Disk Write Bytes/Sec         1  1.01974e+08

  2018-04-02 21:48:00  Data Disk Write Bytes/Sec         1  1.02015e+08

  2018-04-02 21:49:00  Data Disk Write Bytes/Sec         1  1.02041e+08

  2018-04-02 21:50:00  Data Disk Write Bytes/Sec         1  1.01976e+08

  2018-04-02 21:51:00  Data Disk Write Bytes/Sec         1  6.37246e+07</pre>

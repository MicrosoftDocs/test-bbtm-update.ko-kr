### YamlMime:Yaml
ms.openlocfilehash: 525d68c289b489808cf0f66223a670dc139d859c
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139900394"
Slug: sql-server-alwayson-and-ilb
Title: SQL Server AlwaysOn 및 ILB
Summary: Azure 서비스에 대한 ILB(내부 부하 분산)는 2014년 5월에 미리 보기되었고 7월에 일반 공급에 들어갔습니다. 오늘 우리는 이러한 두 기술을 함께 가져올 수 있어서 기쁩니다. 이제 SQL Server AlwaysOn 가용성 그룹을 ILB로 실행할 수 있습니다. 가용성 그룹은 고가용성 및 재해 복구를 위한 SQL Server의 주력 솔루션입니다.
Content: "Azure 인프라 서비스의 SQL Server AlwaysOn 가용성 그룹은 2013년 8월부터 <a href=\"https://blogs.technet.com/b/dataplatforminsider/archive/2013/08/12/alwayson-availability-groups-fully-supported-on-windows-azure-infrastructure-services.aspx\">지원</a>되었습니다. Azure 서비스에 대한 ILB(내부 부하 분산)는 2014년 5월에 미리 보기되었고 7월에 <a href=\"https://azure.microsoft.com/en-us/updates/general-availability-internal-load-balancing/\">일반 공급</a> 에 들어갔습니다. 오늘 우리는 이러한 두 기술을 함께 가져올 수 있어서 기쁩니다. 이제 SQL Server AlwaysOn 가용성 그룹을 ILB로 실행할 수 있습니다. 가용성 그룹은 고가용성 및 재해 복구를 위한 SQL Server의 주력 솔루션입니다. 가용성 그룹 수신기를 통해 클라이언트 애플리케이션은 구성의 복제본 수에 관계없이 주 복제본에 매끄럽게 연결할 수 있습니다.\n\n수신기(DNS) 이름이 부하 분산 IP 주소에 매핑되고, Azure 부하 분산 장치가 들어오는 트래픽을 복제본 세트의 주 서버로만 보냅니다. 지금까지 이 부하 분산된 IP 주소는 인터넷에서 연결할 수 있는 공용 IP 주소여야 했습니다. 수신기에 대한 액세스를 신뢰할 수 있는 엔터티로만 제한하려면 엔드포인트 ACL(액세스 제어 목록)을 사용해야 했습니다. 그러나 특정 시나리오에서 일반적으로 시간이 지남에 따라 ACL을 유지 관리하는 것이 번거로울 수 있습니다.\n\n이와 관련하여 크게 도움이 되도록 Azure는 이제 SQL Server AlwaysOn(수신기) 엔드포인트에 대한 ILB 지원을 발표합니다. 이제 수신기의 접근성을 제어할 수 있으며 VNet(Virtual Network)의 특정 서브넷에서 <a>부하가 분산된 IP 주소를 </a>선택할 수 있습니다. 수신기에서 ILB를 사용하면 다음과 같은 경우에만 SQL 서버 엔드포인트(예: Server=tcp:<i>ListenerName,1433</i>;Database=<i>DatabaseName</i>)에 액세스할 수 있습니다.\n<ul>\n <li>동일한 가상 네트워크에 있는 서비스 및 VM</li>\n <li>연결된 온-프레미스 네트워크의 서비스 및 VM</li>\n <li>연결된 VNet 간 서비스 및 VM</li>\n</ul>\n<a href=\"https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/09/30/ILB_SQLAO_NewPic.jpg\"><img style=\"padding-top: 0px; padding-left: 0px; padding-right: 0px; border-width: 0px;\" title=\"ILB_SQLAO_NewPic\" alt=\"ILB_SQLAO_NewPic\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ILB_SQLAO_NewPic_thumb.jpg\" width=\"644\" height=\"409\" border=\"0\" /></a>\n\n내부 부하 분산 장치는 여전히 Azure Portal에 노출되지 않으며 아래와 같이 PowerShell 스크립트를 통해 구성해야 합니다.\n\n*아래 예제에서는 서브넷 'Subnet-1'이 포함된 가상 네트워크를 사용하고 있습니다.\n<pre class=\"prettyprint\"># Add Internal Load Balancer to the service \nAdd-AzureInternalLoadBalancer -InternalLoadBalancerName ILB_SQL_AO -SubnetName Subnet-1 -ServiceName SqlSvc\n\n# Add load balanced endpoints for ILB on each VM\nGet-AzureVM -ServiceName SqlSvc -Name sqlsvc1 | Add-AzureEndpoint -Name \"LisEUep\" -LBSetName \"ILBSet1\" -Protocol tcp -LocalPort 1433 -PublicPort 1433 -ProbePort 59999 -ProbeProtocol tcp -ProbeIntervalInSeconds 10 –DirectServerReturn $true -InternalLoadBalancerName ILB_SQL_AO | Update-AzureVM \nGet-AzureVM -ServiceName SqlSvc -Name sqlsvc2 | Add-AzureEndpoint -Name \"LisEUep\" -LBSetName \"ILBSet1\" -Protocol tcp -LocalPort 1433 -PublicPort 1433 -ProbePort 59999 -ProbeProtocol tcp -ProbeIntervalInSeconds 10 –DirectServerReturn $true -InternalLoadBalancerName ILB_SQL_AO | Update-AzureVM</pre>\nILB에 대한 자세한 내용은 이 항목의 MSDN 설명서 또는 이전 <a href=\"https://azure.microsoft.com/blog/2014/05/20/internal-load-balancing/\">블로그 게시물을</a> 참조하세요."

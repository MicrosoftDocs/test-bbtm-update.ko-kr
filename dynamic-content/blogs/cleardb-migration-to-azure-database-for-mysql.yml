### YamlMime:Yaml
ms.openlocfilehash: db7da4a9d4c6861b67e02dd730f712a2b60c765c
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139901336"
Slug: cleardb-migration-to-azure-database-for-mysql
Title: ClearDB에서 Azure Database for MySQL로 웹앱 마이그레이션
Summary: Azure Web App의 ClearDB 데이터베이스를 Azure Database for MySQL로 마이그레이션하는 방법입니다.
Content: >-
  <p>Azure Database for MySQL이 도입되면서 Ive&rsquo;는 기존 웹앱을 MySQL 데이터베이스 공급자로 사용하여 Azure Database for MySQL로 이동하는 방법에 대한 고객의 많은 관심과 질문을 확인했습니다. &rsquo;ClearDB를 사용하지 않고 오히려 MySQL을 공급자로 In-App Azure Database for MySQL로 이동하려는 경우 체크 아웃해야 하는 유용한 <a href="https://blogs.msdn.microsoft.com/appserviceteam/2017/03/06/migrate-development-database-on-mysql-in-app-to-production-mysql-database/">블로그</a>가 이미 작성되었습니다. 이 블로그의 경우 Ill&rsquo;은 내 Wordpress 웹 사이트&rsquo; 데이터베이스를 ClearDB에서 Azure Database for MySQL로 마이그레이션하고 새 데이터베이스 서버를 가리키도록 웹앱을 업데이트합니다.</p>


  <h2>마이그레이션 준비</h2>


  <p>Ill&rsquo;은 데이터 마이그레이션을 수행하는 도구로 MySQL Workbench를 사용합니다. 물론 다른 일반적인 도구나 CLI도 사용할 수 있습니다. 먼저 <a href="https://dev.mysql.com/downloads/workbench/">MySQL Workbench를 다운로드합니다.</a> &rsquo;MySQL Workbench를 다운로드하고 설치한 후에는 마이그레이션을 시작하기 위해 ClearDB 데이터베이스에 대한 연결을 만들어야 합니다. 연결을&rsquo; 만들려면 ClearDB 데이터베이스에 대한 몇 가지 정보가 필요합니다.</p>


  <p>Azure Portal에서 ClearDB 데이터베이스를 열고 왼쪽 탐색 창에서 <strong>속성</strong> 작업을 클릭합니다. MySQL Workbench 연결을 만드는 다음 단계에서 필요하므로 열어&rsquo; 둡니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/007efab1-65e8-4e9f-9c16-2038ec614ede.jpg"><img alt="2017-07-28_11-00-05" border="0" height="638" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/db24f3e9-7800-4392-b4ed-7a67a993f2c5.jpg" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="2017-07-28_11-00-05" width="635"></a></p>


  <p>이제 MySQL Workbench를 열고 홈 화면 맨 위에 있는 + 아이콘을 클릭하여 새 연결을 만듭니다. <strong>새 연결 설정</strong> 화면에서 연결 이름을 지정한 다음(내 ClearDB 데이터베이스&rdquo;를 선택하는 &ldquo;모든 &ndash; 항목일 수 있음) ClearDB 데이터베이스 속성이 열려 있는 브라우저로 다시 전환하고 <strong>HOSTNAME, USERNAME </strong>및 <strong>PASSWORD</strong>를 MySQL Workbench의 해당 필드에 복사합니다. MySQL Workbench&rsquo;에 암호를 입력하려면 먼저 <strong>자격&hellip; 증명 모음의 저장소</strong> 단추를 클릭해야 합니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2e5178ba-217a-4247-bfce-569559ce2dff.png"><img alt="image" border="0" height="590" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/de75eae2-42c1-4957-b924-bf983f0a216d.png" style="margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="이미지" width="989"></a></p>


  <p>이 작업이 완료되면 연결을 저장하고 Azure Database for MySQL에 대한 또 다른 새 연결을 만듭니다. Azure Database for MySQL을 아직 만들지 않은&rsquo; 경우 설명서 <a href="https://docs.microsoft.com/en-us/azure/mysql/quickstart-create-mysql-server-database-using-azure-portal">빠른 시작을</a> 참조하세요. ClearDB와 마찬가지로 포털&rsquo;을 통해 Azure Database for MySQL의 호스트 이름, 사용자 이름 및 암호를 가져와야 합니다.&nbsp; 하지만 이&rsquo; 작업을 수행하려면 먼저 Azure Database for MySQL 서버에 대한 제어 액세스를 구성해야 합니다.</p>


  <p>Azure Portal에서 Azure Database for MySQL 서버를 열고 왼쪽 탐색 창에서 <strong>연결 보안</strong> 설정을 클릭합니다.&nbsp; 마이그레이션 프로세스의 편의를 위해 SSL 연결 적용 토글 스위치를 사용 안 함으로 클릭하여 <strong>SSL 연결을</strong> 사용하지 <strong>않도록 설정했습니다</strong>. 방화벽 규칙과 관련하여 화면 맨 위에 있는 <strong>내 IP 추가 아이콘을 클릭하여 방화벽에+</strong> 로컬 IP 주소를 추가하거나, 내 경우 Ive&rsquo;가 당분간 내 서버에 대한 모든 IP 주소 액세스를 허용하는 방화벽 규칙을 만들 수 있습니다. 나중에 데이터베이스 서버에 연결하도록 웹앱을 구성할 때 Ill&rsquo;은 적절한 IP 주소를 추가하고 이 규칙을 제거합니다. 서버에 대한 SSL 연결 구성에 대한 자세한 내용은 <a href="https://docs.microsoft.com/en-us/azure/mysql/howto-configure-ssl">설명서를</a> 참조하세요.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/35d11717-affd-4fcc-9868-e7fd3c9a2100.png"><img alt="image" border="0" height="485" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1c8e5233-0e97-4ea6-bb34-4280b6058f0f.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="이미지" width="1037"></a></p>


  <p>이제 Azure Database for MySQL 서버에 대한 액세스를 구성했으므로 ClearDB 데이터베이스 서버와 마찬가지로 새 MySQL Workbench 연결을 계속 만들 수 있습니다.&nbsp; Azure Database for MySQL 서버를 열고 기본 Essentials 대시보드&rsquo;에서 <strong>서버 이름</strong> 및 <strong>서버 관리자 로그인 이름이</strong> 기본 페이지에 있음을 알 수 있습니다. 암호는 여기에 노출되지 않습니다. 서버에 대한 암호가 무엇인지 기억하지 못하는&rsquo; 경우 Essentials 창의 왼쪽 위 모서리에 있는 <strong>암호 재설정</strong> 옵션을 사용하여 항상 재설정할 수 있습니다. 이 정보를 사용하여 ClearDB 데이터베이스와 동일한 방식으로 Azure Database for MySQL 서버에 대한 MySQL Workbench에 다른 연결을 만듭니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/273ab27f-8ee1-4c01-b5ac-5be7dd619796.png"><img alt="image" border="0" height="371" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/9db722ca-dcc9-42eb-80a8-7940bf1f7c2f.png" style="margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="이미지" width="1044"></a></p>


  <h2>데이터베이스 마이그레이션</h2>


  <p>MySQL Workbench를 열고 <strong>데이터베이스</strong> 를 클릭한 다음 드롭다운에서 <strong>마이그레이션 마법사</strong> 를 클릭하여 데이터베이스 마이그레이션을 시작합니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/e9a84c67-c36e-4894-bc88-7ab7e6d9b3f5.png"><img alt="image" border="0" height="421" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/88334681-bb3e-49d8-a464-92686978be9d.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="이미지" width="630"></a></p>


  <p>마이그레이션 마법사&rsquo;에서 원본 및 대상 데이터베이스 서버를 선택하라는 메시지가 표시됩니다. 원본의 경우 먼저 만든 ClearDB 데이터베이스 서버 연결을 선택하고 대상에 대해 방금 만든 Azure Database for MySQL 서버를 선택합니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/11c58e84-9307-4461-bce0-425c9e0785d1.png"><img alt="image" border="0" height="519" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/9db4afa4-dd09-4de9-80c5-6381a7baf640.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="이미지" width="888"></a></p>


  <p>마이그레이션할 스키마를 묻는 화면이 표시될 때까지 마법사를 계속 진행합니다. 애플리케이션에 적용할 수 있는 스키마만 마이그레이션해야 합니다. 이 Wordpress 애플리케이션의 경우 적용할 수 있는 스키마가 하나만 있습니다. 스키마 이름은 ClearDB가 스키마 이름을 임의로 생성하는 것과 유사해야 합니다.</p>


  <p align="center"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b593f9ca-a918-4dad-8e84-87d15be9cdcf.png"><img alt="image" border="0" height="380" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/329c66c5-5dff-4e28-9aa7-0aec6ac98a4f.png" style="border-image: none; display: inline; background-image: none;" title="이미지" width="535"></a></p>


  <p>마이그레이션할 원본 스키마를 선택하면 마이그레이션의 나머지가 마이그레이션 마법사에서 선택된 기본값이어야 합니다. Azure Database for MySQL 서버가 원본 ClearDB 데이터베이스와 동일한 지역에 있다고 가정하는 대규모 데이터베이스의 경우에도 데이터베이스를 마이그레이션하는 데 걸리는 시간이 길지 않아야 합니다.</p>


  <h2>Azure Web App 구성</h2>


  <p>이제 데이터베이스가 마이그레이션되었&rsquo;으므로 Web App을 Azure Database for MySQL에 연결해야 합니다. &rsquo;데이터베이스에 대한 액세스를 웹앱으로만 제한하려면 웹앱과 Azure Database for MySQL의 방화벽 규칙을 모두 업데이트해야 합니다. Well&rsquo;은 이 작업을 시작하므로 Azure Portal에서 웹앱을 엽니다. 왼쪽 탐색 창에서 <strong>속성을</strong> 선택하고 <strong>아웃바운드 IP 주소를 기록해 둡니다</strong>. Azure Database for MySQL에서 방화벽 규칙을 만드는 특정 IP 주소입니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/60ad0912-d28f-494d-9e2e-11cc7bd33831.png"><img alt="image" border="0" height="462" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c8b9d26e-7d5a-4548-b72c-ef06d926c4a8.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="이미지" width="878"></a></p>


  <p>Azure Database for MySQL 서버를 열고 각 IP 주소에 대한 방화벽 규칙을 만들어 서버에 대한 웹앱에 대한 액세스를 허용합니다. 방화벽 규칙을 추가하기 위해 위에서 설명한 것과 동일한 프로세스입니다.</p>


  <p>이제 Azure Web App으로 돌아가서 왼쪽 탐색 창에서 <strong>애플리케이션 설정을</strong> 연 다음 주된 고통의 <strong>연결 문자열</strong> 섹션까지 아래로 스크롤합니다. 이제 새 데이터베이스 서버를 가리키도록 연결 문자열을 수정해야 합니다. 문자열 값을 클릭하고 직접 편집하기만 하면 됩니다. <strong>데이터베이스</strong> 이름을 유지하는 ClearDB에서 데이터베이스(스키마)를 그대로 마이그레이션하므로 데이터베이스 값을 제외한 모든 값을 바꿔야 합니다. 내 경우 원래 연결 문자열은 다음과 같습니다.</p>


  <blockquote>

  <p><strong>Database=acsm_8cb9eb8d372ebbd;Data Source=us-cdbr-azure-west-b.cleardb.com; 사용자 ID=b8c2e429e67ac2; Password=47bd9069</strong></p>

  </blockquote>


  <p>새 Azure Database for MySQL 서버를 가리키도록 업데이트한 후 다음과 같습니다.</p>


  <blockquote>

  <p><strong>Database=acsm_8cb9eb8d372ebbd;Data Source=jasonsnewserver.mysql.database.azure.com; 사용자 ID=jason@jasonsnewserver; Password=MyPassword12</strong></p>

  </blockquote>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c7086831-20ea-4e81-93a0-bccd74bd51c9.png"><img alt="image" border="0" height="518" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/faa17b2c-b2ac-4a69-877d-fbf698f80792.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="이미지" width="1052"></a></p>


  <p>화면 맨 위에 있는 <strong>저장 </strong>단추를 클릭해야 하며&rsquo;, 필요한 모든 작업을 수행해야 합니다. &rsquo;이제 기존 웹앱에서 Azure Database for MySQL을 사용하고 있습니다. 축하합니다!</p>


  <p>Jason - <a href="https://twitter.com/JasonMA_MSFT">JasonMA_MSFT</a></p>

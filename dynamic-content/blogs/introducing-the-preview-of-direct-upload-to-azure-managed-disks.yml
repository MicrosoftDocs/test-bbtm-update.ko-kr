### YamlMime:Yaml
ms.openlocfilehash: 0ffdc607c47fb26a439cbc6ddc760dc065dab85d
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139899755"
Slug: introducing-the-preview-of-direct-upload-to-azure-managed-disks
Title: Azure Managed Disks에 직접 업로드 미리 보기 소개
Summary: Azure 관리 디스크에 직접 업로드하는 미리 보기를 발표하게 되어 기쁩니다. 현재 Azure에 온-프레미스 VHD를 관리 디스크로 가져올 수 있는 두 가지 방법이 있습니다.
Content: >-
  <p><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/managed-disks-overview">Azure 관리 디스크</a>에 직접 업로드하는 미리 보기를 발표하게 되어 기쁩니다. 현재 Azure에 온-프레미스 VHD를 관리 디스크로 가져올 수 있는 두 가지 방법이 있습니다.</p>


  <ol>
      <li>VHD를 관리 디스크로 변환하기 전에 스토리지 계정으로 스테이징합니다.&nbsp;</li>
      <li>빈 관리 디스크를 가상 머신에 연결하고 복사합니다.</li>
  </ol>


  <p>이러한 두 가지 방법 모두 단점이 있습니다. 첫 번째 옵션은 관리하기 위해 추가 스토리지 계정이 필요하지만 두 번째 옵션은 가상 머신을 실행하는 데 추가 비용이 듭니다. 직접 업로드는 이러한 문제를 모두 해결하고 온-프레미스 VHD의 복사본을 관리 디스크로 직접 허용하여 간소화된 워크플로를 제공합니다. 이를 사용하여 지원되는 모든 크기의 표준 HDD, 표준 SSD 및 Premium SSD 관리 디스크에 업로드할 수 있습니다.</p>


  <p>Azure에서 IaaS 가상 머신에 대한 백업 솔루션을 제공하는 ISV(독립 소프트웨어 공급업체)인 경우 직접 업로드를 활용하여 고객&rsquo; 백업을 관리 디스크로 복원하는 것이 좋습니다. 스토리지 계정 관리에서 벗어나 복원 프로세스를 간소화하는 데 도움이 됩니다. <a href="https://azure.microsoft.com/en-us/updates/azure-backup-large-disk-preview/">대규모 관리 디스크에 대한 Azure Backup 지원</a>은 직접 업로드를 통해 지원됩니다. 직접 업로드를 사용하여 대규모 관리 디스크를 복원합니다.</p>


  <p>생산성 향상을 위해 <a href="https://azure.microsoft.com/en-us/features/storage-explorer/">Azure Storage Explorer</a> <a href="https://azure.microsoft.com/en-us/blog/new-disk-support-capabilities-in-azure-storage-explorer/">관리 디스크에 대한 지원</a>도 추가했습니다. 사용하기 쉬운 GUI(그래픽 사용자 인터페이스)를 통해 직접 업로드를 노출하므로 몇 번의 클릭만으로 로컬 VHD를 관리 디스크로 마이그레이션할 수 있습니다. 또한 직접 업로드를 활용하여 관리 디스크를 복사하고 다른 Azure 지역으로 원활하게 마이그레이션할 수 있습니다. 이 지역 간 복사는 Azure에서 대규모 데이터 이동을 지원하도록 설계된 <a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-use-azcopy-v10">AzCopy v10</a> 을 통해 구동됩니다.</p>


  <p><a href="https://docs.microsoft.com/en-us/rest/api/compute/disks/createorupdate">Azure Compute Rest API</a> 또는 SDK를 사용하도록 선택하는 경우 먼저 <a href="https://docs.microsoft.com/en-us/rest/api/compute/disks/createorupdate#create-a-managed-upload-disk.">createOption</a> 속성을 업로드 설정하고 업로드되는 VHD의 정확한 크기와 일치하도록 <a href="https://docs.microsoft.com/en-us/rest/api/compute/disks/createorupdate#create-a-managed-upload-disk.">uploadSizeBytes</a> 속성을 설정하여 빈 관리 디스크를 만들어야 합니다.</p>


  <h3>Rest API</h3>


  <pre>

  {
     &quot;location&quot;: &quot;WestUS2&quot;,
     &quot;properties&quot;: {
       &quot;creationData&quot;: {
         &quot;createOption&quot;: &quot;Upload&quot;,
         &quot;uploadSizeBytes&quot;: 10737418752
       }
     }
  }</pre>


  <h3>Azure CLI</h3>


  <pre>

  az disk create \

  -n mydiskname \

  -g resourcegroupname \

  -l westus2 \

  --for-upload \

  --upload-size-bytes 10737418752 \

  --sku standard_lrs</pre>


  <p>업로드 대상으로 참조할 수 있도록 디스크에 대한 쓰기 가능한 SAS를 생성해야 합니다.</p>


  <pre>

  az disk grant-access \

  -n mydiskname \

  -g resourcegroupname \

  --access-level Write \

  --duration-in-seconds 86400</pre>


  <p>AzCopy v10을 사용하여 생성한 SAS URI를 지정하여 빈 관리 디스크에 로컬 VHD를 업로드합니다.</p>


  <pre>

  AzCopy copy &quot;c:\somewhere\mydisk.vhd&quot; &quot;SAS-URI&quot; --blob-type PageBlob</pre>


  <p>업로드가 완료되면 SAS를 해지합니다. SAS를 취소하면 관리 디스크의 상태가 변경되고 가상 머신에 디스크를 연결할 수 있습니다.</p>


  <pre>

  az disk revoke-access -n mydiskname -g resourcegroupname</pre>


  <h2>지원되는 지역</h2>


  <p>모든 지역은 Azure Compute Rest API 버전 <a href="https://docs.microsoft.com/en-us/rest/api/compute/disks/createorupdate">2019-03-01</a>, 최신 버전의 Azure CLI, Azure PowerShell SDK, Azure .Net SDK, AzCopy v10 및 Storage 탐색기를 통해 지원됩니다.</p>


  <h2>시작</h2>


  <ol>
      <li><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/disks-upload-vhd-to-managed-disk-powershell">Azure PowerShell 및 AzCopy v10을 사용하여 Azure에 vhd 업로드</a></li>
      <li><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/disks-upload-vhd-to-managed-disk-cli">Azure CLI 및 AzCopy v10을 사용하여 Azure에 vhd 업로드</a></li>
      <li><a href="https://aka.ms/md-explorer">Azure Storage Explorer를 사용하여 관리 디스크 업로드, 다운로드, 지역 간 복사</a></li>
  </ol>

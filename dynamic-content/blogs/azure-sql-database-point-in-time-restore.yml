### YamlMime:Yaml
ms.openlocfilehash: f513c9732f369117ae474184f0d77fc9c95c7448
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139898124"
Slug: azure-sql-database-point-in-time-restore
Title: Azure SQL Database 지정 시간 복원
Summary: '비즈니스 연속성에 대한 시리즈의 마지막 게시물에서 기본, 표준 및 Premium 데이터베이스에 사용할 수 있는 셀프 서비스 기능인 특정 시점 복원을 살펴보겠습니다. '
Content: >-
  <h5><strong>[2017년 3월 3일에 업데이트됨] </strong> 이 항목의 업데이트된 콘텐츠는 다음 문서를 참조하세요. 문서 사이트에서 <a href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-automated-backups">백업을 SQL Database 방법에 대해 알아봅니</a>다.</h5>


  <p><strong>[2016/01/22에 업데이트됨]</strong> 기본, 표준 및 Premium 데이터베이스 계층에 대한 ERT(예상 복구 시간) 및 RPO(복구 지점 목표)를 개선&nbsp;합니다. &nbsp;비즈니스 연속성 Im&rsquo; 시리즈의 마지막 게시물에서는 기본, 표준 및 Premium 데이터베이스에 사용할 수 있는 셀프 서비스 기능인 <i>특정 시점 복원</i>을 살펴보겠습니다. 이전 게시물에서 특정 시점 복원을 포함하는 Azure SQL Database 비즈니스 연속성 모델을 설명했습니다. 이 모델은 아래 표에 요약되어 있습니다. 이 모델 내에서 특정 시점 복원은 실수로 데이터가 손상되거나 삭제된 후 최근 백업에서 데이터베이스를 복구하기 위해 설계되었습니다.</p>


  <table border="1" cellpadding="0" cellspacing="0">
   <tbody>
    <tr>
     <td valign="top" width="176">
     <p align="center"><b>BCDR 옵션</b></p>
     </td>
     <td valign="top" width="118">
     <p align="center"><b>기본 계층</b></p>
     </td>
     <td valign="top" width="114">
     <p align="center"><b>표준 계층</b></p>
     </td>
     <td valign="top" width="120">
     <p align="center"><b>프리미엄 계층</b></p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="176">지정 시간 복원</td>
     <td valign="top" width="118">7일 이내의 모든 복원 지점</td>
     <td valign="top" width="114">35일 이내의 모든 복원 지점</td>
     <td valign="top" width="120">35일 이내의 모든 복원 지점</td>
    </tr>
    <tr>
     <td valign="top" width="176">지리적 복원</td>
     <td valign="top" width="118">ERT* &lt; 12시간 RPO&dagger; &lt; 1시간</td>
     <td valign="top" width="114">ERT*&nbsp;&lt; 12시간 RPO&dagger; &lt; 1시간</td>
     <td valign="top" width="120">ERT*&nbsp;&lt; 12시간 RPO&dagger; &lt; 1시간</td>
    </tr>
    <tr>
     <td valign="top" width="176">표준 지역에서 복제</td>
     <td valign="top" width="118">포함되지 않음</td>
     <td valign="top" width="114">ERT*&nbsp;&lt; 30s RPO&dagger; &lt; 5s</td>
     <td valign="top" width="120">ERT*&nbsp;&lt; 30s RPO&dagger; &lt; 5s</td>
    </tr>
    <tr>
     <td valign="top" width="176">활성 지리적 복제</td>
     <td valign="top" width="118">포함되지 않음</td>
     <td valign="top" width="114">포함되지 않음</td>
     <td valign="top" width="120">ERT*&nbsp;&lt; 30s RPO&dagger; &lt; 5s</td>
    </tr>
   </tbody>
  </table>


  <p>* ERT(예상 복구 시간) - 복원/장애 조치(failover) 요청 후 데이터베이스가 완벽하게 작동할 것으로 예상되는 기간입니다. &dagger; RPO(복구 지점 목표) - 복구 후 애플리케이션이 손실될 수 있는 가장 최근의 데이터 변경(시간 간격)의 양입니다.</p>


  <h2>특정 시점 복원이란?</h2>


  <p>Azure SQL Database 서비스는 자동화된 백업 시스템으로 모든 데이터베이스를 보호합니다. 이러한 백업은 기본 7일, 표준 35일, Premium 35일 동안 유지됩니다. 특정 시점 복원은 셀프 서비스 기능으로, 고객은 이러한 백업에서 보존 기간 내의 모든 지점으로 기본, 표준 또는 Premium 데이터베이스를 복원할 수 있습니다. 지정 시간 복원은 항상 새 데이터베이스를 만듭니다. 데이터베이스 백업은 옵트인할 필요 없이 자동으로 수행되며 추가 요금이 부과되지 않습니다. 복원 기능을 사용하는 경우에만 추가 비용이 발생합니다. 복원을 통해 만든 새 데이터베이스는 일반 데이터베이스 요금으로 청구됩니다. 자동화된 백업 시스템과 특정 시점 복원은 원인이 무엇이든 간에 실수로 손상되거나 삭제되지 않도록 데이터베이스를 보호하는 제로 관리자 방법을 제공합니다. &nbsp;</p>


  <h2>자동 백업 이해</h2>


  <p>모든 기본, 표준 및 프리미엄 데이터베이스는 자동 백업에 의해 보호됩니다. 전체 백업은 매주 수행되고, 매일 차등 백업이 수행되며, 5분마다 로그 백업이 수행됩니다. 첫 번째 전체 백업은 데이터베이스를 만든 후에 즉시 예약됩니다. 일반적으로 이 작업은 30분 이내에 완료되지만 더 오래 걸릴 수 있습니다. 데이터베이스가 &ldquo;큰&rdquo; 데이터베이스로 생성된 경우(예: 큰 데이터베이스에서 데이터베이스 복사 또는 복원의 결과로 생성된 경우) 첫 번째 전체 백업을 완료하는 데 시간이 더 오래 걸릴 수 있습니다. 첫 번째 전체 백업 후에는 모든 추가 백업이 자동으로 예약되고 백그라운드에서 자동으로 관리됩니다. 전체 및 차등 백업의 정확한 타이밍은 전체 부하의 균형을 맞추기 위해 시스템에 의해 결정됩니다. 백업 파일은 재해 복구를 위해 백업 가용성을 보장하기 위해 RA-GRS(읽기 액세스)가 있는 지역 중복 스토리지&rsquo; 계정에 저장됩니다. 데이터베이스를 복원하면 필요한 백업 파일이 동일한 데이터 센터에서 검색되고 적용됩니다. <a href="https://azure.microsoft.com/blog/2014/09/13/azure-sql-database-geo-restore/">지역 복원</a>이 호출되면 백업의 지역 중복 복사본이 검색되고 마지막 게시물에 설명된 대로 적용됩니다. &nbsp;</p>


  <h2>라이브 데이터베이스를 특정 시점으로 복원</h2>


  <p>Azure 관리 포털&rsquo;을 사용하면 라이브 Basic, Standard 또는 Premium 데이터베이스를 보존 기간 내의 특정 시점으로 복원하는 간단한 작업이 수행됩니다. 데이터베이스 목록에서 데이터베이스를 선택하거나 데이터베이스 대시보드에서 열고 복원 옵션을 선택합니다. <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/09/19/RestoreLiveDB1.png"><img alt="RestoreLiveDB1" border="0" height="509" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/RestoreLiveDB1_thumb.png" style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px;" title="RestoreLiveDB1" width="604"></a> &nbsp; 새 데이터베이스 이름을 묻는 메시지가 표시되고 보존 기간 내에 복원 지점을 선택하는 슬라이더 컨트롤이 제공됩니다. 또는 날짜와 시간을 가장 가까운 분까지 수동으로 입력할 수 있습니다. 작업을 확인하면 데이터베이스가 복원됩니다. <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/09/19/RestoreSettings.png"><img alt="RestoreSettings" border="0" height="404" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/RestoreSettings_thumb.png" style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px;" title="RestoreSettings" width="604"></a> &nbsp;</p>


  <p>데이터베이스를 복원하는 데 걸리는 시간은 데이터베이스 크기, 선택한 시간 지점 및 선택한 지점에서 상태를 재구성하기 위해 재생해야 하는 작업의 양을 비롯한 여러 요인에 따라 달라집니다. 매우 큰 데이터베이스 및/또는 활성 데이터베이스 복원의 경우 몇 시간이 걸릴 수 있습니다. 데이터베이스를 복원하면 항상 원본 데이터베이스와 동일한 서버에 새 데이터베이스를 만들기 때문에 복원된 데이터베이스에 새 이름을 지정해야 합니다. 데이터베이스는 기본 성능 수준으로 복원 지점에서 적용할 수 있는 서비스 계층을 사용하여 복원됩니다. 복원에서 새 데이터베이스를 만들고 복원된 데이터베이스의 서비스 계층 및 성능 수준이 라이브 데이터베이스의 현재 상태와 다를 수 있다는 점을 염두에 두고 서버에 충분한 <a href="https://msdn.microsoft.com/en-us/library/azure/ee336245.aspx#DTUs">DTU 할당량</a> 이 있는지 확인해야 합니다. 일단 완료되면 복원된 데이터베이스는 서비스 계층 및 성능 수준에 따라 정상 요금이 청구되는 완벽하게 액세스할 수 있는 일반적인 온라인 데이터베이스가 됩니다. 복구를 위해 데이터베이스를 복원하는 경우 원본 데이터베이스에 대한 대체로 복원된 데이터베이스를 처리하거나 데이터를 검색하고 원래 데이터베이스를 업데이트하는 데 사용할 수 있습니다. 복원된 데이터베이스가 원래 데이터베이스를 대체하려는 경우 성능 수준 및/또는 서비스 계층이 적절한지 확인하고 필요한 경우 데이터베이스 크기를 조정해야 합니다. 원본 데이터베이스의 이름을 바꿀 수 있으며 T-SQL에서 ALTER DATABASE 명령을 사용하여 복원된 데이터베이스에 원래 이름을 제공할 수 있습니다. 복원된 데이터베이스에서 데이터를 검색하려는 경우 필요한 데이터 복구 스크립트를 별도로 작성하고 실행해야 합니다. 복원 작업을 완료하는 데 긴 시간이 걸리지만 데이터베이스가 데이터베이스 목록 전체에 표시됩니다. 복원하는 동안 데이터베이스를 삭제하는 경우 작업을 취소하고 청구되지 않습니다. <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/09/19/RestoreMonitoring.png"><img alt="RestoreMonitoring" border="0" height="509" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/RestoreMonitoring_thumb.png" style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px;" title="RestoreMonitoring" width="604"></a> &nbsp;</p>


  <h2>최근에 삭제된 데이터베이스 복원</h2>


  <p>기본, 표준 또는 Premium 데이터베이스를 삭제하는 경우 데이터베이스가 삭제된 시점으로 복원할 수 있도록 일반 보존 기간 동안 최종 백업이 유지됩니다. Azure 관리 포털에서 삭제된 데이터베이스를 복원하려면 삭제된 데이터베이스 탭을 열고 적절한 데이터베이스 항목을 찾아야 합니다. <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/09/19/RestoreDroppedDB1.png"><img alt="RestoreDroppedDB1" border="0" height="593" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/RestoreDroppedDB1_thumb.png" style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px;" title="RestoreDroppedDB1" width="604"></a> &nbsp; 동일한 데이터베이스 이름을 여러 번 다시 사용한 경우 올바른 데이터베이스를 복원하려면 각 데이터베이스의 삭제 시간에 주의해야 합니다. <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/09/19/RestoreDroppedDB2.png"><img alt="RestoreDroppedDB2" border="0" height="447" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/RestoreDroppedDB2_thumb.png" style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px;" title="RestoreDroppedDB2" width="604"></a> 새 데이터베이스의 이름을 제공해야 하기 전에 복원 지점이 데이터베이스 삭제 시간으로 고정됩니다. 또한 이전과 마찬가지로 삭제된 데이터베이스를 복원할 때 원래 데이터베이스가 포함된 서버로만 복원할 수 있습니다. 서버를 삭제할 때는 이전에 해당 서버에 있었던 데이터베이스를 삭제한 후에는 복원할 수 없으므로 이 점을 염두에 두어야 합니다. &nbsp;</p>


  <h2>Backup/복원 및 복사/내보내기/가져오기</h2>


  <p>특정 시점 복원은 실수로 인한 데이터 손실 또는 손상으로부터 기본, 표준 및 Premium 데이터베이스를 복구하는 데 권장되는 방법입니다. 지정 시간 복원은 복사 및 내보내기/자동화된 내보내기를 기반으로 비용이 많이 드는 해결 방법을 사용하여 웹 및 비즈니스 데이터베이스에 필요한 백업을 만들 필요가 없습니다. 이러한 개선 사항만으로도 새 서비스 계층 중 하나로 업그레이드하는 것이 정당화될 수 있습니다. 백업 및 복원은 비용이 더 낮습니다( <a href="https://msdn.microsoft.com/en-us/library/azure/jj650016.aspx#&quot;backup storage&quot;">과도한</a> 경우 백업에 대한 요금이 부과되지 않는 한, 트랜잭션 일치 내보내기를 보장하고 BACPAC 파일을 저장하는 데 필요한 데이터베이스 복사본에 대한 요금이 부과되는 반면), 관리자 0명(백업은 자동인 반면, 직접 내보내기를 관리하거나 예약해야 합니다)은 더 나은 RPO(복사/복사 시 실용성보다 훨씬 더 미세한(1분) 세분성으로 특정 시점으로 복원할 수 있음)이 더 낫습니다. 내보내기/가져오기) 및 더 나은 복구 시간&nbsp;(백업에서 복원은 일반적으로 가져오기보다 훨씬 빠릅니다. 여기에는 스키마를 만들고, 인덱스를 사용하지 않도록 설정하고, 데이터를 로드한 다음, 각 테이블에 대한 인덱스를 개별적으로 사용하도록 설정하는 단계가 포함됨). 복사 및 내보내기가 보존 기간 이후 장기 보관에 권장되는 솔루션입니다. &nbsp;</p>


  <h2>API를 사용하여 데이터베이스 복원</h2>


  <p>Azure 관리 포털을 사용하는 것 외에도 <a href="https://msdn.microsoft.com/en-us/library/dn720218.aspx">Start-AzureSqlDatabaseRestore</a> cmdlet 및 SQL Database 관리 API Create Database Restore Request를 사용하여 PowerShell<a href="https://msdn.microsoft.com/en-us/library/azure/dn509571.aspx">을 사용하여 데이터베이스를 복원할</a> 수도 있습니다. &nbsp;</p>


  <h2>요약</h2>


  <p>자동 백업 및 셀프 서비스 지정 시간 복원은 실수로 인한 데이터 손상 또는 삭제로부터 데이터베이스를 보호합니다. 이 제로 관리자 솔루션은 모든 Basic, Standard 및 Premium 데이터베이스에서 사용할 수 있습니다. Backup 및 복원은 단기 복구 요구에 대한 대체 복사/내보내기/가져오기 솔루션을 통해 훨씬 향상된 기능을 제공합니다. 비즈니스 연속성 전략의 일부로 특정 시점 복원을 사용하고 장기적인 보관 또는 데이터 마이그레이션을 위해 필요에 따라 내보내기를 사용하는 것이 좋습니다.</p>

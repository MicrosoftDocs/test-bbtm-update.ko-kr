### YamlMime:Yaml
ms.openlocfilehash: 161aaaf618b52e7835cc9a839fe98b6813c7cd59
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139900595"
Slug: snapshot-debugger-for-azure
Title: Azure용 스냅샷 디버거 미리 보기 소개
Summary: 이 게시물에서는 Azure용 스냅샷 디버거를 발표합니다. 애플리케이션 Insights 및 Visual Studio 사용
Content: >-
  <p>스냅샷 디버거는 예외가 발생하거나 다른 관심 지점에서 프로덕션 내 Azure 앱의 스냅샷을 만듭니다. 프로덕션 애플리케이션의 트래픽에 영향을 주지 않고 무엇이 잘못되었는지 정확하게 확인할 수 있습니다.</p>


  <p>이 기능은 <a href="https://azure.microsoft.com/services/application-insights/">Application Insights</a> 및 Visual Studio&rsquo; 완전히 새로운 기능으로, 오늘 발표하게 되어 기쁩니다. Azure의 웹 개발자로서 프로덕션 환경에서 발견된 문제를 해결하는 데 평균 시간을 크게 줄이는 데 도움이 됩니다.</p>


  <p>먼저,&rsquo; <a href="https://go.microsoft.com/fwlink/?linkid=848052">Well은 현재 사용할 수 있는 .NET용 자동 스냅샷의 공개 미리 보기를</a> 설명한 다음&rsquo;, <a href="https://aka.ms/vssnapshotpreview">프라이빗 미리 보기 프로그램에서 사용해 보기 위해 등록할</a> 수 있는 대화형 Snappoint 및 Logpoints 기능을 다룹니다.</p>


  <h2>프로덕션의 문제 진단은 어렵습니다.</h2>


  <p>아무도 프로덕션 서비스에서 문제를 발생시키고 싶지 않으며 모두가 클라우드 속도로 실행하려고 합니다. 로그 및 메트릭은 개발자와 DevOps 엔지니어 &ndash; 가 사용하는 표준 도구이며 많은 &ndash; 도움이 되지만 로그와 메트릭이 근본 원인을 정확히 파악하지 못하는&rsquo; 많은 버그가 있습니다.</p>


  <p>클라우드에서 문제를 진단하는 것은 몇 가지 이유로 특히 시간이 많이 걸립니다.</p>


  <ul>
   <li>다양한 구성, 데이터 및 사용 패턴으로 인해 발생하는 경우가 많습니다.</li>
   <li>로컬에 있는 클라우드에서 쉽게 사용할 수 있는 동일한 디버깅 도구가 없습니다&rsquo;.</li>
   <li>프로덕션 사이트에서 라이브 트래픽을 제공하므로 수행할 수 있는 작업이 제한됩니다.</li>
  </ul>


  <p>Microsoft는 <a href="https://blogs.msdn.microsoft.com/visualstudio/2017/02/09/visual-studio-2017-launch-event-and-20th-anniversary/">20년 이상의 Visual Studio 구축한 경험을 통해</a> Microsoft에서 이 문제를 해결할 수 있는 고유한 위치에 있습니다. 이러한 문제를 해결하는 데 도움이 되도록 스냅샷 디버거를 빌드했습니다.</p>


  <h2>원격 분석에 의해 트리거되는 자동 스냅샷</h2>


  <p>스냅샷 디버거는 프로덕션용으로 빌드된 새로운 도구입니다.&nbsp; 특히 로그가 매달려 있을 때 아무리 어렵더라도 문제를 찾는 데 도움이 됩니다.</p>


  <p>스냅샷 디버거의 공개 미리 보기를 사용하도록 설정하면 애플리케이션 Insights 사용자 환경에서 관찰된 예외에 대한 스냅샷을 자동으로 캡처합니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/69284cfb-4d73-4b46-833c-45210bfc577a.png"><img alt="image" border="0" height="689" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7462b206-8636-4779-9861-e887ca515916.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" title="이미지" width="583"></a></p>


  <p>예외를 수집하도록 애플리케이션 Insights 구성하고, 앱에 <a href="https://www.nuget.org/packages/Microsoft.ApplicationInsights.SnapshotCollector">Microsoft.ApplicationInsights.SnapshotCollector</a> NuGet 패키지를 포함하면 애플리케이션 Insights 포털의 예외에 디버그 스냅샷 열기 링크가 표시됩니다.</p>


  <p>디버그 스냅샷을 열고 클라우드에서 실행되는 Visual Studio&rsquo; 디버그 엔진을 통해 포털에서 경량 보기 환경을 얻을 수 있습니다. 여기에서 각 프레임에서 호출 스택 및 지역 변수를 탐색할 수 있습니다.</p>


  <p align="center"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8e727e06-d97a-428d-9e43-f4d5afff5f47.png"><img alt="open-snapshot-portal" border="0" height="456" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0af0a937-de76-496d-9f39-da5f3d3e637d.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" title="open-snapshot-Portal" width="686"></a></p>


  <h2>Visual Studio 전체 충실도 디버깅</h2>


  <p>표시된 변수에서 문제의 근본 원인을 즉시 식별할 수 있지만 문제를 이해하려면 스냅샷을 자세히 확인해야 할 수 있습니다. 스냅샷 디버거의 기능을 최대한 활용하려면 스냅샷&rdquo; 다운로드를 클릭하여 &ldquo;디버거가 소스 코드에 다시 매핑할 수 있도록 프로덕션 환경에서 수집된 스냅샷 및 기호 파일이 포함된 .diagsession 파일을 다운로드할 수 있습니다.</p>


  <p>스냅샷 파일은 스냅<a href="https://aka.ms/snapshotdebugger">샷 디버거 확장이 설치된</a> Visual Studio Enterprise 2017에서 열 수 있으므로 해당 시점에 프로세스의 전체 상태를 볼 수 있습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2595381f-bfc1-46ae-86d5-ea62f274b07d.png"><img alt="OpenSnapshotVs_770" border="0" height="410" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/92275700-8a81-4891-a852-21839b2d0afc.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" title="OpenSnapshotVs_770" width="770"></a></p>


  <p>Visual Studio 디버거의 모든 기능을 사용하여 예외가 throw된 순간 프로그램의 상태를 검사할 수 있습니다. 덤프 디버깅의 모든 기능은 여기에서 작동합니다.</p>


  <h2>Snappoint 및 Logpoints를 사용한 대화형 스냅샷 디버깅</h2>


  <p>지금까지 weve&rsquo; 오늘 밖으로 시도 하는 사람에 대 한 사용할 수 있는 것에&rsquo; 대해 이야기. 또한 빌드 2017에서 보여 준 스냅샷 디버거의 <a href="https://aka.ms/vssnapshotpreview">Snappoints 및 Logpoints 기능에 대한 프라이빗 미리 보기 프로그램에 등록</a> 하도록 초대합니다. 이러한 기능은 올 여름 공개 미리 보기로 제공됩니다.</p>


  <p>예외에 대한 자동 스냅샷을 시작하는 것이 좋지만 프로덕션 환경을 테스트하기 위한 추가 가설이 있는 경우 어떻게 해야 할까요? 라이브 스냅샷 디버깅 모드에서 Azure에서 실행되는 애플리케이션에 Visual Studio 연결할 수 있습니다. 이 모드에서 중단점 &ldquo;여백&rdquo; 을 클릭하면 프로덕션에서 해당 코드 줄이 실행될 때 스냅샷이 수집되도록 트리거하는 Snappoint가 설정됩니다.</p>


  <p>&nbsp;</p>


  <p align="center"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/eed8432b-fc00-4ae7-a2c8-f14775b49314.png"><img alt="SetSnappoint" border="0" height="124" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/28ce1875-75a1-4b33-9067-ecef426f313c.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" title="SetSnappoint" width="729"></a></p>


  <p align="center"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/42f2ee56-d6d2-4139-bd16-650dc8e2b38d.png"><img alt="Interactive2_Multiple" border="0" height="570" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/25d82629-e399-4e8f-aaa1-33ac6ad5e39b.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" title="Interactive2_Multiple" width="883"></a></p>


  <p>스냅샷은 오른쪽의 이벤트 로그에 표시되며, 두 번 클릭하여 Visual Studio 사용하여 스냅샷을 디버그할 수 있습니다. 상관 관계를 사용하여 가능한 경우 동일한 요청에서 여러 스냅샷을 수집하여 시간이 지남에 따라 상태가 어떻게 변경되었는지 파악할 수 있습니다.</p>


  <p>경우에 따라 특정 사용자에게만 영향을 주거나 특정 조건에서만 발생하는 문제를 추적하는 데 관심이 있을 수 있습니다. 스냅포인트 구성 단추를 클릭하여 조건을 설정하면 스냅샷 컬렉션을 트리거하는 식을 쉽게 입력할 수 있습니다.</p>


  <p>&nbsp;</p>


  <p align="center"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f6211a73-fe42-4347-99e3-fa38440e1f4a.png"><img alt="Interactive3_Conditions" border="0" height="330" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/efbca125-f8d1-46fc-bfbd-5d85276c2db5.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" title="Interactive3_Conditions" width="818"></a></p>


  <p>일부 버그의 경우 전체 스냅샷이 필요하지 않고 시간이 지남에 따라 변수의 값을 볼 수 있습니다. 구성 페이지를 사용하고 작업을&rdquo; 확인하고 &ldquo;메시지를 제공하여 로그포인트를 설정할 수 있습니다.</p>


  <p align="center"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c444ff6a-7bc6-432e-bbff-6fab0e8a7760.png"><img alt="Interactive4_LogPoints" border="0" height="332" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f9c1efdc-a390-4e9f-afd5-d51e439b6f91.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" title="Interactive4_LogPoints" width="921"></a></p>


  <p>로그는 출력 창에 표시되고 표준 로깅 API를 사용하여 애플리케이션 Insights 같은 표준 모니터링 및 로깅 솔루션에서 선택할 수 있습니다.</p>


  <h2>프로덕션 클라우드용 디버거</h2>


  <p>프로세스 스냅샷을 만드는 것은 빠릅니다. 즉, 약 10ms &ndash; 가 걸리며 페이지를 쓰기에 복사로 표시하여 실행 중인 프로세스의 섀도 복사본을 만듭니다. 즉, 주 프로세스가 계속 실행되고 사용자에게 트래픽을 제공하는 동안 메모리를 오프라인으로 분석할 수 있습니다. 스냅샷은 메모리 오버헤드가 낮습니다. 메모리는 주 프로세스가 메모리에 쓸 때만 복사됩니다.</p>


  <p>이 스냅샷 기능을 사용하여 사용자 트래픽에 영향을 주지 않고 알고 좋아하는 도구를 사용하고, 문제 및 근본 원인 문제를 재현하는 데 필요한 데이터를 가져올 수 있는 본격적인 디버깅 환경을 구축했습니다. <a href="https://channel9.msdn.com/Events/Build/2017/B8027">//BUILD/비디오를 확인</a>하여 스냅샷 디버거의 작동을 확인할 수 있습니다.</p>


  <h2>지금 미리 보기 사용해 보기</h2>


  <p>스냅샷 디버거를 사용하는 여정의 시작에 불과하며, Azure에서 클라우드 속도로 디버그할 수 있도록 이러한 모든 기능 &ndash; 과 더 많은 &ndash; 기능을 사용할 수 있도록 기다릴 수&rsquo; 없습니다.</p>


  <p>현재 애플리케이션 Insights 및 Visual Studio 있는 <a href="https://go.microsoft.com/fwlink/?linkid=848052">자동 스냅샷의 공개 미리 보기를</a> 사용해 보시고, <a href="https://aka.ms/vssnapshotpreview">Snappoints 및 Logpoints 프라이빗 미리 보기에 등록</a>하여 이러한 기능을 처음으로 사용해 보세요.</p>

### YamlMime:Yaml
ms.openlocfilehash: 717204186143274505626aed31e788adc025f159
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139905611"
Slug: azure-resource-policy-ga
Title: Azure 리소스 정책 일반 공급 발표
Summary: 오늘 Azure Resource Manager에서 제공하는 리소스 정책의 일반 공급에 대해 발표하게 되어 기쁘게 생각합니다.
Content: >-
  <p>모든 규모의 조직이 클라우드를 채택할 때 회사 정책을 충족하고 거버넌스 요구 사항을 충족하도록 리소스 구성을 제어해야 합니다.</p>


  <p>오늘 Azure Resource Manager에서 제공하는 리소스 정책의 일반 공급에 대해 발표하게 되어 기쁘게 생각합니다.</p>


  <p>리소스 정책을 사용하면 Azure 서비스 및 지역에서 허용되는 리소스 구성을 제어하는 정책 문서를 정의할 수 있습니다. 피드백에 따라 리소스 정책의 기능을 향상시키기 위해 몇 가지 새로운 기능이 추가되었습니다.</p>


  <h2>리소스 SKU 제어</h2>


  <p>AzureCon 이후 Azure 리소스 정책은 태그, 리소스 이름, 서비스 유형 및 위치를 비롯한 많은 패싯을 지원했습니다. 또한 엔터프라이즈 IT가 보안 및 제어 비용을 보장하기 위해 가상 머신 이미지 및 SKU를 제한하려고 한다는 소식을 들었습니다.</p>


  <p>다음 예제에서는 가상 머신 SKU를 Standard_A0 또는 Standard_A1 제한합니다.</p>


  <pre class="prettyprint">

  {
    &quot;if&quot;: {
      &quot;allOf&quot;: [
        {
          &quot;field&quot;: &quot;type&quot;,
          &quot;equals&quot;: &quot;Microsoft.Compute/virtualMachines&quot;
        },
        {
          &quot;not&quot;: {
            &quot;field&quot;: &quot;Microsoft.Compute/virtualMachines/sku.name&quot;,
            &quot;in&quot;: [ &quot;Standard_A0&quot;, &quot;Standard_A1&quot; ]
          }
        }
      ]
    },
    &quot;then&quot;: {
      &quot;effect&quot;: &quot;deny&quot;
    }
  }</pre>


  <p>여러 리소스 종류에 대해 SKU를 제어할 수 있습니다. 자세한 내용은 여기에서 확인할 수 <a href="https://azure.microsoft.com/en-us/documentation/articles/resource-manager-policy/#fields-and-sources">있습니다</a>.</p>


  <h2>VM 이미지 제어</h2>


  <p>SKU와 마찬가지로 VM 이미지 사용을 제어하는 정책을 구현할 수도 있습니다. <a href="https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-linux-cli-ps-findimage/">Azure VM에 대한 이미지는</a> Publisher, 제품, SKU 및 버전으로 정의됩니다.</p>


  <p>아래 예제에서는 사용자가 정식 이미지를 사용하여 VM만 프로비전할 수 있도록 허용 가능한 VM 게시자를 제어하는 방법을 보여 줍니다.</p>


  <pre class="prettyprint">

  {
    &quot;if&quot;: {
      &quot;allOf&quot;: [
        {
          &quot;field&quot;: &quot;type&quot;,
          &quot;equals&quot;: &quot;Microsoft.Compute/virtualMachines&quot;
        },
        {
          &quot;not&quot;: {
            &quot;field&quot;: &quot;Microsoft.Compute/virtualMachines/imagePublisher&quot;,
            &quot;equals&quot; : &quot;Canonical&quot;
          }
        }
      ]
    },
    &quot;then&quot;: {
      &quot;effect&quot;: &quot;deny&quot;
    }
  }</pre>


  <h2>기본 태그 또는 속성 적용</h2>


  <p>프로비전 프로세스 중에 특정 태그 또는 속성이 Azure 리소스에 추가되도록 할 수도 있습니다. 예를 들어 costCenter 태그를 &ldquo;지정하지 않으면&rsquo; 이 정책은 미리 정의된 값이 있는 태그를 추가&rdquo;합니다.&nbsp;</p>


  <pre class="prettyprint">


  &nbsp;</pre>


  <p>&nbsp;</p>


  <p><code><code>{<br />

  &nbsp; &quot;if&quot;: {<br />

  &nbsp;&nbsp;&nbsp; &quot;field&quot;: &quot;tags&quot;,<br />

  &nbsp;&nbsp;&nbsp; &quot;exists&quot;: &quot;false&quot;<br />

  &nbsp; },<br />

  &nbsp; &quot;then&quot;: {<br />

  &nbsp;&nbsp;&nbsp; &quot;effect&quot;: &quot;append&quot;,<br />

  &nbsp;&nbsp;&nbsp; &quot;details&quot;: [<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;field&quot;: &quot;tags&quot;,<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;value&quot;: { &quot;costCenter&quot;: &quot;myDepartment&quot; }<br />

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />

  &nbsp;&nbsp;&nbsp; ]<br />

  &nbsp; }<br />

  }</code></code></p>


  <h2>정책 평가 이벤트에 대한 경고</h2>


  <p>&nbsp;</p>


  <p>정책 위반에 의해 트리거되는 경고 규칙을 정의할 수도 있습니다. 경고는 이메일 알림을 트리거하거나 웹후크를 호출할 수 있습니다. 아래 PowerShell은 정책에서 사용자 작업을 거부할 때 트리거되는 경고 규칙을 정의합니다.</p>


  <pre class="prettyprint">

  $action = New-AzureRmAlertRuleWebhook -ServiceUri &quot;your web hook url&quot;

  Add-AzureRmLogAlertRule -Name &lt;alertrulename&gt; -Location &lt;location&gt; -ResourceGroup &lt;resourcegroupName&gt; -OperationName Microsoft.Authorization/policies/deny/action -TargetResourceGroup &lt;resourcegrouptomonitor&gt; -Actions $action

  </pre>


  <p>정책 위반에 대한 경고 규칙에 대해 자세히 알아보려면 //Build에서 <a href="https://channel9.msdn.com/Events/Build/2016/T690">Ryans&rsquo; 세션을</a> 확인하세요.</p>


  <p>피드백을 보내주세요! 리소스 정책에 익숙하지 않은 경우&rsquo; <a href="https://aka.ms/azurepolicy">시작하려면 Azure 설명서</a> 및 <u><a href="https://www.youtube.com/watch?v=R11V3iDs_Lw#t=23">이 비디오를</a></u> 참조하세요.</p>

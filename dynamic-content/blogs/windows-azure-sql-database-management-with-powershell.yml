### YamlMime:Yaml
ms.openlocfilehash: 7f80f6a82eddbe417e744a2e6dd13d3a051569b6
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139911494"
Slug: windows-azure-sql-database-management-with-powershell
Title: PowerShell을 사용한 Windows Azure SQL Database 관리
Summary: '편집자 주: 이 게시물은 수석 기술 작가&nbsp;인 Microsoft Data Platform 팀인 Karthika Raman에서 제공됩니다.  2012년 11월에 Windows Azure PowerShell cmdlet이 출시되면서 몇 가지...'
Content: '<p><strong>편집기 참고 사항: </strong> 이 게시물은 Microsoft Data Platform 팀의 수석 기술 작가&nbsp;인 <a href="https://twitter.com/karaman_ms" target="_blank">Karthika Raman</a>이 게시한 것입니다.</p>  <p>2012년 11월에 Windows Azure PowerShell cmdlet이 릴리스되면서 Windows Azure SQL Database 위해 여러 PowerShell cmdlet이 추가되었습니다.&nbsp; 추가된 cmdlet을 사용하여 데이터베이스 서버를 프로비전하고, 방화벽 규칙을 구성하고, 데이터베이스를 쉽게 만들 수 있습니다.</p>  <p>이 블로그 게시물은 시작하기 위한 정보를 제공하고, Windows Azure 구독에 연결하고, 서버를 프로비전하고, 방화벽 규칙을 구성하고, 데이터베이스를 만들고 구성하는 단계별 연습에 대한 코드 예제를 제공합니다. 작업이 완료되면 데이터베이스와 서버를 삭제하는 작업이 포함됩니다.&nbsp; Windows Azure SQL Database cmdlet을 사용하여 Windows Azure SQL Database 관리하려면 최신 <a href="https://azure.microsoft.com/en-us/develop/downloads/" target="_blank">Windows Azure SDK</a>를 설치해야 합니다.</p>  <p>확장 버전의 스크립트는 <a href="https://go.microsoft.com/fwlink/?LinkId=280226" target="_blank">TechNet 코드 갤러리에서 다운로드</a>할 수 있습니다.</p>  <p>이전에 Windows Azure PowerShell 사용한 적이 없는 경우 다음 단계를 사용하여 시작합니다.</p>  <ol start="1">  <li>Windows 8, Windows 7, Windows Server 2012 또는 Windows Server 2008 R2를 실행하는 컴퓨터를 선택합니다.</li>  <li>관리 인증서를 Windows Azure 구독에 업로드. 이렇게 하면 클라이언트가 Windows Azure에 액세스할 수 있습니다.&nbsp;</li>  <li><a href="https://msdn.microsoft.com/en-us/library/jj554332(v=azure.100).aspx#BKMK_install" target="_blank">Windows PowerShell Windows Azure 모듈 설치: Windows</a> Azure 모듈을 설치한 다음 Window PowerShell 실행 정책을 설정합니다. Windows PowerShell 실행 정책은 구성 파일 및 스크립트가 실행되는 조건을 결정합니다. Windows Azure PowerShell 명령 셸을 사용하거나 Windows Azure cmdlet을 Windows PowerShell 직접 가져와 cmdlet을 실행할 수 있습니다.</li>  <li><a href="https://msdn.microsoft.com/en-us/library/jj554332(v=azure.100).aspx#BKMK_Configure" target="_blank">Windows Azure와 워크스테이션 간의 연결 구성</a>: Windows Azure에서 PublishSettings 파일을 다운로드하고 가져와서 관리 인증서 및 구독 세부 정보를 자동으로 구성합니다. <strong>Set-AzureSubscription</strong> cmdlet을 사용하여 수동으로 구성할 수 있습니다. 다음 샘플 코드를 사용하여 구독에 연결할 때 사용할 구독 및 인증서를 구성합니다.&nbsp; 이 작업은 모든 구독 및 각 새 클라이언트 머신에 대해 한 번 수행해야 합니다.</li>  </ol>  <p style="padding-left: 30px;">$thumbprint = "24189B94425ECDF8536C547730A8DDE2B6DF3E5E"</p>  <p style="padding-left: 30px;">$myCert = Get-Item cert:\\CurrentUser\Mythumbprint\$</p>  <p style="padding-left: 30px;">$subID = "e2f275b8-2739-4593-a5e8-6d9ee1539267"</p>  <p style="padding-left: 30px;">Set-AzureSubscription -SubscriptionName "msdn" -SubscriptionId $subID -Certificate $myCert</p>  <div>  <p><em>초기 설정을 완료하면 Windows Azure SQL Database cmdlet 관리를 시작할 수 있습니다.</em></p>  </div>  <p>Windows Azure SQL Database cmdlet 목록을 보려면 help sql&rdquo;을 입력&ldquo;합니다.</p>  <p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6607.blue-box-powershell.png" alt="" border="0"></p>  <p>다음은 서버를 프로비전하고, 새 서버에 방화벽 규칙을 추가하고, 새 데이터베이스를 만드는 단계별 연습입니다. 작업이 완료되면 데이터베이스 및 서버를 제거하는 단계가 포함됩니다.&nbsp; 확장 버전의 스크립트는 <a href="https://go.microsoft.com/fwlink/?LinkId=280226" target="_blank">TechNet 코드 갤러리에서 다운로드</a>할 수 있습니다.</p>  <ol>  <li>사용할 구독 선택:Select-AzureSubscription -SubscriptionName "msdn"<br>  <p>Get-AzureSubscription 사용하여 기본 구독 데이터 파일에 저장된 모든 구독을 나열할 수 있습니다. 이 cmdlet 사용에 대한 자세한 내용은 <a href="https://msdn.microsoft.com/en-us/library/jj152863.aspx" target="_blank">이 항목을</a> 참조하세요.</p>  </li>  <li>첫 번째 단계에서 지정한 구독의 모든 기존 SQL Database 서버를 나열합니다.<br><br>Get-AzureSqlDatabaseServer<br>&nbsp; &nbsp;&nbsp;<img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3731.ps-step-2.png" alt="" border="0"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1553/3731.ps-step-2.png"><br><br></a></li>  <li>새 SQL Database 서버 프로비전: New-AzureSqlDatabaseServer cmdlet을 사용하여 새 데이터베이스 서버를 만듭니다. 위치, administratorLogin 및 암호를 제공합니다.<br>  <p>New-AzureSqlDatabaseServer -location "West US" -AdministratorLogin "mylogin" -AdministratorLoginPassword "my@Password&rdquo;<br>&nbsp; &nbsp; &nbsp;<img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3678.step-3.png" alt="" border="0"></p>  <p>참고: 서버 속성을 업데이트하려면 <a href="https://msdn.microsoft.com/en-us/library/jj871051.aspx" target="_blank">Set-AzureSqlDatabaseServer</a> cmdlet을 사용합니다.</p>  </li>  <li>방화벽 규칙 만들기: 데이터베이스 서버에 대한 연결을 허용하려면 연결이 허용되는 IP 주소 범위를 지정하는 규칙을 만들어야 합니다. New-AzureSqlDatabaseServerFirewallRule 사용하여 새 방화벽 규칙을 만듭니다. 서버 이름 및 IP 주소 범위 지정(시작 및 종료)<br>  <p>New-AzureSqlDatabaseServerFirewallRule -ServerName "sub9zmyalg" -RuleName "myrule" -StartIPAddress "111.111.111.222" -EndIPAddress "222.222.222.222"</p>  <p>참고: 서버에 대한 규칙 목록을 얻으려면 <a href="https://msdn.microsoft.com/zh-cn/library/jj585427" target="_blank">Get-AzureSqlDatabaseServerFirewallRule</a> cmdlet을 사용합니다.&nbsp;</p>  </li>  <li>Sql 인증을 사용하여 서버에 대한 연결을 만듭니다. 그러면 서버에 대한 연결 컨텍스트가 설정됩니다. 그러면 서버에서 다양한 작업을 수행하는 데 사용할 수 있습니다. 이 작업을 수행하는 방법에는 두 가지가 있습니다.<br><br>  <ul>  <li>아래와 같이 로그인 및 암호 정보를 제공하라는 메시지가 표시되는 Get-Credential cmdlet 사용<br>&nbsp;</li>  </ul>  <blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">$cred = Get-Credential</blockquote>  <blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">&nbsp;<img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3113.step-4.png" alt="" border="0"></blockquote>  <blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><br>#자격 증명을 사용하여 새 데이터베이스 서버 연결 컨텍스트 만들기<br>&nbsp;</blockquote>  <blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">New-AzureSqlDatabaseServerContext&nbsp; -ServerName &ldquo;sub9myalg&rdquo; &ndash;자격 증명 $cred<br>&nbsp;</blockquote>  <ul>  <li>&nbsp;로그인 정보를 포함하는 자격 증명 개체를 만들어 다음을 수행합니다.<br>&nbsp;</li>  </ul>  <blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">$servercredential = new-object <br>System.Management.Automation.PSCredential("mylogin", ("my@Password"&nbsp; | <br>ConvertTo-SecureString -asPlainText -Force))</blockquote>  <blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">#연결 컨텍스트 만들기</blockquote>  <blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;">$ctx = $server | New-AzureSqlDatabaseServerContext -자격 증명 $serverCredential&nbsp;<br>&nbsp;</blockquote>  </li>  <li>새 데이터베이스 만들기: New-AzureSqlDatabase cmdlet을 사용하여 새 데이터베이스를 만듭니다. 데이터베이스 이름만 지정하면 지정한 이름의 데이터베이스가 다른 속성의 기본값으로 만들어집니다. 결과 데이터베이스는 MaxSize가 1GB이고 데이터 정렬이 SQL_Latin1_General_CP1_CI_AS 웹 버전 데이터베이스입니다.<br><br>  <p>&ndash;databaseName &ldquo;mydatabase New-AzureSqlDatabase $ctx&rdquo;&nbsp;</p>  <img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7144.step-6.png" alt="" border="0">&nbsp;<br><br>  <p>참고: 서버의 모든 데이터베이스 목록을 얻으려면 <a href="https://msdn.microsoft.com/en-us/library/windowsazure/jj871052.aspx" target="_blank">Get-AzureSqlDatabase</a> cmdlet을 사용합니다.</p>  </li>  <li>데이터베이스 수정: Set-AzureSqlDatabase cmdlet을 사용하여 데이터베이스 속성을 변경합니다.&nbsp; 다음 예제에서는 이전 단계에서 만든 데이터베이스의 최대 크기를 수정하는 방법을 보여 줍니다. 첫 번째 cmdlet은 MaxSize 속성을 수정하고 두 번째 cmdlet은 변경 사항을 확인할 수 있도록 속성을 표시합니다.<br>  <p>&ndash;Set-AzureSqlDatabase $ctx Databasename &ldquo;mydatabase&rdquo; &ndash;MaxSizeGB 20</p>  <p>&ndash;databaseName &ldquo;mydatabase Get-AzureSqlDatabase $ctx&rdquo;</p>  <p><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7824.step-7.png" alt="" border="0">&nbsp;</p>  </li>  <li>데이터베이스 삭제: Remove-AzureSqlDatabase cmdlet을 사용하여 특정 데이터베이스를 삭제합니다.&nbsp; 아래 그림과 같이 확인 프롬프트가 표시됩니다.<br>  <p>&ndash;databaseName &ldquo;mydatabase Remove-AzureSqlDatabase $ctx&rdquo;</p>  <p><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7367.step-8.png" alt="" border="0">&nbsp;</p>  </li>  <li>데이터베이스 서버 삭제: Remove-AzureSqlDatabaseServer 사용하여 데이터베이스 서버를 삭제합니다. 아래 그림과 같이 확인 프롬프트가 표시됩니다.<br>  <p>&ndash;Remove-AzureSqlDatabaseserver ServerName &ldquo;sub9zmyalg&rdquo;</p>  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2450.step-9.png"><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2450.step-9.png" alt="" border="0"></a></p>  </li>  </ol>  <p><strong>추가 읽기</strong></p>  <p><a href="https://msdn.microsoft.com/en-us/library/jj585422.aspx" target="_blank">Windows Azure SQL Database cmdlet</a></p>  <p><a href="" target="_blank"></a></p>  <p><a href="https://www.sqlskills.com/blogs/bobb/getting-windows-azure-sql-database-diagnostics-using-windows-azure-cmdlets/" target="_blank">https://www.sqlskills.com/blogs/bobb/getting-windows-azure-sql-database-diagnostics-using-windows-azure-cmdlets/</a></p>'

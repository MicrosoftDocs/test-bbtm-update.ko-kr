### YamlMime:Yaml
ms.openlocfilehash: 3cfa0da794216ebb86096c3bf86ff3baf7d4e611
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139898638"
Slug: deep-dive-into-azure-hdinsight-4-0
Title: Azure HDInsight 4.0 심층 분석
Summary: '이제 HDInsight 4.0을 공개 미리 보기로 사용할 수 있음을 발표하게 되어 기쁩니다. HDInsight 4.0은 지속적으로 증가하는 빅 데이터 및 고급 분석 문제를 해결하기 위해 오픈 소스 커뮤니티와 파트너 Hortonworks의 5년 이상의 작업을 나타내는 최신 Apache Hadoop 3.0 혁신을 주요 Apache 프레임워크에서 제공합니다. '
Content: >-
  <p>이제 HDInsight 4.0을 공개 미리 보기로 사용할 수 있음을 발표하게 되어 기쁩니다. HDInsight 4.0은 지속적으로 증가하는 빅 데이터 및 고급 분석 문제를 해결하기 위해 오픈 소스 커뮤니티와 파트너 Hortonworks의 5년 이상의 작업을 나타내는 최신 Apache Hadoop 3.0 혁신을 주요 Apache 프레임워크에서 제공합니다. 이 릴리스에서는 HDInsight의 모든 빅 데이터 오픈 소스 프레임워크에 새로운 향상된 기능을 제공합니다.</p>


  <p>이 블로그에서는 Apache Hive 3.0, Hive Spark 통합, Apache HBase 및 Apache Phoenix에 사용할 수 있는 새로운 기능을 강조 표시합니다.</p>


  <h2>빠른 쿼리 및 트랜잭션에 대한 Apache Hive 3.0 개선 사항</h2>


  <p>현재까지 역사적인 데이터와 실시간 데이터를 대규모로 포괄적으로 구동하는 것은 복잡하고 어려운 작업입니다. 많은 조직에서 실행 가능한 BI 솔루션을 빌드하기 위해 여러 오픈 소스 및&nbsp; 전용 도구를 함께 연결했습니다. 이러한 솔루션에는 데이터를 핫하게 유지하기 위해 지루한 데이터 이동, 복잡한 파이프라인 관리 또는 지속적인 수동 데이터 분리가 필요한 경우가 많습니다. 빌드가 복잡하고, 작동이 어렵고, 크기 조정이 어려운 경우가 많습니다.</p>


  <p>고객은 점점 더 단순하면서도 강력한 엔터프라이즈급 솔루션을 찾고 있습니다. Microsoft는 데이터 레이크를 기반으로 실시간 분석을 직접 사용하도록 설정하여 분석, BI 대시보드 또는 복잡한 임시 SQL 쿼리에 대한 데이터 이동의 필요성을 줄이는 아이디어에 집착하고 있습니다.</p>


  <p>Hive LLAP(HDInsight의 대화형 쿼리로 알려진 짧은 대기 시간 분석 처리)는 확장성 Hive 및 Hadoop을 희생하지 않고 다양한 데이터 원본에 저장된 데이터에 대해 초고속 SQL 쿼리를 제공합니다. Hive LLAP를 사용하면 고객은 복잡한 조인, 하위 쿼리, 창 함수 변환, 정렬, UDF 및 복잡한 집계와 관련된 분석을 추진할 수 있습니다. Hive LLAP를 사용하면 데이터 분석가가 데이터가 준비된 동일한 스토리지에서 대화형으로 데이터를 쿼리할 수 있으므로 분석을 위해 스토리지에서 다른 엔진으로 데이터를 이동할 필요가 없습니다.</p>


  <p>Hive LLAP의 <a href="https://azure.microsoft.com/en-us/blog/hdinsight-interactive-query-performance-benchmarks-and-integration-with-power-bi-direct-query/">성능 및 확장성은</a> 잘 확립되어 있습니다. BI 사용자 및 데이터 과학자는 <a href="https://azure.microsoft.com/en-us/blog/azure-hdinsight-interactive-query-ten-tools-to-analyze-big-data-faster/">LLAP에서 Hive를 사용하기 위해 가장 좋아하는 도구를</a> 사용할 수 있습니다.</p>


  <p>Hive 3.0은 추가적인 성능 향상을 제공하므로 BI 사용자가 데이터 레이크에 대한 심층 분석을 쉽게 추진할 수 있습니다.</p>


  <h3>결과 캐싱</h3>


  <p>쿼리 결과를 캐싱하면 Hive에서 동일한 쿼리를 처리하는 경우 이전에 계산된 쿼리 결과를 다시 사용할 수 있습니다. 이 기능은 자주 사용하는 쿼리의 속도를 크게 향상합니다. 결과 캐싱을 사용하도록 설정하면 클러스터는 컴퓨팅 리소스를 저장하고 이전에 캐시된 결과를 훨씬 더 빠르게 반환하여 사용자가 제출한 일반적인 쿼리의 성능을 향상합니다.</p>


  <h3>동적 구체화된 뷰</h3>


  <p>이제 Hive는 동적 구체화된 뷰를 지원합니다. 요약(구체화된 뷰)의 사전 계산은 기존 데이터 웨어하우징 시스템의 쿼리 속도 향상 기술입니다. 만든 후에는 구체화된 뷰를 Hive 또는 Apache Druid 계층에 기본적으로 저장할 수 있으며 LLAP 가속을 원활하게 사용할 수 있습니다. 그런 다음, 최적화 프로그램은 Apache Calcite를 사용하여 프로젝션, 필터, 조인 및 집계 작업으로 구성된 대규모 쿼리 식 집합에 대한 전체 및 부분 재작성을 자동으로 생성합니다.</p>


  <h3>Apache Hive 트랜잭션에서 사용하도록 설정된 더 나은 데이터 품질 및 GDPR 규정 준수</h3>


  <p>Hive의 이전 버전의 ACID(원자성, 일관성, 격리 및 내구성)에는 트랜잭션 사용 및 버킷팅 구현과 같은 특수한 구성이 필요했지만 Hive 3.0의 ACID v2는 비 ACID 테이블에 비해 성능이 동일하거나 더 나은 스토리지 형식 및 실행 엔진 모두에서 성능 향상을 제공합니다. ACID on은 기본적으로 데이터 업데이트에 대한 전체 지원을 허용하도록 설정됩니다.</p>


  <p>향상된 ACID 기능을 통해 고객은 행 수준에서 데이터 품질(업데이트/삭제) 문제를 더 잘 처리하고 행 수준에서 데이터를 지울 수 있는 기능을 통해 GDPR과 같은 규정 준수 요구 사항을 충족할 수 있습니다.</p>


  <ul>
   <li>ACID(Hive 3.0의 기본값)</li>
   <li>성능 오버헤드 없음</li>
   <li>버킷팅 필요 없음</li>
   <li>Spark는 Hive Warehouse 커넥터를 통해 Hive ACID 테이블을 읽고 쓸 수 있습니다.</li>
  </ul>


  <h3>Apache Hive LLAP + Druid = 여러 SQL 사용 사례에 대한 단일 도구</h3>


  <p>Druid는 사용자 지향 분석 애플리케이션 및 실시간 아키텍처에 적합한 고성능 열 지향 분산 데이터 저장소입니다. Druid는 조각 및 주사위, 드릴다운, 검색, 필터링 및 집계 이벤트 스트림에 대한 하위 초 쿼리에 최적화되어 있습니다. Druid는 일반적으로 수천 명의 동시 사용자와 함께 초 미만의 성능이 예상되는 대화형 애플리케이션에 전원을 공급하는 데 사용됩니다.</p>


  <p>Hive LLAP는 복잡한 쿼리에 대한 대화형 환경을 제공하는 데 적합하지만 OLAP 시스템으로 빌드되지는 않습니다. 복잡한 SQL 및 OLAP 형식 쿼리 모두에 대한 단일 솔루션을 제공하기 위해 Hive LLAP와 Apache Druid 통합을 HDInsight로 가져오고 있습니다.</p>


  <p>단일 스택에서 Druid와 LLAP를 결합하여 고객에게 강력한 BI 솔루션을 사용하도록 설정하고 있습니다. 사용자와 애플리케이션은 JDBC 엔드포인트를 사용하여 쿼리를 제출할 수 있으며 쿼리의 특성에 따라 Druid 계층 또는 LLAP 계층에서 쿼리에 응답할 수 있습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d4f0ce22-302a-461d-a710-fe0593c29c1e.png"><img alt="image" border="0" height="341" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/33814138-5147-457c-9c4e-444b233001df.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="이미지" width="613"></a></p>


  <p>&nbsp;</p>


  <p>간단한 쿼리는 Druid에서 직접 응답할 수 있으며 Druids&rsquo;의 광범위한 OLAP 최적화를 활용할 수 있습니다. 더 복잡한 작업은 작업이 가능하면 Druid로 작업을 푸시한 다음 Hive LLAP에서 쿼리의 나머지 비트를 실행합니다.</p>


  <p><em>*DRuid LLAP 통합은 HDInsight 4.0 미리 보기에서 사용할 수 없습니다. 개봉박두!</em></p>


  <h2>Apache Spark는 Hive Warehouse 커넥터를 사용하여 업데이트할 수 있는 테이블 및 ACID 트랜잭션을 가져옵니다.</h2>


  <p>HDInsight 4.0의 Apache Spark와 Hive LLAP 간의 새로운 통합은 비즈니스 분석가, 데이터 과학자 및 데이터 엔지니어에게 새로운 기능을 제공합니다. 비즈니스 분석가는 Hive LLAP(대화형 쿼리) 형식의 고성능 SQL 엔진을 얻는 반면 데이터 과학자와 데이터 엔지니어는 Hive 테이블의 트랜잭션 데이터에 대해 Apache Spark를 사용하여 ML 실험 및 ETL을 위한 훌륭한 플랫폼을 얻습니다. 이 통합은 Apache Spark&mdash;에서 제어된 트랜잭션 방식으로 테이블 업데이트를 수행할 수 없는 오랜 간격 중 하나를 닫습니다. 이전에는 사용 가능한 유일한 기능이 테이블 파티션 조작으로 제한되었지만, 이제 Hive Warehouse Connector를 사용하면 사용자는 Hive 트랜잭션 테이블을 Spark의 외부 테이블로 등록하고 Spark에서 전체 트랜잭션 기능을 얻을 수 있습니다.</p>


  <p>사용할 수 있는 시나리오는 다음과 같습니다.</p>


  <ul>
   <li>비즈니스 분석가가 보고에 사용하는 것과 동일한 트랜잭션 테이블에서 ML 모델 학습을 실행하시겠습니까? 이제 HDInsight 4.0의 Apache Spark에서 이 작업을 수행할 수 있습니다.</li>
   <li>비즈니스 분석가가 사용할 Hive 테이블에 Spark ML 예측 점수 또는 분류 결과를 열로 추가하시겠습니까? Spark에서 ACID 트랜잭션을 시작하여 동시 사용자 간에 읽기 일관성을 쉽고 완전히 보장할 수 있습니다.</li>
   <li>Apache Spark에서 GDPR에 따라 사용자 데이터를 관리해야 합니까? Spark에서 Hive Warehouse 커넥터로도 이 작업을 수행할 수 있습니다.</li>
   <li>Hive 스트리밍 테이블의 변경 피드에서 Spark 스트리밍 작업을 실행하시겠습니까? 심지어는 가능합니다. Hive Warehouse Connector는 Spark에서 트랜잭션 및 스트리밍 Hive 테이블에 읽기 및 쓰기를 스트리밍하기 위한 스트리밍 데이터 프레임을 지원합니다.</li>
   <li>Spark 구조적 스트리밍 작업에서 직접 ORC 파일을 만들어야 합니까? 이 경로는 현재 Apache Spark에서 사용할 수 있는 Hive 호환 ORC 기록기 덕분에 가능합니다.</li>
  </ul>


  <p>아래와 같이 Hive Warehouse 커넥터는 최신 Apache Spark 데이터 원본 v2로 구현됩니다. 이를 통해 Spark 실행기는 Hive LLAP 디먼에 직접 연결하여 트랜잭션 방식으로 데이터를 검색하고 업데이트할 수 있습니다. 이 아키텍처를 사용하면 최종 데이터 제어를 유지하는 Hive로&rsquo; Spark 쪽에서 Hive 트랜잭션 기능의 전체 스펙트럼을 완전히 지원합니다. 이 아키텍처는 사용자가 실수로 Spark에서 직접 Hive 트랜잭션 테이블에 액세스하려고 시도하는 일반적인 문제를 방지하여 일관되지 않은 결과, 중복 데이터 또는 데이터 손상을 초래합니다.</p>


  <p>HDInsight 4.0의 새로운 세계에서는 테이블 형식의 혼동을 방지하기 위해 Spark 테이블과 Hive 테이블이 별도의 메타 저장소에 유지됩니다. 대신 새 아키텍처를 사용하려면 Hive Warehouse Connector를 통해 Hive 트랜잭션 테이블을 Spark 외부 테이블로 명시적으로 등록해야 합니다. 구성 중에 한 단계를 더 추가하는 반면, 이 접근 방식은 데이터 액세스의 안정성을 크게 향상합니다. Hive Warehouse Connector는 Spark 실행기와 Hive LLAP 디먼 간의 효율적인 조건자 푸시다운 및 Apache 화살표 기반 통신을 지원합니다. 이로 인해 두 시스템 간의 통신 오버헤드가 전반적으로 줄어듭니다. Hive Warehouse Connector를 사용하면 HDInsight 4.0의 Apache Spark가 완성도 높은 트랜잭션 기능을 얻을 수 있습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/97402786-28f1-49ef-9e03-ee57b1de207c.png"><img alt="image" border="0" height="275" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/83f6164b-20b0-4358-a3cf-7931ca94a907.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="이미지" width="624"></a></p>


  <p>&nbsp;</p>


  <h2>Apache HBase 2.0 및 Apache Phoenix 5.0은 새로운 성능 및 안정성 기능을 제공합니다.</h2>


  <p>HDInsight 4.0에서 HBase 2.0 및 Phoenix 5.0을 몇 가지 성능, 안정성 및 통합 개선 사항으로 도입했습니다.</p>


  <p><strong>메모리 내 압축은 성능을 향상시킵니다.</strong> HBase 2.0에는 메모리 내 압축이 도입되었습니다. HBase에서 데이터가 더 오랜 시간 동안 메모리에 보관되고 원격 클라우드 스토리지에서 너무 자주 플러시되거나 읽지 않을 때 성능이 향상됩니다. 메모리 내 압축을 사용하여 Memstore에서 데이터를 주기적으로 재구성하면 데이터가 Azure Storage 읽기 및 쓰기 빈도가 낮아짐에 따라 전체 I/O가 감소할 수 있습니다.</p>


  <p><strong>읽기/쓰기 경로 개선으로 성능이 향상되었습니다.</strong> HBase 2.0은 이제 완전히 오프 힙 읽기/쓰기 경로를 구현합니다. 데이터가 HBase 처리량 작업에 기록되면 데이터가 HFile의 스토리지로 플러시될 때까지 셀 개체가 JVM 힙에 들어가지 않습니다. 이렇게 하면 RegionServer의 총 힙 사용량을 줄이고 더 적은 데이터를 복사하여 더 효율적으로 만들 수 있습니다. 버킷 캐시는 L1 또는 L2 캐시로 구성할 수 있습니다.</p>


  <p><strong>프로시저 V2.</strong> 프로시저 V2는 오류가 발생할 때 다단계 HBase 관리 작업을 실행하기 위한 업데이트된 프레임워크입니다. 이 프레임워크를 사용하여 프로시저 v2를 사용하여 모든 마스터 작업을 구현하여 향후 hbck과 같은 도구의 필요성을 제거할 수 있습니다.</p>


  <p><strong>비동기 Java 클라이언트 API.</strong> HBase 2.0에는 새 Java 클라이언트 API가 있습니다. 그러면 이전 Java NIO RPC 서버가 Netty RPC 서버로 바뀝니다. Netty RPC 서버는 비동기 Java 클라이언트 API를 쉽게 사용할 수 있는 기능을 제공합니다.</p>


  <p><strong>Apache Phoenix 개선 사항.</strong> Phoenix 5.0은 새 시스템 테이블 &quot;SYSTEM을 도입하여 쿼리 로그를 사용하여 쿼리에 대한 가시성을 높입니다. 클러스터에 대해 실행 중인 쿼리에 대한 정보를 캡처하는 LOG&quot; 입니다. Hive 3.0은 업데이트된 phoenix-hive Storage 처리기를 통해 Phoenix에서 지원되며 Spark 2.3은 업데이트된 phoenix-spark 드라이버를 통해 지원됩니다.</p>


  <h2>요약</h2>


  <p>HDInsight 4.0은 많은 주요 기능이 향상된 중요한 릴리스입니다. 이 블로그 게시물은 고객이 빅 데이터 비전을 실현하는 데 도움이 되는 기능의 일부만 검토합니다. HDInsight에 제공하는 새로운 기능에 대한 추가 공지 사항을 계속 확인하세요.</p>


  <h3>지금 Azure HDInsight 사용해 보기</h3>


  <p>Azure HDInsight를 사용하여 빌드할 내용을 확인하게 되어 기쁩니다. <a href="https://azure.microsoft.com/en-us/blog/azure-hdinsight-training-resources-learn-about-big-data-using-open-source-technologies/">이 개발자 가이드를 읽고</a> <a href="https://docs.microsoft.com/en-us/azure/hdinsight/hadoop/apache-hadoop-linux-tutorial-get-started">빠른 시작 가이드</a> 에 따라 Azure HDInsight에서 이러한 파이프라인 및 아키텍처를 구현하는 방법에 대해 자세히 알아보세요. Twitter <a href="https://twitter.com/search?q=%23HDInsight&amp;src=typd">#HDInsight</a> 및 에서 팔로우하여 최신 Azure HDInsight 뉴스 및 <a href="https://twitter.com/AzureHDInsight">@AzureHDInsight</a>기능을 최신 상태로 유지하세요. 질문과 피드백은 문의하세요 <a href="mailto:AskHDInsight@microsoft.com">AskHDInsight@microsoft.com</a>.</p>


  <h3>Azure HDInsight 정보</h3>


  <p>Azure HDInsight는 고객이 Apache Hadoop, Spark, Kafka 등을 비롯한 인기 있는 오픈 소스 프레임워크를 쉽게 실행할 수 있도록 하는 오픈 소스 분석을 위한 쉽고 비용 효율적인 엔터프라이즈급 서비스입니다. 이 서비스는 미국과 독일의 27개 공용 지역 및 Azure Government 클라우드에서 사용할 수 있습니다. Azure HDInsight는 다양한 분야에서 중요 업무용 애플리케이션을 지원하며 ETL, 스트리밍 및 대화형 쿼리를 비롯한 광범위한 사용 사례를 지원합니다.</p>


  <p><em>이 블로그 게시물은 Maxim Lukiyanov(수석 프로그램 관리자, Azure HDInsight)가 공동 저술했습니다. </em></p>


  <h3>추가 리소스</h3>


  <ul>
   <li><a href="https://social.msdn.microsoft.com/forums/azure/en-us/home?forum=hdinsight">MSDN 포럼에서 HDInsight 질문하기</a></li>
   <li><a href="https://stackoverflow.com/questions/tagged/hdinsight">StackOverflow에 대한 HDInsight 질문하기</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-component-versioning#hadoop-components-available-with-different-hdinsight-versions">HDInsight의 오픈 소스 구성 요소 가이드</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/hdinsight/interactive-query/apache-interactive-query-get-started">Azure에서 HDInsight 대화형 쿼리 클러스터 시작</a></li>
   <li><a href="https://azure.microsoft.com/en-us/blog/hdinsight-interactive-query-performance-benchmarks-and-integration-with-power-bi-direct-query/">Azure HDInsight 성능 벤치마킹: 대화형 쿼리, Spark 및 Presto</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/hdinsight/">Azure HDInsight에 대해 자세히 알아보기</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-hadoop-linux-tutorial-get-started">HDInsight에서 Hive 사용</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-release-notes">HDInsight 릴리스 정보</a></li>
  </ul>

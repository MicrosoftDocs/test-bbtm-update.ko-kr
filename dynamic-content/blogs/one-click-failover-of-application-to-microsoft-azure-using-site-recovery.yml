### YamlMime:Yaml
ms.openlocfilehash: db47e42aad3ccd269c282260448bd2966bbd57b8
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139908812"
Slug: one-click-failover-of-application-to-microsoft-azure-using-site-recovery
Title: 원클릭 클라우드 마이그레이션 및 애플리케이션 재해 복구
Summary: 재해 복구는 가상 머신을 복제하는 것뿐만 아니라 Azure Site Recovery 약속인 재해가 발생할 때 여러 번 테스트되고 오류가 없으며 스트레스가 없는 종단 간 애플리케이션 복구에 관한 것입니다. Microsoft Azure 애플리케이션이 실행되는 것을 본 적이 없는 경우 실제 재해가 발생할 때 가상 머신이 부팅되었을 수 있지만 비즈니스는 중단된 상태로 유지될 수 있습니다. 애플리케이션 복구와 관련된 중요성과 복잡성은 이 시리즈의 이전 블로그인 Azure Site Recovery를 사용하는 가상 머신뿐만 아니라 애플리케이션에 대한 재해 복구에 대해 설명했습니다. 이 블로그에서는 실제 애플리케이션을 퍼블릭 클라우드로 복구하는 예제를 사용하여 복구 계획의 Azure Site Recovery 구문을 사용하여 애플리케이션을 장애 조치(failover)하거나 가장 테스트되고 결정적인 방식으로 Microsoft Azure 마이그레이션하는 방법을 설명합니다.
Content: >-
  <p>클라우드 마이그레이션 또는 재해 복구는 가상 머신을 복제하는 것뿐만 아니라 마이그레이션을 결정할 때 또는 재해가 발생할 때 Azure Site Recovery 약속인 여러 번 테스트되는 종단 간 애플리케이션 복구, 오류 없음 및 스트레스 없는 종단 간 애플리케이션 복구에 관한 것입니다. Microsoft Azure 애플리케이션이 실행되는 것을 본 적이 없는 경우 실제 재해가 발생할 때 가상 머신이 부팅되었을 수 있지만 비즈니스는 중단된 상태로 유지될 수 있습니다. 애플리케이션 복구와 관련된 중요성과 복잡성은 이 시리즈의 이전 블로그인 <a href="https://aka.ms/asr-apprecovery">가상 머신뿐만 아니라 애플리케이션에 대한 클라우드 마이그레이션 및 재해 복구</a>에 대해 설명했습니다. 이 블로그에서는 실제 애플리케이션을 퍼블릭 클라우드로 복구하는 예제를 사용하여 복구 계획의 Azure Site Recovery 구문을 사용하여 애플리케이션을 장애 조치(failover)하거나 가장 테스트되고 결정적인 방식으로 Microsoft Azure 마이그레이션하는 방법을 설명합니다.&nbsp;</p>


  <h2>Azure Site Recovery &ldquo;복구 계획을 사용하는 이유는 무엇인가&rdquo;요?</h2>


  <p><a href="https://docs.microsoft.com/en-us/azure/site-recovery/site-recovery-create-recovery-plans">복구 계획은</a> 관리할 수 있는 작은 독립 단위를 만들어 체계적인 복구 프로세스를 계획하는 데 도움이 됩니다. 이러한 단위는 일반적으로 사용자 환경 <strong>의 애플리케이션을 나타냅니다</strong> . 복구 계획을 사용하면 가상 머신이 시작되는 순서를 정의할 수 있을 뿐만 아니라 복구 중 일반적인 작업을 자동화하는 데 도움이 됩니다.</p>


  <p><br>

  <strong>기본적으로 클라우드 마이그레이션 또는 재해 복구에 대한 준비가 되었음을 확인하는 한 가지 방법은 사용자의 모든 애플리케이션이 복구 계획의 일부이고 각 복구 계획이 Microsoft Azure 복구를 위해 테스트되는지 확인하는 것입니다. 이러한 준비를 통해 전체 데이터 센터를 자신 있게 마이그레이션하거나 장애 조치(failover)하여 Microsoft Azure 수 있습니다.</strong><br>

  &nbsp;<br>

  복구 계획의 세 가지 주요 가치 제안을 살펴보겠습니다.</p>


  <ul>
   <li>종속성을 캡처하도록 애플리케이션 모델링</li>
   <li>RTO를 줄이기 위해 대부분의 복구 작업 자동화</li>
   <li>재해에 대비하기 위한 테스트 장애 조치(failover)</li>
  </ul>


  <h2>종속성을 캡처하도록 애플리케이션 모델링</h2>


  <p>복구 계획은 일반적으로 함께 장애 조치(failover)되는 애플리케이션으로 구성된 가상 머신 그룹입니다. 복구 계획 구문을 사용하면 애플리케이션별 속성을 캡처하도록 이러한 그룹을 향상시킬 수 있습니다.<br>

  &nbsp;<br>

  다음은 전형적인 3계층 애플리케이션의 예입니다.</p>


  <ul>
   <li>SQL 백 엔드 하나</li>
   <li>미들웨어 하나</li>
   <li>웹 프런트 엔드 하나</li>
  </ul>


  <p>장애 조치(failover) 후 가상 머신이 올바른 순서로 작동하도록 복구 계획을 사용자 지정할 수 있습니다. SQL 백엔드가 먼저 작동되고, 다음으로 미들웨어가 작동되어야 하며, 웹 프런트 엔드가 마지막으로 작동되어야 합니다. 이러한 순서를 통해 마지막 가상 머신이 작동하면 애플리케이션이 작동하도록 합니다. 예를 들어 미들웨어가 시작되면 SQL 계층에 연결을 시도하며, SQL 계층은 복구 계획에 따라 이미 실행되고 있습니다. 프런트 엔드 서버가 마지막으로 작동하기 때문에 모든 구성 요소가 시작되어 실행 중이고 애플리케이션이 요청을 수락할 준비가 될 때까지 최종 사용자가 실수로 애플리케이션 URL에 연결하지 않도록 합니다. 이러한 종속성을 생성하기 위해 그룹을 추가하도록 복구 계획을 사용자 지정할 수 있습니다. 그런 다음, 가상 머신을 선택하고 해당 그룹을 변경하여 그룹 간에 이동합니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5391656d-22d2-4d67-8b99-65f5d58d154b.png"><img alt="Recovery Plan example" border="0" height="782" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/924c0610-c2e0-422c-bc07-3a1e10f12912.png" style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;" title="복구 계획 예제" width="665"></a>&nbsp;</p>


  <p>사용자 지정을 완료하면 복구의 정확한 단계를 시각화할 수 있습니다. 다음은 복구 계획의 장애 조치 중 실행되는 단계의 순서입니다.</p>


  <ul>
   <li>먼저 온-프레미스 가상 머신을 끄려고 시도하는 종료 단계가 있습니다(기본 사이트를 계속 실행해야 하는 테스트 장애 조치(failover) 제외).</li>
   <li>다음으로 복구 계획의 모든 가상 머신에 대한 장애 조치(failover)를 병렬로 트리거합니다. 장애 조치 단계는 복제된 데이터의 가상 머신&rsquo; 디스크를 준비합니다.</li>
   <li>마지막으로 시작 그룹이 순서대로 실행되어 각 그룹(그룹 1, 그룹 2, 그룹 3 순서로)의 가상 머신이 시작됩니다. 그룹에 가상 머신이 둘 이상이면(예: 부하가 분산된 웹 프런트 엔드) 모든 가상 머신이 병렬로 부팅됩니다.</li>
  </ul>


  <p><strong>그룹 전체에서 시퀀싱하면 다양한 애플리케이션 계층 사이의 종속성이 유지되고 적절한 경우 병렬 처리가 보장되기 때문에 애플리케이션 복구의 RTO가 향상됩니다.</strong></p>


  <h2>RTO를 줄이기 위해 대부분의 복구 작업 자동화</h2>


  <p>대규모 애플리케이션 복구는 복잡한 작업일 수 있습니다. 장애 조치(failover) 또는 마이그레이션 후 정확한 사용자 지정 단계를 기억하는 것도 어렵습니다. 때로는 애플리케이션의 복잡한 사항을 인식하지 못하는 다른 사람이 장애 조치를 트리거해야 하는 경우도 있습니다. 혼돈의 시기에 너무 많은 수동 단계를 기억하는 것은 어렵고 오류가 발생하기 쉽습니다. 복구 계획은 Microsoft Azure <a href="https://docs.microsoft.com/en-in/azure/site-recovery/site-recovery-runbook-automation">Automation Runbook</a>을 사용하여 모든 단계에서 수행해야 하는 필요한 작업을 자동화하는 방법을 제공합니다. Runbook을 사용하면 아래의 예제와 같은 일반적인 복구 작업을 자동화할 수 있습니다. 자동화할 수 없는 작업에 대해서는 복구 계획을 통해 수동 작업을 삽입할 수 있는 기능도 있습니다.</p>


  <ul>
   <li>장애 조치(failover &ndash; ) 후 Azure 가상 머신의 태스크는 일반적으로 가상 머신에 연결할 수 있도록 필요합니다. 예를 들면 다음과 같습니다. <ul>
    <li>장애 조치(failover) 후 가상 머신에 공용 IP 만들기</li>
    <li>장애 조치된 가상 머신&rsquo; NIC에 NSG 할당</li>
    <li>가용성 집합에 부하 분산 장치 추가</li>
   </ul>
   </li>
  </ul>


  <ul>
   <li>장애 조치(failover &ndash; ) 후 가상 머신 내부의 태스크는 새 환경에서 계속 올바르게 작동하도록 애플리케이션을 다시 구성합니다. 예를 들면 다음과 같습니다. <ul>
    <li>가상 머신 내 데이터베이스 연결 문자열 수정</li>
    <li>웹 서버 구성/규칙 변경</li>
   </ul>
   </li>
  </ul>


  <p>많은 일반적인 작업의 경우 단일 Runbook을 사용하고 각 복구 계획에 대해 매개 변수를 전달하여 하나의 Runbook이 모든 애플리케이션을 처리할 수 있도록 할 수 있습니다. 이러한 스크립트를 직접 배포하고 사용해 보려면 아래 단추를 클릭하고 인기 있는 스크립트를 Microsoft Azure Automation 계정으로 가져옵니다.</p>


  <p><a href="https://aka.ms/asr-automationrunbooks-deploy"><img alt="image" border="0" height="45" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c4803408-340e-49e3-9a1f-0ed3f689813d.png" style="border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;" title="이미지" width="215"></a><br>

  &nbsp;<br>

  <strong>자동화 runbook을 사용하여 복구 후 작업을 자동화하는 완벽한 복구 계획을 통해 한 번의 클릭으로 장애 조치를 수행하고 RTO를 최적화할 수 있습니다.&nbsp; </strong></p>


  <h2>재해에 대비하기 위한 테스트 장애 조치(failover)</h2>


  <p>복구 계획을 사용하여 <a href="https://docs.microsoft.com/en-us/azure/site-recovery/site-recovery-failover">장애 조치(failover</a> ) 또는 테스트 장애 조치( <a href="https://docs.microsoft.com/en-us/azure/site-recovery/site-recovery-test-failover-to-azure">failover</a>)를 트리거할 수 있습니다. 장애 조치를 수행하기 전에 항상 애플리케이션에서 테스트 장애 조치를 완료해야 합니다. 테스트 장애 조치(failover)는 애플리케이션이 복구 사이트에 표시되는지 여부를 확인하는 데 도움이 됩니다.&nbsp; 누락된 항목이 있는 경우 쉽게 정리를 트리거하고 테스트 장애 조치(failover)를 다시 실행할 수 있습니다. 애플리케이션이 원활하게 복구된다는 확신이 들 때까지 테스트 장애 조치를 여러 번 수행합니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/215a1b4e-30ce-4df4-a0a4-74c0f92f4f11.png"><img alt="Recovery plan job execution" border="0" height="622" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/9b49b1fe-45d8-4eca-909d-6f40f44b6c96.png" style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;" title="복구 계획 작업 실행" width="660"></a>&nbsp;</p>


  <p><strong>각 애플리케이션은 다르며 각각에 대해 사용자 지정된 복구 계획을 빌드해야 합니다. 또한 이 동적 데이터 센터 환경에서는 애플리케이션과 해당 종속성이 계속 변경됩니다. 분기당 한 번 애플리케이션 장애 조치(failover)를 테스트하여 복구 계획이 최신인지 확인합니다. </strong></p>


  <h2>실제 예제 - WordPress 재해 복구 솔루션</h2>


  <p>2계층 WordPress 애플리케이션 장애 조치(failover)의 빠른 비디오를 시청하여 Microsoft Azure 자동화 스크립트를 사용한 복구 계획과 Azure Site Recovery를 사용하여 작동하는 테스트 장애 조치(failover)를 확인합니다.</p>


  <ul>
   <li>WordPress 배포는 포트 80에서 수신 대기하는 Apache 웹 서버가 있는 하나의 MySQL 가상 머신과 하나의 프런트 엔드 가상 머신으로 구성됩니다.</li>
   <li>Apache 웹 서버에 배포된 WordPress는 IP 주소 10.150.1.40을 통해 MySQL과 통신하도록 구성됩니다.</li>
   <li>테스트 장애 조치 시 장애 조치(failover) IP 주소 10.1.6.4에서 MySQL과 통신하도록 WordPress 구성을 변경해야 합니다. MySQL이 장애 조치(failover) 시 매번 동일한 IP 주소를 획득하도록 하려면 기본 IP 주소를 10.1.6.4로 설정하도록 가상 머신 속성을 구성합니다.</li>
  </ul>


  <p><iframe allowfullscreen="" frameborder="0" height="540" src="https://channel9.msdn.com/Series/Azure-Site-Recovery/One-click-failover-of-a-2-tier-WordPress-application-using-Azure-Site-Recovery/player" width="960"></iframe></p>


  <p>전체 애플리케이션 복구를 성공적으로 수행할 수 있도록 끊임없이 집중하면서 Azure Site Recovery는 모든 클라우드 마이그레이션 및 재해 복구 요구 사항을 위한 원스톱 상점입니다. Microsoft의 임무는 Microsoft Azure 기능을 사용하여 재해 복구를 민주화하고, 엘리트 계층 1 애플리케이션이 비즈니스 연속성 계획을 수립할 수 있도록 하는 것뿐만 아니라 조직의 100%&#39;IT 애플리케이션에 대한 종단 간 재해 복구 계획을 설정할 수 있는 강력한 솔루션을 제공하는 것입니다.</p>


  <p><br>

  <a href="https://aka.ms/asr-info">추가 제품 정보를</a> 확인하고 현재 Azure Site Recovery를 사용하여 워크로드를 보호하거나 Microsoft Azure 마이그레이션할 수 있습니다. VMware 또는 Hyper-V에서 실행 중이든 복제하는 모든 새 물리적 서버 또는 가상 머신에 대해 31일 동안 Azure Site Recovery의 강력한 복제 기능을 무료로 사용할 수 있습니다. Azure Site Recovery에 대해 자세히 알아보려면 <a href="https://aka.ms/asr-videos">방법 비디오를</a> 확인하세요. <a href="https://aka.ms/asr-forums">MSDN의 Azure Site Recovery 포럼을</a> 방문하여 추가 정보를 확인하고 다른 고객과 소통하거나 <a href="https://aka.ms/asr-uservoice">Azure Site Recovery 사용자 음성</a>을 사용하여 다음에 사용할 기능을 알려주세요.</p>

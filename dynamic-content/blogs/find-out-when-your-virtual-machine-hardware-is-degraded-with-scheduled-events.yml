### YamlMime:Yaml
ms.openlocfilehash: 02f5778b7566be4068789ba39d91ef5d777b112e
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139898380"
Slug: find-out-when-your-virtual-machine-hardware-is-degraded-with-scheduled-events
Title: 예약된 이벤트로 가상 머신 하드웨어의 성능이 저하되는 시기를 확인합니다.
Summary: 클라우드로 전환할 때의 이점 중 하나는 고객이 하드웨어 유지 관리 및 수리를 처리할 필요가 없다는 것입니다. 비즈니스 애플리케이션에 시간을 집중할 수 있습니다.
Content: >-
  <p>클라우드로 전환할 때의 이점 중 하나는 고객이 하드웨어 유지 관리 및 수리를 처리할 필요가 없다는&rsquo; 것입니다. 비즈니스 애플리케이션에 시간을 집중할 수 있습니다. Azure는 성능 저하 또는 잠재적 오류의 징후를 보여 주는 하드웨어를 지속적으로 모니터링합니다. 이러한 조건이 감지되면 Azure는 VM(가상 머신)을 실시간 마이그레이션하려고 시도합니다. 실시간 마이그레이션이 가능하지 않은&rsquo; 경우 Azure는 VM을 정상 컴퓨터에 자동으로 다시 배포합니다. 재해 복구 설정이 권장되는 경우 이 재배포의 영향은 최소화됩니다. 그러나 중단을 허용할 수 없는 일부 애플리케이션에서는 정상 컴퓨터에 다시 배포하는 것이 문제가 될 수 있습니다&rsquo;. Weve&rsquo;는 이 상황에서&nbsp; 가능하면 고객이 정상 컴퓨터에 다시 배포되는 시간을 제어하는 것을 선호한다는 피드백을 받았습니다.</p>


  <p>Azure에서 <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/scheduled-events">예약된 이벤트는</a> VM에 알리고 실시간 마이그레이션, 재배포, 재부팅 등과 같은 예정된 유지 관리 이벤트에 대한 조치를 수행하는 프로그래밍 방식으로 도입되었습니다. 예약된 이벤트를 받으면 고객은 장애 조치, 상태 저장, VM의 세션 드레이닝, 수동 유지 관리 시간 예약, 고객에게 알림 등의 작업을 수행할 수 있습니다. &rsquo;Azure에서 하드웨어 문제가 조만간 정상 하드웨어에 다시 배포되어야 한다고 예측하고, 실시간 마이그레이션이 불가능한 경우 Azure가 VM을 정상 하드웨어에 다시 배포할 기간을 제공할 때 예약된 이벤트가 트리거될 것이라고 발표하게 되어 매우 기쁩니다. 고객은 Azure가 자동으로 수행되기 전에 VM의 재배포를 시작할 수 있습니다.</p>


  <h2>하드웨어 오류 예측</h2>


  <p>Azure는 데이터 센터에서 수백만 개의 서버를 운영하여 하드웨어 상태가 저하되는 시기를 파악하고 많은 경우 오류가 발생하기 전에 오류를 예측하는 인사이트를 활용했습니다. 예를 들어 Azure는 지정된 노드에서 디스크 IO 성능 저하가 있는지 감지하거나 메모리 오류를 검색하여 심각한 문제가 발생할지 확인할 수 있습니다.</p>


  <p>Azure에서 임박한 하드웨어 오류를 감지하면 가능하면 VM이 사전에 <a href="https://azure.microsoft.com/en-us/blog/improving-azure-virtual-machine-resiliency-with-predictive-ml-and-live-migration/">실시간 마이그레이션됩니다</a> . 이는 워크로드에 미치는 영향을 최소화해야 하며, 고객 환경은 일반적으로 최종 단계에서 몇 초의 동결입니다. 예약된 이벤트를 구독하면 실시간 마이그레이션 프로세스가 시작되기 몇 <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/scheduled-events#event-scheduling">분</a> 전에 VM에 알림을 받을 수 있습니다. 그러나 M 시리즈, G 시리즈 등과 같은 특수 컴퓨터 하드웨어 또는 레거시 하드웨어에서와 같이 실시간 마이그레이션이 가능하지 않은&rsquo; 경우가 있습니다. 이 경우 VM이 새 인스턴스에 다시 배포됩니다. 일부 고객은 노드에서 재할당을 시작하고 프로세스 중에 환경을 제어하는 시간을 제어할 수 있는 데 관심을 표명했습니다. 이 피드백에 따라 하드웨어가 비정상으로 검색되는 시간을 알리고 하드웨어가 더 빨리 실패하지 않는 한 VM이 다른 컴퓨터로 이동되는 시간을 제공하도록 예약된 이벤트를 개선했습니다. 대부분의 경우 하드웨어가 실패하기까지 며칠이 소요될 수 있으며 완화를 통해 Azure는 이 실패 시간을 지연하려고 시도합니다. 실패하는 시간은 다양하기 때문에 고객은 성능이 저하된 하드웨어에서 최대한 빨리 이동하는 것이 좋습니다.</p>


  <h2>이러한 예약된 이벤트를 수신 대기하는 방법</h2>


  <p>VM은 예약된 이벤트를 구독하여 유지 관리와 관련된 이벤트를 가져와야 합니다. 프로그래밍 방식으로 예약된 이벤트를 사용하도록 설정하고 대응하는 방법을 알아보려면 <a href="https://channel9.msdn.com/Shows/Azure-Friday/Using-Azure-Scheduled-Events-to-Prepare-for-VM-Maintenance">이 비디오를 시청</a>하세요. 또한 예약된 이벤트를 수신 대기한 다음 완화를 완료한 후 승인하는 방법에 대한 <a href="https://github.com/Azure-Samples/virtual-machines-scheduled-events-discover-endpoint-for-non-vnet-vm">코드 샘플을</a> 찾을 수 있습니다.</p>


  <p>하드웨어 관련 이벤트를&rsquo; 수신 대기하려면 다른 작업을 수행할 필요가 없습니다. 하드웨어 관련 이벤트는 <em>재배포</em> 이벤트로 전달됩니다. 유지 관리가 수행되기 전에 기간을 제공하는 속성인&nbsp; <em>NotBefore</em> 시간은 몇 시간에서 며칠까지의 범위가 될 수 있으며 하드웨어 오류의 심각도에 따라 변경될 수 있습니다. Azures&rsquo;의 실패 시간 예측이 향상됨에 따라 <em>NotBefore</em> 기간은 더 정확해지도록 변경됩니다. &rsquo;그러나 갑자기 실패할 수 있는 성능이 저하된 하드웨어에서 실행 중이므로 해당 자동화 또는 수동 작업을 시작한 후 가능한 한 빨리 재배포를 시작하거나 예약된 이벤트를 승인해야 합니다. 요청을 승인하면 VM이 새 물리적 컴퓨터에 다시 배포됩니다. 예약된 이벤트를 통해 재배포 완료를 추적할 수 있습니다. <em>NotBefore</em> 시간 내에 예약된 이벤트를 승인하지 않으면&rsquo; 더 이상 환경을 제어할 수 없으며 Azure는 VM을 정상 컴퓨터에 다시 배포합니다.</p>


  <p>예약된 이벤트를 통한 하드웨어 성능 저하 정보에 대한 지원은 이미 전 세계에서 사용할 수 있습니다! API 변경 내용이 없으므로 api-version=2017-08-01에서 사용할 수 있는 이 기능입니다.</p>


  <p>플랫폼 유지 관리 이벤트에 민감한 경우 예약된 이벤트를 처리하여 자동화를 빌드하는 것이 좋습니다. 이 작업을 시도하고 아래의 의견에서 어떻게 생각하는지 알려주세요.</p>

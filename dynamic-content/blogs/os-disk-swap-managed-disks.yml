### YamlMime:Yaml
ms.openlocfilehash: 9d5b7bf9cdd4071b07824ab72eacfeab2f61949e
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139902018"
Slug: os-disk-swap-managed-disks
Title: 이제 관리형 Virtual Machines에 대한 OS 디스크 교환을 사용할 수 있습니다.
Summary: 오늘 Managed Disks를 사용하는 VM에 대한 OS 디스크 교환 기능의 가용성을 발표하게 되어 기쁩니다. 지금까지 이 기능은 관리되지 않는 디스크에서만 사용할 수 있었습니다. 이 기능을 사용하면 VM을 삭제하지 않고도 OS 디스크의 이전 백업을 복원하거나 VM 문제 해결을 위해 OS 디스크를 교체하는 것이 매우 쉬워집니다.
Content: "<p>오늘 Managed Disks를 사용하는 VM에 대한 OS 디스크 교환 기능의 가용성을 발표하게 되어 기쁩니다. 지금까지 이 기능은 관리되지 않는 디스크에서만 사용할 수 있었습니다.</p>\n\n<p style=\"text-align: center;\"><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/cdda541c-68a8-43b1-bed3-3c1094787642.png\" style=\"font-family: tahoma, &quot;Helvetica Neue&quot;, arial, helvetica, sans-serif; font-size: 13px; font-style: normal; font-weight: 400; text-decoration-line: underline;\"><img alt=\"1\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/91d81f39-e6b6-464f-a066-553086f8c5e2.png\" style=\"border-style: solid; width: 327px; height: 500px; font-size: 13px; display: inline; background-image: none;\" title=\"1\"></a></p>\n\n<p>이 기능을 사용하면 VM을 삭제하지 않고도 OS 디스크의 이전 백업을 복원하거나 VM 문제 해결을 위해 OS 디스크를 교체하는 것이 매우 쉬워집니다. 이 기능을 활용하려면 VM이 할당 취소 중지 상태여야 합니다. VM 할당 취소가 중지되면 기존 관리 OS 디스크의 리소스 ID를 새 관리 OS 디스크의 리소스 ID로 바꿀 수 있습니다. 교환할 새 디스크의 이름을 지정해야 합니다. VM의 OS 유형을 전환할 수 없습니다. 즉, Windows 있는 OS 디스크에 대해 Linux를 사용하여 OS 디스크를 전환합니다.</p>\n\n<p>이 기능을 활용하는 방법에 대한 지침은 다음과 같습니다.</p>\n\n<h2>Azure CLI</h2>\n\n<p>Azure CLI 사용에 대한 자세한 내용은 <a href=\"https://docs.microsoft.com/azure/virtual-machines/linux/os-disk-swap\">CLI를 사용하여 Azure VM에서 사용하는 OS 디스크 변경을</a> 참조하세요.</p>\n\n<p>CLI의 경우 새 디스크의 전체 리소스 ID를 --osdisk 매개 변수에 사용합니다.</p>\n\n<p><i style=\"font-family: inherit; font-weight: inherit;\">참고: 필수 Azure CLI 버전 &gt; 2.0.25</i></p>\n\n<pre>\naz vm update &ndash;g osrg -n vm2 --os-disk /subscriptions/&lt;sub-id&gt;/resourceGroups/osrg/providers/Microsoft.Compute/disks/osbackup</pre>\n\n<h2>Azure PowerShell</h2>\n\n<p>PowerShell 사용에 대한 자세한 내용은 <a href=\"https://docs.microsoft.com/azure/virtual-machines/windows/os-disk-swap\">PowerShell을 사용하여 Azure VM에서 사용하는 OS 디스크 변경을</a> 참조하세요.</p>\n\n<pre>\n$vm = Get-AzureRmVM -ResourceGroupName osrg -Name vm2 \n$disk = Get-AzureRmDisk -ResourceGroupName osrg -Name osbackup \nSet-AzureRmVMOSDisk -VM $vm -ManagedDiskId $disk.Id -Name $disk.Name \nUpdate-AzureRmVM -ResourceGroupName osrg -VM $vm</pre>\n\n<h2>Java SDK</h2>\n\n<pre>\nVirtualMachine virtualMachine = azure.virtualMachines().getById(&quot;&lt;vm_id&gt;&quot;);\n\nvirtualMachine\n    .inner()\n    .storageProfile()\n    .osDisk()\n    .withName(&quot;&lt;disk-name&gt;&quot;)\n    .managedDisk()\n    .withId(&quot;&lt;disk_resource_id&gt;&quot;);\n    \nvirtualMachine.update()\n    .apply();</pre>\n\n<h2>GO SDK</h2>\n\n<pre>\nfunc UpdateVM(ctx context.Context, vmName string, diskId string, diskName string) (vm compute.VirtualMachine, err error) {\n    vm, err = GetVM(ctx, vmName)\n    \n    if err != nil {\n        return\n    }\n    \n    vm.VirtualMachineProperties.StorageProfile.OsDisk.Name = diskName\n    vm.VirtualMachineProperties.StorageProfile.OsDisk.ManagedDisk.Id = diskId\n    \n    vmClient := getVMClient()\n    \n    future, err := vmClient.CreateOrUpdate(ctx, helpers.ResourceGroupName(), vmName, vm)\n    \n    if err != nil {\n        return vm, fmt.Errorf(&quot;cannot update vm: %v&quot;, err)\n    }\n    \n    err = future.WaitForCompletion(ctx, vmClient.Client)\n    \n    if err != nil {\n        return vm, fmt.Errorf(&quot;cannot get the vm create or update future response: %v&quot;, err)\n    }\n    \n    return future.Result(vmClient)\n}</pre>"

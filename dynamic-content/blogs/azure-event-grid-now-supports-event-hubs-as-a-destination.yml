### YamlMime:Yaml
ms.openlocfilehash: a3cd2d6d0d74366969b72aa22bd15ef8899f9452
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139899318"
Slug: azure-event-grid-now-supports-event-hubs-as-a-destination
Title: Azure Event Grid는 이제 Event Hubs를 대상으로 지원합니다.
Summary: 이제 Azure Event Grid를 사용하여 이벤트 허브로 이벤트를 보낼 수 있습니다. 이렇게 하면 Azure 내에서 스트림 처리 도구 및 더 많은 서비스를 사용할 수 있을 뿐만 아니라 언제든지 재생할 수 있는 모든 이벤트의 로그를 유지할 수 있습니다.
Content: >-
  <p>Azure Event Grid는 2017년 8월 Azure 및 그 이후의 이벤트 백플레인으로 도입되었습니다. 이 솔루션은 많은 목표와 서버리스 클라우드 컴퓨팅에 대한 많은 비전을 뒷받침합니다. Azure Event Grid의 핵심 개념 중 하나는 클라우드를 광범위하게 반응형으로 만들고 반응형 프레임워크 및 모델에 익숙한 개념을 도입하는 것입니다. 이 작업을 수행하면서 Azure Event Grid를 이벤트가 발생할 때 알림을 제공하는 푸시 기반 시스템으로 만들었습니다. 이 푸시 개념은 반응형 아키텍처의 중심이지만 웹후크를 수신하는 경우 특히 대규모로 문제가 발생할 수 있습니다. 이러한 이유로 Azure Event Grid에 사용할 수 있는 새 구독 엔드포인트 유형으로 Event Hubs를 도입했습니다.</p>


  <p>현재 이 기능은 --endpoint-type 매개 변수를 사용하고 기본 웹후크 대신 eventhub를 지정하여 CLI를 통해 사용할 수 있습니다. 이 옵션을 사용하는 경우 이벤트를 보낼 Event Hub의 Azure Resource Manager 경로로 엔드포인트를 지정합니다. 이미 Event Hub가 있다고 가정하면 이 리소스 경로를 가져와 포털에서 Event Hub로 이동할 수 있습니다. URL에서 경로를 복사하거나 아래에 표시된 CLI 명령을 사용하여 리소스를 나열할 수도 있습니다.</p>


  <p>당신의 인생을 더 쉽게 하려면 아래 변수를 설정합니다.</p>


  <pre>

  eventHub=&lt;your Event Hub name&gt;

  eventHubNamespace=&lt;your Event Hubs namespace here&gt;

  resourceGroup=&lt;your resource group name&gt;</pre>


  <p style="border-image: none;">Event Hub 네임스페이스에 대한 리소스 경로를 가져와 변수에 저장합니다.</p>


  <pre style="border-image: none;">

  eventHubResource=$(az resource list --resource-group $resourceGroup --resource-type Microsoft.EventHub/namespaces | jq -r &quot;.[0] | select(.name==\&quot;$eventHubNamespace\&quot;) | .id&quot;)</pre>


  <p>이제 엔드포인트가 Event Hub인 이벤트 구독을 만듭니다.</p>


  <pre>

  az eventgrid resource event-subscription create --endpoint $eventHubResource/eventHubs/$eventHub --name myehsub --resource-group $resourceGroup--resource-type storageAccounts --provider-namespace Microsoft.Storage --resource-name mystorageaccount  --endpoint-type eventhub</pre>


  <p>출력에는 이벤트 구독 리소스에 대한 JSON이 표시됩니다.</p>


  <p>이 시점에서 당신은 &#39;n 롤을 흔들 준비가&#39;. 이 스토리지 계정에서 Blob을 만들거나 삭제할 때마다 이벤트가 Event Hub에 전달됩니다. 이 데이터를 자세히 알아보고 보려면 . <a href="https://docs.microsoft.com/en-us/azure/event-hubs/event-hubs-dotnet-standard-getstarted-receive-eph"><u><em>NET Standard의 이벤트 프로세서 호스트를 사용하여 메시지 수신 시작</em></u></a> 및 <a href="https://docs.microsoft.com/en-us/azure/event-hubs/event-hubs-java-get-started-receive-eph"><u><em>Java를 사용하여 Azure Event Hubs에서 이벤트 수신</em></u></a> 문서를 확인하세요.</p>


  <p>또한 다른 CLI 매개 변수를 사용하여 이 이벤트 구독에 대한 접두사 및 접미사 필터를 만들 수도 있습니다. Blob을 만들기 위한 이벤트만 수신하려는 경우 아래 매개 변수를 추가합니다.</p>


  <pre>

  --included-event-types Microsoft.Storage.BlobCreated</pre>


  <p>또한 .xml 파일에 대한 알림만 수신하려는 경우 아래 매개 변수를 추가할 수 있습니다.</p>


  <pre>

  --subject-ends-with .xml</pre>


  <p>Event Hub에 연결 문자열을 제공할 필요가&#39;않았을 수 있습니다. 이는 모두 Azure 에코시스템에 있으며 Azure CLI에 다시 로그인할&#39;있으므로 리소스 관리자는 서비스 인증에 서비스를 수행하는 데 사용하는 이벤트 허브 연결 문자열을 가져오는 기능을 RBAC하므로 연결 문자열을 제공할 필요가 없습니다.</p>


  <p>해피 메시징!</p>

### YamlMime:Yaml
ms.openlocfilehash: 504c609807c796216b5a9613216b6f4b057d69ea
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139901310"
Slug: cloud-service-fundamentals-telemetry-data-acquisition-pipeline
Title: '클라우드 서비스 기본 사항: 원격 분석 – 데이터 취득 파이프라인'
Summary: 데이터 획득 파이프라인은 Windows Azure의 클라우드 서비스 기본 사항의 일부인 원격 분석 솔루션의 핵심입니다. 이 파이프라인은 다음의 세 번째 문서의 &nbsp;주제입니다.
Content: '<p>데이터 획득 파이프라인은 Windows Azure의 클라우드 서비스 기본 사항의 일부인 원격 분석 솔루션의 핵심입니다. 이 파이프라인은 위키 <a href="https://social.technet.microsoft.com/wiki/contents/articles/17987.cloud-service-fundamentals.aspx" target="_blank">시리즈의</a> 세 번째 <a href="https://social.technet.microsoft.com/wiki/contents/articles/18854.telemetry-data-acquisition-pipeline.aspx" target="_blank">문서의 </a>&nbsp;주제입니다. 솔루션의 역할은 다양한 리포지토리에서 다양한 정보를 모두 추출하고 단일 관계형 데이터베이스로 집계하는 것입니다. 그런 다음 캡처된 메트릭에 대한 장기 추세를 상호 연결 및 분석하고, 특정 문제 및 인시던트를 드릴다운하고, 미리 정의된 보고서와 임시 보고서 및 대시보드를 모두 제공합니다(대기합니다. 이 항목은 다음 문서J의 주제입니다.). 고객이 성능 저하&rdquo;를 보고했을 때 내 애플리케이션 구성 요소에서 어떤 일이 발생했는지 또는 &ldquo;애플리케이션이 오전 12시에서 오후 1시 UTC 사이에 시간 제한 오류를 생성했을 때 데이터 계층에서 변경된 내용에 대한 질문이 포함될 &ldquo;수 있습니다.&rdquo; 이와 같은 질문에 대한 답변은 엔드 투 엔드 원격 분석 솔루션에서 사용하도록 설정하려는 인사이트의 종류입니다.</p>  <p><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5140.tele-1.png" alt="" border="0"><br><em>그림 1 - 전체 원격 분석 솔루션 아키텍처의 데이터 취득 파이프라인 강조 표시</em></p>  <p>아키텍처 관점에서 데이터 획득 파이프라인의 디자인을 세 가지 주요 영역으로 세분화할 수 있습니다.</p>  <ol>  <li>가져오기 및 변환 작업을 실행하는 구성 가능한 스케줄러 엔진입니다.</li>  <li>다양한 정보 원본을 쿼리하고, 일부 변환 논리를 적용하고, 결과를 중앙 집중식 리포지토리에 푸시하는 확장 가능한 작업 집합입니다.</li>  <li>분석 쿼리를 실행하고 의미 있는 정보를 추출하는 데 사용할 수 있는 공통 관계형 스키마에 이 데이터를 저장하는 Windows Azure SQL Database 인스턴스입니다.</li>  </ol>  <p>스케줄러 엔진을 구현하는 동안 시간 간격을 기준으로 다양한 데이터 원본을 쿼리하는 끌어오기&rdquo; 메커니즘을 채택&ldquo;하기로 결정했습니다. 더 복잡한 &ldquo;푸시&rdquo; 및 &ldquo;스트리밍&rdquo; 방법보다 이 방법을 선호하는 이유는 여러 가지가 있습니다. 주요 한 가지는 데이터가 이미 Windows Azure Storage(Windows Azure Diagnostics에서 생성된 정보) 또는 내부 데이터 구조(동적 관리 뷰의 경우)Windows Azure SQL Database 같은 중간 리포지토리에 저장되어 있다는 것입니다. 실시간 연속 분석에 대한 엄격한 요구 사항이 없으며 구현을 가능한 한 간단하게 유지하려고 했습니다. 현재 릴리스에서 스케줄러는 Windows Azure Storage Blob 컨테이너에 호스트된 XML 파일에서 해당 구성을 읽는 Windows Azure 작업자 역할로 구현됩니다. 이 파일은 실행할 예약된 작업의 수와 형식 및 실행 빈도와 다양한 데이터 원본 및 대상에 대한 모든 구성 옵션 및 연결 문자열을 정의합니다. 언제든지 구성 파일을 변경하거나, 작업을 추가하거나 제거하거나, 특정 구성을 변경할 수 있으며, 작업자 역할은 업데이트된 파일을 선택하고 그에 따라 실행을 시작합니다. 이 스케줄러 구성 요소의 여러 프로덕션 배포를 실행하여 솔루션을 모니터링하는 고객 및 파트너와 협력했습니다. 이 작업자 역할에 대한 작은&rdquo; VM 크기는 수백 개의 대상 컴퓨팅 인스턴스 및 데이터베이스를 처리하기에 충분하다는 것을 발견&ldquo;했습니다.</p>  <p>또한 진단 원본의 두 가지 주요 제품군에 연결하는 여러 가져오기 작업을 구현했습니다.</p>  <ul>  <li>WAD(Azure Diagnostics) 생성된 데이터 Windows</li>  <li>DMV를 통해 노출되는 내부 상태 Windows Azure SQL Database</li>  </ul>  <p>WAD는 대부분의 정보를 Windows Azure Storage 테이블에 저장하므로 많은 가져오기 작업이 매우 유사합니다. 기본적으로 지정된 기간(종료 시작)에 대한 Windows Azure Storage 클라이언트 라이브러리 v2.0 컨텍스트를 사용하여 원본 테이블을 쿼리하고, 일부 즉각적인 필터(예: 중요 또는 오류 이벤트)를 적용하고, 데이터 행을 즉시 다시 셰이프하거나 변환하고, 새 정보를 대상 데이터베이스에 대량 복사합니다. 이 범주에는 Windows Azure Compute Nodes 성능 카운터, Windows 이벤트 로그 및 추적 로그와 같은 정보가 포함됩니다. 보다 복잡한 구현에는 특정 구조로 구성된 Blob 컨테이너에 저장된 WAD의 모든 웹 역할에서 IIS 로그를 수집하는 작업이 포함됩니다. 이를 위해 먼저 특정 기간 동안 생성된 모든 로그 파일에 대한 참조가 포함된 테이블을 쿼리한 다음, 작업자 역할 로컬 스토리지에서 이러한 IIS 로그 파일을 다운로드하여 웹 페이지 및 API 응답 시간과 같은 의미 있는 정보를 분석하고 추출해야 합니다.</p>  <p>SQL Database 인스턴스의 경우 모든 대상 데이터베이스에서 공개적으로 사용 가능한 DMV를 쿼리하고(병렬 팬아웃 라이브러리 사용) 쿼리 및 요청 통계에서 연결 오류, 누락된 인덱스 및 데이터베이스 크기에 이르기까지 다양한 유용한 정보를 추출하는 특정 가져오기 작업을 만듭니다.</p>  <p>향후 개선된 기능으로 Windows Azure Storage 분석 및 캐싱 진단의 정보를 추가하는 방안을 고려하고 있습니다.</p>  <p>그런 다음 이 모든 진단 정보는 일반적인 시간 기반 키 정의를 사용하여 단일 관계형 스키마(SQL Database 호스트됨)에 저장되고 시간 간격 쿼리에 최적화됩니다. 이에&rsquo; 대한 간단한 이유는 특정 인시던트를 조사하거나 시간이 지남에 따라 추세를 이해하는 데 사용할 가능성이 매우 높기 때문입니다.</p>  <p>앞서 언급했듯이 다음 문서에서&rsquo;는 TVF(테이블 반환 함수) 계층에 중점을 두고 OpsStatsDB에서 흥미로운 정보를 쿼리하고 추출하는 방법을 설명합니다. 이러한 TVF를 만들어 Excel 사용하여 임시 보고서의 구현을 간소화했습니다. 또한 Well&rsquo;은 Cloud Service 기본 사항 코드 패키지와 함께 사용할 수 있는 Azure SQL Reporting Services 보고서 및 대시보드에 Windows 집합을 살펴봅니다.</p>  <p><a href="https://social.technet.microsoft.com/wiki/contents/articles/17987.cloud-service-fundamentals.aspx" target="_blank">전체 시리즈는 클라우드 서비스 기본</a> TechNet Wiki 방문 페이지에서 찾을 수 있습니다.</p>'

### YamlMime:Yaml
ms.openlocfilehash: bffc1502876aee52e1f0febfaeb858655d9d59e5
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139899218"
Slug: a-powerful-and-intuitive-way-to-route-device-messages-in-azure-iot-hub
Title: Azure IoT Hub에서 디바이스 메시지를 라우팅하는 강력하고 직관적인 방법
Summary: 'Azure IoT Hub 메시지 라우팅은 IoT 솔루션 개발을 단순화하고 메시지를 자동화된 확장 가능하고 안정적인 방식으로 사용자 디바이스에서 클라우드 서비스로 보낼 수 있게 해줍니다. '
Content: >-
  <p><a href="https://azure.microsoft.com/services/iot-hub/" target="_blank">Azure IoT Hub</a> 메시지 라우팅은 IoT 솔루션 개발을 간소화하고 자동화되고 확장 가능하며 신뢰할 수 있는 방식으로 디바이스에서 클라우드 서비스로 메시지를 보낼 수 있도록 합니다. 라우팅 쿼리를 사용하여 사용자 지정된 필터를 적용하고 가장 관련성이 큰 데이터만 서비스 연결 엔드포인트에 보낼 수도 있습니다.</p>


  <p>디바이스 쌍 태그 및 속성을 쿼리할 수 있는 메시지 라우팅의 새로운 기능을 발표하고 있으며, 이전에 사용할 수 있었던 메시지 속성 및 메시지 본문을 쿼리할 수 있습니다. 또한 메시지 라우팅을 위한 새로운 Azure Portal 환경은 경로와 엔드포인트 간에 더 간단한 탐색을 제공하여 더 나은 환경을 제공합니다.</p>


  <p>IoT 솔루션에는 빠르게 압도될 수 있는 대량의 디바이스 원격 분석 데이터를 전송하는 작업이 포함됩니다. IoT Hub의 새로운 메시지 라우팅 기능을 사용하면 디바이스의 메시지에 대한 자동 경로를 더욱 강력하고 쉽게 설정할 수 있으며, 고급 필터링을 구현하고 대량의 데이터를 실시간으로 전송할 수 있습니다. 예를 들어 연결된 팩터리 솔루션을 개발하는 경우 사용률 및 실패율을 계산하기 위해 모터 및 냉각기와 같은 다양한 디바이스 유형에 따라 데이터를 다른 서비스로 보내려고 합니다. 디바이스 쌍 태그 및 속성을 활용하여 디바이스 유형을 식별하고 다른 엔드포인트에 대한 사용자 지정 경로를 만들 수 있습니다. 이렇게 하면 가장 관련성이 큰 데이터만 보내고, 필터링을 줄이고, 다음 서비스에서 후처리할 수 있습니다.</p>


  <p><a href="https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-messages-d2c" target="_blank">IoT Hub 메시지 라우팅을</a> 통해 고객은 디바이스 원격 분석 메시지, 디바이스 수명 주기 이벤트 및 디바이스 쌍 변경 내용을 Azure Blob Storage, Event Hubs, Service Bus 큐 및 Service Bus 토픽으로 보낼 수 있습니다. IoT Hub는 프로토콜 간 상호 운용성을 위해 모든 디바이스-클라우드 메시징에 대한 <a href="https://aka.ms/IoTHubMessage" target="_blank">공통 형식</a> 을 정의합니다. 시스템 속성은 모든 사용자에 대해 추가되며 메시지의 콘텐츠를 식별합니다. 사용자는 메시지에 애플리케이션 속성을 선택적으로 추가할 수도 있습니다.</p>


  <p>작동 방식은 다음과 같습니다.</p>


  <p style="text-align: center;"><iframe allowfullscreen="" frameborder="0" height="540" src="https://channel9.msdn.com/Shows/Internet-of-Things-Show/Routing-Messages-in-Azure-IoT-Hub-based-on-Device-Twin/player?format=ny" width="960"></iframe></p>


  <p>메시지 시스템 속성에 대한 쿼리에는 기호 접두사로 &ldquo;$&rdquo; 추가되어야 합니다. 애플리케이션 속성에 대한 쿼리는 기호 없이 &ldquo;$&rdquo; 해당 이름으로 액세스됩니다. 메시지 본문에 대한 쿼리에는 $body&rdquo; 접두&ldquo;사로 추가되어야 합니다. 마찬가지로 디바이스 쌍의 쿼리에는 $twin&rdquo; 접두&ldquo;사로 추가되어야 합니다. 쿼리 식은 쌍 태그 또는 속성 참조를 본문 참조, 메시지 시스템 속성 및 메시지 애플리케이션 속성 참조와 결합할 수 있습니다. 메시지 본문이 JSON이 아닌 경우 메시지 라우팅은 메시지를 계속 라우팅할 수 있지만 쿼리는 메시지 속성 및 디바이스 쌍으로 제한됩니다. 쿼리 샘플을 보고 자세한 내용은 <a href="https://aka.ms/RoutingQuerySyntax/" target="_blank">라우팅 쿼리 구문을 참조하세요</a>.</p>


  <p>이 기능은 IoT Hub가 있는 모든 지역에서 사용할 수 있습니다. 이 기능을 사용해 보시고 비즈니스를 위한 보다 간소화된 IoT 솔루션을 빌드하게 되어 기쁩니다. 이 <a href="https://docs.microsoft.com/azure/iot-hub/tutorial-routing" target="_blank">자습서를 사용하여 시작해</a> 보세요.</p>


  <p>미리 보기로 환경에 대한 자세한 내용을 듣고 피드백을 받고 싶습니다! IoT Hub 메시지 라우팅에 보려는 다른 기능이 있나요? <a href="https://feedback.azure.com/forums/321918-azure-iot/" target="_blank">Azure IoT User Voice 포럼</a>을 통해 제안을 계속 제출하세요.</p>

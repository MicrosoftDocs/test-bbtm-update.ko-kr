### YamlMime:Yaml
ms.openlocfilehash: ce7ad34c5fae449c701ac3fceeeee4344a482458
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139907797"
Slug: finding-your-clustered-indexes
Title: 클러스터형 인덱스 찾기
Summary: '[이 문서는 SQL Azure 팀에서 제공했습니다.] SQL Server 스키마를 SQL Azure 마이그레이션하기 전에 모든 테이블에 클러스터형 인덱스를 만들어야 합니다. 이 블로그에서 이유를 읽을 수 있습니다...'
Content: "<p>[이 문서는 SQL Azure 팀에서 제공했습니다.]</p><p>SQL Server 스키마를 SQL Azure 마이그레이션하기 전에 모든 테이블에 클러스터형 인덱스를 만들어야 합니다. 이 블로그 게시물에서 이유를 확인할 수 있습니다. 이 게시물에서는 클러스터형 인덱스가 없는 모든 테이블을 찾는 방법을 보여 줍니다.</p>  <p>마이그레이션 기술 중 하나는 해당 스키마가 SQL Azure 호환되도록 SQL Server 데이터베이스를 업데이트한 다음, 이 블로그 게시물에서 작성한 대로 스크립트 생성 마법사를 사용하여 동일한 스키마를 SQL Azure 전송하는 것입니다. 이는 SQL Server 스키마와 SQL Azure 스키마 간에 마이그레이션하는 것과 다릅니다. </p>  <p>첫 번째 기술을 사용하는 경우 SQL Server 이 스크립트를 사용하여 클러스터형 인덱스가 없는 모든 테이블을 찾을 수 있습니다.</p>  <pre class=\"csharpcode\"><span class=\"kwrd\">SELECT</span> <span class=\"kwrd\">DISTINCT</span> [<span class=\"kwrd\">TABLE</span>] = OBJECT_NAME(OBJECT_ID)  <span class=\"kwrd\">FROM</span> SYS.INDEXES  <span class=\"kwrd\">WHERE</span> INDEX_ID = 0 <span class=\"kwrd\">AND</span> OBJECTPROPERTY(OBJECT_ID,<span class=\"str\">'IsUserTable'</span>) = 1  <span class=\"kwrd\">ORDER</span> <span class=\"kwrd\">BY</span> [<span class=\"kwrd\">TABLE</span>]</pre>      <p>목록이 있으면 클러스터형 인덱스가 필요한 테이블을 대상으로 지정할 수 있습니다. 데이터 형식 및 저장된 데이터 형식에 따라 클러스터형 인덱스로 신속하게 가져오는 한 가지 방법은 비클러스터형 인덱스(비클러스터형 인덱스)를 클러스터형 인덱스로 은밀하게 만드는 것입니다. SQL Server Management Studio 사용하여 이 작업을 수행할 수 있습니다. 방법은 다음과 같습니다.</p>    <ol>    <li>테이블을 확장한 다음 테이블의 인덱스를 확장합니다. </li>      <li>클러스터형 인덱스로 변환하려는 비클러스터형 인덱스 선택 </li>      <li>해당 인덱스 마우스 오른쪽 단추로 클릭하고 스크립트 <b>인덱스로</b> 선택한 다음 <b>DROP AND CREATE To</b>를 선택한 다음 새 <b>쿼리 편집기 창을</b> 선택합니다.         <p><a href=\"\"><img style=\"border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px\" title=\"clip_image002\" border=\"0\" alt=\"clip_image002\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5226.clip_5F00_image002_5F00_thumb_5F00_080269F6.jpg\" width=\"780\" height=\"310\"></a></p>    </li>      <li>SQL Server 인덱스 DROP 및 다시 만드는 Transact-SQL 스크립트를 생성합니다. </li>      <li><strong>CREATE INDEX</strong> 문에서 <strong>NONCLUSTERED</strong> 참조를 찾아 <strong>CLUSTERED</strong>로 변환합니다. </li>  </ol>    <p>6) 스크립트를 실행합니다.</p>    <p>SQL Server Management Studio 만든 스크립트의 예:</p>    <pre class=\"csharpcode\">/****** <span class=\"kwrd\">Object</span>:  <span class=\"kwrd\">Index</span> [PK_GroupFeature]      Script <span class=\"kwrd\">Date</span>: 06/01/2010 17:00:47 ******/  <span class=\"kwrd\">IF</span>  <span class=\"kwrd\">EXISTS</span> (<span class=\"kwrd\">SELECT</span> * <span class=\"kwrd\">FROM</span> sys.indexes       <span class=\"kwrd\">WHERE</span> object_id = OBJECT_ID(N<span class=\"str\">'[dbo].[GroupFeature]'</span>)       <span class=\"kwrd\">AND</span> name = N<span class=\"str\">'PK_GroupFeature'</span>)  <span class=\"kwrd\">ALTER</span> <span class=\"kwrd\">TABLE</span> [dbo].[GroupFeature]   <span class=\"kwrd\">DROP</span> <span class=\"kwrd\">CONSTRAINT</span> [PK_GroupFeature]  <span class=\"kwrd\">GO</span>    <span class=\"kwrd\">USE</span> [Kulshan]  <span class=\"kwrd\">GO</span>    /****** <span class=\"kwrd\">Object</span>:  <span class=\"kwrd\">Index</span> [PK_GroupFeature]      Script <span class=\"kwrd\">Date</span>: 06/01/2010 17:00:48 ******/  <span class=\"kwrd\">ALTER</span> <span class=\"kwrd\">TABLE</span> [dbo].[GroupFeature] <span class=\"kwrd\">ADD</span>    <span class=\"kwrd\">CONSTRAINT</span> [PK_GroupFeature]     <span class=\"kwrd\">PRIMARY</span> <span class=\"kwrd\">KEY</span> <font color=\"#ff0000\"><span style=\"background-color: yellow\" class=\"kwrd\">CLUSTERED</span> </font>  (      [GroupFeature_Id] <span class=\"kwrd\">ASC</span>  )<span class=\"kwrd\">WITH</span> (PAD_INDEX  = <span class=\"kwrd\">OFF</span>,       STATISTICS_NORECOMPUTE  = <span class=\"kwrd\">OFF</span>,      SORT_IN_TEMPDB = <span class=\"kwrd\">OFF</span>,      IGNORE_DUP_KEY = <span class=\"kwrd\">OFF</span>, ONLINE = <span class=\"kwrd\">OFF</span>,       ALLOW_ROW_LOCKS  = <span class=\"kwrd\">ON</span>,      ALLOW_PAGE_LOCKS  = <span class=\"kwrd\">ON</span>) <span class=\"kwrd\">ON</span> [<span class=\"kwrd\">PRIMARY</span>]  GO</pre>      <p>SQL Server SQL Azure 마이그레이션하려는 모든 테이블에 대해 클러스터형 인덱스를 만든 후에는 SQL Azure 배포에 한 걸음 더 가까이 다가갈 수 있습니다. 질문, 우려 사항, 의견이 있나요? 아래에 게시하고 우리는 그들을 해결하기 위해 노력할 것입니다.</p>"

### YamlMime:Yaml
ms.openlocfilehash: d63ab1171924676ec69a1aeb833278178198294a
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139900915"
Slug: save-money-with-application-insights-web-sdk-2-0
Title: Application Insights 웹 SDK 2.0으로 비용 절감
Summary: 1년도 채 되지 않아 안정적인 첫 번째 버전의 Application Insights SDK를 출시했습니다. 그 이후로 많은 일이 일어났습니다. 더 알아보려면 계속 읽어 보세요.
Content: "<p>1년도 채 되지 않아 안정적인 첫 번째 버전의 Application Insights SDK를 출시했습니다. 그 이후로 많은 일이 일어났습니다. 그 이후로 버그를 수정하고, 새로운 기능을 도입하고, 많은 피드백을 받았으며, 요구 사항을 더 잘 이해하게 되었습니다. 이제 새 버전의 애플리케이션 Insights SDK를 사용할 차례입니다. 웹 애플리케이션용 .NET 애플리케이션 Insights SDK 2.0을 시작하세요.</p>\n\n<h2>주요 변경 내용</h2>\n\n<p>웹 애플리케이션용 .NET 애플리케이션 Insights SDK 2.0에서는 여러 가지 주요 변경 내용을 도입했습니다. 가장 큰 호환성이 손상되는 변경은 4월 15일에 발생하는 Application Insights SDK에서 HockeyApp SDK로 디바이스 지원을 마이그레이션하는 것입니다. 한편 디바이스 지원이 필요한 경우 이 버전으로 업그레이드하지 마세요. 토마스 Dohmke에 의해 우리의 동기를 설명하는 <a href=\"https://azure.microsoft.com/en-us/blog/transitioning-mobile-apps-from-application-insights-to-hockeyapp\">좋은 블로그 게시물</a> 이있다.</p>\n\n<p>또 다른 큰 변화는 제거된 인터페이스 IContextInitializer입니다. 컨텍스트 이니셜라이저의 개념은 너무 혼란스럽고 오류가 발생하기 쉽기 때문에 <a href=\"https://apmtips.com/blog/2015/06/09/do-not-use-context-initializers/\">컨텍스트 이니셜라이저를 사용하지 않음</a>이라는 &ldquo; 문서를 게시했습니다.&rdquo; 주 버전 변경으로 SDK에서 이 개념을 제거할 기회가 있었습니다. <a href=\"https://github.com/Microsoft/ApplicationInsights-dotnet/releases/tag/v2.0.0\">Core</a> 및 <a href=\"https://github.com/Microsoft/ApplicationInsights-dotnet-server/releases/tag/v2.0.0\">웹</a> 누젯에 대한 릴리스 정보에서 더 작은 호환성이 손상되는 변경 내용이 나열되어 있습니다.</p>\n\n<h2>예측 가능한 가격</h2>\n\n<h4>적응 샘플링</h4>\n\n<p>새 SDK 적응 <a href=\"https://azure.microsoft.com/en-us/documentation/articles/app-insights-sampling/\">샘플링</a>은 <a href=\"https://www.nuget.org/packages/Microsoft.ApplicationInsights.Web\">웹 NuGet 애플리케이션 Insights</a> 설치할 때 기본적으로 사용하도록 설정됩니다. 적응 샘플링을 사용하면 애플리케이션 데이터의 통계적으로 올바른 분석을 유지하면서 감소된 원격 분석 집합을 수집하고 저장합니다.</p>\n\n<p>샘플링이 발생할 때 동일한 구성이 다른 환경에서 작동하는지 확인합니다. 예를 들어 개발 및 테스트 환경에서는 모든 원격 분석 데이터가 표시될 가능성이 높습니다. 부하가 높은 프로덕션 환경에서 SDK는 수집되는 데이터의 양을 자동으로 제한합니다.</p>\n\n<h4>요청 필터링</h4>\n\n<p><a href=\"https://azure.microsoft.com/en-us/blog/request-filtering-in-application-insights-with-telemetry-processor/\">필터링</a>을 기본적으로 지원하면 수집된 데이터의 볼륨을 줄일 수 있습니다. 특정 URL에서 요청을 <a href=\"https://azure.microsoft.com/en-us/documentation/articles/app-insights-api-filtering-sampling/#filtering\">필터링</a>하거나, Web SDK에서 가상 트래픽&rdquo;으로 &ldquo;표시된 모든 로봇 &ndash; 의 요청을 필터링하거나, 사용자 지정 하트비트 이벤트를 필터링하도록 결정할 수 있습니다. 필터링은 결정할 수 있는 기능을 제공합니다.</p>\n\n<h4>노이즈를 줄입니다.</h4>\n\n<p>일부 기본 필터링도 사용하도록 설정했습니다. 특히 정적 콘텐츠에 대한 원격 분석은 수집하지 않습니다. 이로 인해 SDK는 기본적으로 노이즈를 줄입니다.</p>\n\n<p>애플리케이션 Insights 많은 모니터링 요구 사항을 다루는 복잡한 솔루션입니다. 다양한 플랫폼에서 원격 분석을 수집한 다음, 문제를 감지, 심사 및 진단할 수 있습니다. 자동 관리 검색을 사용하면 추측한 적이 없는 문제 및 분석 기능을 인식할 수 있습니다.</p>\n\n<p>이러한 모든 기능을 사용하려면 애플리케이션에서 상당한 양의 데이터를 수집해야 합니다. 수집된 데이터의 양은 실제로 더해질 수 있습니다. 데이터 수집이 아무리 효율적이더라도 항상 데이터 수집과 관련된 제한과 비용이 있습니다. 애플리케이션 Insights 보내고 분석하려는 만큼의 데이터에 대한 비용을 지불할 수 있는 유연한 모델이 있습니다.</p>\n\n<p>데이터에서 사용자 지정 분석을 실행하는 고객이 많습니다. 동시에 기본 검색/심사/진단 시나리오에는 예측 가능한 가격이 있어야 하며 임계값 한도로 제한되지 않아야 한다는 다른 고객으로부터 많은 피드백을 받습니다.</p>\n\n<p>웹 애플리케이션용 .NET 애플리케이션 Insights SDK 2.0을 사용하여 APM 시나리오에 대한 예측 가능한 가격 책정을 위한 첫 번째 단계를 만들었습니다. 이제 원격 분석 데이터를 필터링하는 것이 훨씬 쉬워지고 미리 정의된 필터가 있습니다. 그러나 가장 큰 개선 사항은 애플리케이션에 요청 부하가 많은 경우에도 통계적으로 올바른 데이터를 가져올 수 있는 적응 샘플링 기능입니다.</p>\n\n<h2>Correlation</h2>\n\n<p>원격 분석 상관 관계는 많은 진단 시나리오의 핵심입니다. 애플리케이션 Insights 사용자 및 세션별 상관 관계를 허용합니다. 특정 요청과 연결된 원격 분석을 표시합니다. 예를 들어 애플리케이션의 특정 페이지에서 발생한 모든 예외를 찾을 수 있습니다.</p>\n\n<p>Microsoft는 상관 관계 스토리를 개선하고 웹 애플리케이션용 SDK 2.0을 Insights .NET 애플리케이션의 많은 개선 사항을 계속 진행하고 있습니다.</p>\n\n<h4>자동 생성된 RequestTelemetry 노출</h4>\n\n<p>원격 분석을 현재 요청과 연결해야 하는 경우 이제 새 API 메서드 호출을 사용하여 현재 요청과 연결된 RequestTelemetry 개체에 액세스할 수 있습니다. 예를 들어 로그 파일 추적을 Application Insights 요청 원격 분석과 연결하려는 경우 다음과 같은 코드를 작성할 수 있습니다.</p>\n\n<pre class=\"prettyprint\">\nvar requestTelemetry = HttpContext.Current.GetRequestTelemetry(); \n\nTrace.WriteError(&ldquo;Error processing request with Application Insights ID: &rdquo; + requestTelemetry.Id); \n</pre>\n\n<h4>작업 계층 구조 정의</h4>\n\n<p>이제 애플리케이션 Insights OperationAPI를 사용하여 작업의 범위를 정의할 수 있습니다. 작업의 범위에 속하는 모든 호출에는 일부 작업 ID 및 작업 이름이 있습니다. 예를 들어 이 코드는 추적 및 bing.com 대한 종속성 호출과 관련된 요청 원격 분석 개체를 생성합니다.</p>\n\n<pre class=\"prettyprint\">\nusing (var op = this.telemetryClient.StartOperation&lt;RequestTelemetry&gt;(&quot;request&quot;))  \n\n{  \n\n    this.telemetryClient.TrackTrace(&quot;trace1&quot;);  \n\n \n\n    HttpClient client = new HttpClient();  \n\n    client.GetStringAsync(&quot;https://bing.com&quot;);  \n\n \n\n    this.telemetryClient.TrackTrace(&quot;trace2&quot;); \n\n } \n</pre>\n\n<h2>AJAX 호출을 백 엔드 활동과 상호 연결</h2>\n\n<p>Ajax 호출과 해당 서버 요청 간의 상관 관계를 통해 AJAX 호출이 느린 이유를 실제로 이해할 수 있습니다. 애플리케이션&rsquo; 성능을 조사하는 동안 문제가 발생하는 사용자부터 시작하여 더 많은 고객 영향 기반 프로세스를 만듭니다. 이 기능은 특정 사용자 관련 문제가 발생하는 것을 알 수 있도록 AJAX 호출에 대한 깊은 이해를 제공합니다.</p>\n\n<p><img alt=\"correlation\" border=\"0\" height=\"276\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f10db147-2d32-4db9-9c83-e4d88d8ec7a1.png\" style=\"border-width: 0px; margin: 0px auto; padding-top: 0px; padding-right: 0px; padding-left: 0px; float: none; display: block; background-image: none;\" title=\"correlation(상관 관계)\" width=\"610\"></p>\n\n<h2>다음 내용&rsquo;</h2>\n\n<p>모든 사용자가 새 SDK 버전을 사용하는 것이 좋습니다. 더 빠르고 구성 가능하며 많은 흥미로운 기능이 있습니다.</p>\n\n<p>SDK 2.X의 예정된 부 릴리스를 통해 이 데이터 위에 분석 기능을 유지하면서 APM 시나리오의 비용을 더 예측 가능하게 만들기 위한 노력을 계속할 것입니다. 사용자에게 가장 중요한 원격 분석을 이해하기 위해 스마트 알고리즘을 구현하고, 메트릭이 더 정확해지고,&nbsp; 애플리케이션에 대한 원격 분석 데이터를 더 잘 제어할 수 있습니다.</p>\n\n<p>In-Process 및 교차 구성 요소 원격 분석 상관 관계에 대한 많은 아이디어가 있습니다. 우리는이 지역에 투자 할 것입니다.</p>\n\n<p>또한 애플리케이션 Insights 새로운 기능이 많이 제공되므로 계속 지켜봐 주시고 <a href=\"https://visualstudio.uservoice.com/forums/121579-visual-studio/category/77108-application-insights\">의견을</a> 보내주세요!</p>"

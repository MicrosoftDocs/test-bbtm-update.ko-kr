### YamlMime:Yaml
ms.openlocfilehash: c1a55bcd69fc3eaf4152aeb5603883d39197d4a9
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139897654"
Slug: how-to-use-azure-functions-with-iot-hub-message-routing
Title: IoT Hub 메시지 라우팅에서 Azure Functions를 사용하는 방법
Summary: Azure IoT Hub에서 새 라우팅 엔드포인트에 대한 많은 요청을 받고 있으며, 더 일반적인 질문 중 하나는 Azure Functions로 직접 라우팅할 수 있다는 것입니다. 서버리스 컴퓨팅의 강력한 기능을 손쉽게 사용하면 매우 강력하며 IoT 데이터로 모든 종류의 놀라운 작업을 수행할 수 있습니다.
Content: "<p>Azure IoT Hub에서 새 라우팅 엔드포인트에 대한 많은 요청을 받고 있으며, 더 일반적인 질문 중 하나는 Azure Functions로 직접 라우팅할 수 있다는 것입니다. 서버리스 컴퓨팅의 강력한 기능을 손쉽게 사용하면 매우 강력하며 IoT 데이터로 모든 종류의 놀라운 작업을 수행할 수 있습니다.<br>\n&nbsp;<br>\n(빠른 새로 고침: 2016년 12월에 IoT Hub에서 메시지 라우팅을 릴리스했습니다. 메시지 라우팅을 통해 고객은 여러 시스템에 대한 이벤트 자동 라우팅을 설정할 수 있으며, 어려운 구현 아키텍처를 모두 처리합니다. 현재는 라우팅 규칙에 대한 사용자 지정 엔드포인트로 Service Bus 큐, 토픽 및 Event Hubs를 통해 백 엔드 처리 서비스로 메시지를 라우팅하도록 IoT Hub를 구성할 수 있습니다.)</p>\n\n<blockquote>\n<p>한 가지 빠른 참고 사항: IoT Hub로 전송된 모든 메시지에서 Azure Function을 트리거하려는 경우 이미 트리거할 수 있습니다. Event Hubs 트리거를 사용하고 IoT Hub&#39;기본 제공 Event Hub 호환 엔드포인트를 함수의 트리거로 지정하기만 하면 됩니다. 엔드포인트 이벤트 아래 포털에서 IoT Hub 기본 제공 엔드포인트 정보를 가져올 수 있습니다.&ndash;&gt;</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b5bf5bc9-40f5-464d-b686-2b60690aace5.png\"><img alt=\"Endpoints\" border=\"0\" height=\"214\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ca743e20-011c-4f0a-844b-88c7ae4c0e55.png\" style=\"border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;\" title=\"끝점\" width=\"610\"></a></p>\n\n<p>함수를 설정할 때 해당 정보를 입력하는 위치는 다음과&rsquo; 같습니다.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8ba53747-00dd-4db0-95de-ba727447951b.png\"><img alt=\"Name function\" border=\"0\" height=\"188\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6395da05-5dff-48a4-acad-6161325b0a3d.png\" style=\"border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;\" title=\"Name 함수\" width=\"480\"></a></p>\n\n<p>그&rsquo; 이상을 하고 싶다면 계속 읽으십시오.</p>\n</blockquote>\n\n<p>나는 좋은 소식을 가지고 있고 나는 나쁜 소식을 가지고있다. 나쁜 소식: 이 블로그 게시물은 IoT Hub에서 사용자 지정 엔드포인트로 Functions에 대한 지원을 발표하지 않습니다(백로그에&#39;). 좋은 소식은 중간 서비스를 사용하여 Azure Function을 트리거하는 것이 정말 쉬운&#39;있다는 것입니다.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-csharp-csharp-process-d2c\">&#39;경로를 사용하여 IoT Hub 디바이스-클라우드 메시지 처리</a> 연습에 설명된 시나리오를 살펴보겠습니다. 이 문서에서 디바이스는 때때로 IoT Hub를 통한 트래픽의 대부분을 구성하는 원격 분석 메시지와 다른 처리가 필요한 중요한 경고 메시지를 보냅니다. 이 문서에서는 IoT Hub에 사용자 지정 엔드포인트로 추가된 Service Bus 큐로 메시지를 라우팅합니다. 고객에게 메시지 라우팅 기능을 데모할 때 논리 앱을 사용하여 큐에서 읽고 메시지를 추가로 처리하지만 Azure Function을 사용하여 일부 사용자 지정 코드를 쉽게 실행할 수 있습니다. &#39;이미 연습을 통해 실행하고 Service Bus 큐에 대한 경로를 만든&#39;가정하지만, 그렇게하는 방법에 대한 빠른 새로 고침을 원한다면 <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-csharp-csharp-process-d2c\">여기에서 설명서</a>로 바로 이동할 수 있습니다. 이 게시물은 당신이 돌아올 때 기다리고있을 것입니다!</p>\n\n<p>먼저 Azure Portal에서 함수 앱을 만듭니 <a href=\"https://portal.azure.com/\">다</a>.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5a66c865-ba62-4c7f-8177-780eee967a86.png\"><img alt=\"Create function\" border=\"0\" height=\"283\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/fc977e97-1fef-4631-be47-32705e28f2a8.png\" style=\"border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;\" title=\"함수 만들기\" width=\"336\"></a></p>\n\n<p>다음으로, 큐에서 데이터를 읽는 함수를 만듭니다. 빠른 시작 페이지에서 사용자 지정 함수&rdquo; 만들기를 클릭하고 &ldquo;ServiceBusQueueTrigger-CSharp&rdquo; 템플릿&ldquo;을 선택합니다.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/78b092c3-899e-46fa-89c3-37f59daf0048.png\"><img alt=\"Functions templates\" border=\"0\" height=\"268\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/368a8425-7e78-4c6a-9ad1-ee672c40d69d.png\" style=\"border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;\" title=\"함수 템플릿\" width=\"610\"></a></p>\n\n<p>단계에 따라 Service Bus 큐 연결 정보를 함수&rsquo;에 추가하고 트리거 설정을 완료했습니다. 이제 Azure Functions의 기능을 사용하여 큐에 새 메시지가&#39;때마다 사용자 지정 메시지 처리 코드를 트리거할 수 있습니다.<br>\n&nbsp;<br>Service Bus 100만 개 작업당 \n<a href=\"https://azure.microsoft.com/en-us/pricing/details/service-bus/\">요금이 청구</a>되며 IoT 솔루션의 비용에 상당한 금액을 추가할&#39;없습니다. 예를 들어 1단원 SKU IoT Hub(400k messages/day)의 모든 메시지를 이러한 방식으로 함수로 보내는 경우 기본 SKU 큐를 사용하는 경우 중간 큐에 대해 $0.05 USD 미만을 지불합니다. Im&rsquo; 거기 은행을 깨는 하지.<br>\n&nbsp;<br>\nIoT Hub에서 Azure Functions로의 라우팅에 대한 일류 지원이 있을 때까지 이 작업을 수행해야 합니다. 그 동안 <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-messaging\">개발자 가이드</a>에서 메시지 경로에 대해 자세히 알아보&nbsp;고, 언제나처럼 사용자 <a href=\"https://feedback.azure.com/forums/321918-azure-iot/\">의견 포럼을</a> 통해 제안을 계속 제출하거나 Azure IoT Azure IoT <a href=\"https://www.yammer.com/azureadvisors/\">Advisors Yammer 그룹에</a> 참여하세요.</p>"

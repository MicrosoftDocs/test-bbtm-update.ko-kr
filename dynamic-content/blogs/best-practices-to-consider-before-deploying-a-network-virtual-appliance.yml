### YamlMime:Yaml
ms.openlocfilehash: 65a1386314024baf4cea52993f16b6ec64ae1f1f
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139906121"
Slug: best-practices-to-consider-before-deploying-a-network-virtual-appliance
Title: 네트워크 가상 어플라이언스를 배포하기 전에 고려해야 할 모범 사례
Summary: NVA(네트워크 가상 어플라이언스)는 주로 네트워크 기능 가상화에 초점을 맞춘 가상 어플라이언스입니다. 일반적인 네트워크 가상 어플라이언스에는 방화벽, WAN 최적화 프로그램, 애플리케이션 배달 컨트롤러, 라우터, 부하 분산 장치, IDS/IPS, 프록시, SD-WAN 에지 등과 같은 4~7개 함수의 다양한 계층이 포함됩니다.
Content: >-
  <p>NVA(네트워크 가상 어플라이언스)는 주로 네트워크 기능 가상화에 초점을 맞춘 가상 어플라이언스입니다. 일반적인 네트워크 가상 어플라이언스에는 방화벽, WAN 최적화 프로그램, 애플리케이션 배달 컨트롤러, 라우터, 부하 분산 장치, IDS/IPS, 프록시, SD-WAN 에지 등과 같은 다양한 계층 4~7개가 포함됩니다. 퍼블릭 클라우드는 이러한 기능 중 일부를 기본적으로 제공할 수 있지만, ISV(독립 소프트웨어 공급업체)에서 네트워크 가상 어플라이언스를 배포하는 고객을 보는 것은 매우 일반적입니다. 퍼블릭 클라우드의 이러한 기능은 하이브리드 솔루션을 지원하며 <a href="https://azuremarketplace.microsoft.com/en-us/marketplace/apps/category/networking?page=1" target="_blank">일반적으로 Azure Marketplace</a>를 통해 사용할 수 있습니다.</p>


  <h2>클라우드의 네트워크 가상 어플라이언스는 정확히 무엇인가요?</h2>


  <p>네트워크 가상 어플라이언스는 Linux 커널로 구성된 전체 Linux VM(가상 머신) 이미지이며 사용자 수준 애플리케이션 및 서비스를 포함합니다. VM이 만들어지면 먼저 Linux 커널을 부팅하여 시스템을 초기화한 다음, 네트워크 가상 어플라이언스를 작동하는 데 필요한 모든 애플리케이션 또는 관리 서비스를 시작합니다. 클라우드 공급자는 컴퓨팅 리소스를 담당하고 ISV는 가상 어플라이언스의 소프트웨어 스택을 나타내는 이미지를 제공합니다.</p>


  <p>표준 Linux 배포판과 마찬가지로 Linux 커널은 NVAS&rsquo; 이미지에 필수적인 요소이며 ISV에서 종종 사용자 지정되어 제공됩니다. 커널 자체에는 가상 머신에서 사용할 수 있는 모든 네트워크 및 디스크 디바이스에 필요한 드라이버가 포함됩니다. NVAS&rsquo; 커널에 대한 버전 및 사용자 지정은 종종 가상 머신의 성능과 기능에 영향을 줍니다. Linux 및 가속 네트워킹에 대한 자세한 내용은 가속화된 네트워킹을 <a href="https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fazure%2Fvirtual-network%2Fcreate-vm-accelerated-networking-cli&amp;data=02%7C01%7Creyandap%40microsoft.com%7C5de313ff164f42ce46bd08d67b457ae2%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636831935668168822&amp;sdata=VBpx%2BqORSMmsF50JzdZ9Sr%2FSCvcqSNh%2FVzBDc6uC0iA%3D&amp;reserved=0" target="_blank">사용하여 Linux 가상 머신 만들기</a> 설명서를 &ldquo; 참조하세요.&rdquo; 성능 향상 또는 완전히 새로운 네트워킹 기능과 같은 Azure 플랫폼에 대한 새로운 네트워킹 기능이 향상됨에 따라 ISV는 이러한 향상된 기능을 지원하기 위해 소프트웨어 이미지를 업데이트해야 할 수 있습니다. 종종 업스트림 Linux 프로젝트에서 Linux 커널의 버전을 업데이트해야 합니다. 최신 업데이트는 <a href="https://www.kernel.org/" target="_blank">Linux 커널 보관</a> 웹 사이트를 참조하세요.</p>


  <p>Azure Marketplace에 게시된 모든 NVA 이미지는 엄격한 테스트 및 온보딩 워크플로를 거닐게 됩니다. Azures&rsquo; 연속 통합 및 배포 수명 주기의 일부로 NVA 이미지는 회귀 또는 문제에 대한 사전 프로덕션 환경에서 배포 및 테스트됩니다. ISV는 특정 제품에 대한 배포 지침 및 <a href="https://www.github.com/" target="_blank">GithHub</a> 에 게시된 ARM(Azure Resource Manager) 템플릿을 게시하는 역할을 담당합니다. 어플라이언스의 기술 및 성능 사양은 ISV가 소유하고 Microsoft는 호스트 환경의 기술 및 성능 사양을 소유합니다. 고객&rsquo; 가상 어플라이언스, its&rsquo; 기능, 권장 OS 버전, 커널 버전 및 보안 업데이트에 대한 기술 지원은 ISV에서 제공합니다.</p>


  <p>NVA 솔루션의 가격 책정은 제품 유형 및 게시자 사양에 따라 달라질 수 있습니다. 소프트웨어 라이선스 요금 및 Microsoft Azure 사용 비용은 Azure 구독을 통해 별도로 청구됩니다. 가상 어플라이언스 및 Azure Marketplace와 관련된 <a href="https://azure.microsoft.com/en-us/marketplace/faq/" target="_blank">Marketplace FAQ</a> 목록을 방문하여 자세히 알아보세요.</p>


  <p>다음은 온-프레미스 네트워크를 Azure로 확장하는 하이브리드 네트워크의 예입니다. DMZ(완역 영역)는 NVA를 포함하는 온-프레미스와 Azure 간의 경계 네트워크를 나타냅니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2db17e69-d2fa-4950-8a27-d117e9496f3e.png"><img alt="Flowchart example of a hybrid network that extends an on-premises network to Azure" border="0" height="491" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/77ad3006-fea7-45a5-b92f-49e37843e2fb.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="온-프레미스 네트워크를 Azure로 확장하는 하이브리드 네트워크의 순서도 예제" width="1446"></a></p>


  <p>아래의 또 다른 예제는 Azure Virtual WAN을 사용하는 NVA를 보여줍니다. Virtual WAN 허브에서 네트워크 가상 어플라이언스로 트래픽을 조정하는 방법에 대한 자세한 내용은 Virtual <a href="https://docs.microsoft.com/en-us/azure/virtual-wan/virtual-wan-route-table" target="_blank">Hub 경로 테이블 만들기에서 네트워크 가상 어플라이언스로 트래픽을 조정하는</a> 설명서를 &ldquo; 참조하세요.&rdquo;</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/45447616-f3a5-47b9-bcb9-9834c98676ba.png"><img alt="Flowchart example of NVA with Azure Virtual WAn" border="0" height="511" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/89a112a2-8c8e-45a7-8d5c-c152802c4a44.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Azure Virtual WAn을 사용하여 NVA의 순서도 예제" width="1399"></a></p>


  <h2>일반적인 모범 사례</h2>


  <p>Microsoft는 Microsoft 고객의 클라우드 환경을 개선하기 위해 여러 ISV와 계속 협력하고 있습니다.</p>


  <ul>
   <li><strong>Azure 가속 네트워킹 지원: Azures</strong>&rsquo; 가속 네트워킹 기능을 사용하여 지원되는 VM 유형 중 하나에서 사용할 수 있는 가상 어플라이언스를 고려합니다. 가속화된 네트워킹을 사용하면 VM에 대한 단일 루트 I/O 가상화(SR-IOV)를 구현할 수 있어 네트워킹 성능이 크게 향상됩니다. 이 고성능 경로는 데이터 경로에서 호스트를 우회하여 지원되는 VM 유형에서 가장 까다로운 네트워크 워크로드에 사용하기 위한 대기 시간, 지터 및 CPU 사용률을 줄입니다. 가속 네트워킹은 가장 일반적인 용도로 2개 이상의 vCPU가 포함된 계산 최적화 인스턴스 크기에서 지원됩니다. 지원되는 OS 목록 및 추가 정보는 설명서를 참조하세요. &ldquo;<a href="https://docs.microsoft.com/en-us/azure/virtual-network/create-vm-accelerated-networking-powershell" target="_blank">가속화된 네트워킹을 사용하여 Windows 가상 머신을 만듭니다</a>.&rdquo;&nbsp;</li>
   <li><strong>다중 NIC 지원</strong>: NIC( <a href="https://docs.microsoft.com/en-us/azure/virtual-network/virtual-network-network-interface" target="_blank">네트워크 인터페이스</a> )는 VM과 VNet(가상 네트워크) 간의 상호 연결입니다. VM에는 하나 이상의 NIC가 있어야 하지만 만드는 VM의 크기에 따라 둘 이상의 NIC가 있을 수 있습니다. 설명서에서 각 VM 크기가 Windows 및 Linux에 대해 지원하는 NIC 수, &ldquo;<a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sizes" target="_blank">Azure의 Windows 가상 머신 크기</a> 또는 &ldquo; Azure&rdquo;<a href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/sizes" target="_blank">의 Linux 가상 머신에 대한 크기에</a> 대해 알아봅니다.&rdquo; 많은 네트워크 가상 어플라이언스에는 여러 NIC가 필요합니다. 여러 NIC를 사용하면 다양한 NIC에서 다양한 유형의 트래픽을 격리하여 네트워크 트래픽을 더 잘 관리할 수 있습니다. 좋은 예는 관리 평면에서 데이터 평면 트래픽을 분리하므로 VM이 둘 이상의 NIC를 지원하는 것입니다. VM은 VM 크기에서 지원하는 수만큼 네트워크 인터페이스를 연결할 수 있습니다. NVA를 배포한 후 NIC를 추가하려는 경우 NIC에서 IP 전달을 사용하도록 설정해야 합니다. 이 설정은 네트워크 인터페이스의 원본 및 대상에 대한 Azure&#39;검사를 사용하지 않도록 설정합니다. <a href="https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fazure%2Fvirtual-network%2Fvirtual-network-network-interface%23enable-or-disable-ip-forwarding&amp;data=02%7C01%7Cv-jujame%40microsoft.com%7C510821e5cfc24ad0f50e08d68879af8f%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636846453552702577&amp;sdata=DUbp%2BaMbkB0rJZ%2Bh%2ByP2JA4KftdZNBXW1LtleY%2BLGFc%3D&amp;reserved=0" target="_blank">네트워크 인터페이스에 대한 IP 전달 사용을 설정하는 방법</a>에 대해 자세히 알아보세요.</li>
   <li><strong>Azure Load Balancer 있는 HA 포트</strong>: Azure 표준 Load Balancer를 사용하면 내부 부하 분산 장치를 사용할 때 모든 포트에서 TCP 및 UDP 흐름을 동시에 부하 분산할&#39;있습니다. HA(고가용성) 포트 부하 분산 규칙은 내부 표준 Load Balancer에 구성된 부하 분산 규칙의 변형입니다. NVA 인스턴스를 내부 부하 분산 장치의 백 엔드 풀에 추가하고 HA 포트 부하 분산 장치 규칙을 구성하여 이러한 목표를 달성하기 위해 NVA를 안정적이고 고가용성으로 만들 수 있습니다. HA 포트 개요에 대한 자세한 내용은 설명서인 &ldquo;<a href="https://docs.microsoft.com/en-us/azure/load-balancer/load-balancer-ha-ports-overview" target="_blank">고가용성 포트 개요</a>를 참조하세요.&rdquo;</li>
  </ul>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c99b6831-5160-4192-83f0-eb8e190bd4ea.png"><img alt="Flowchart example of HA Port with Azure Load Balancer" border="0" height="569" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4580ba09-6d3e-4c7d-92a6-f26e572ab077.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Azure Load Balancer 있는 HA 포트의 순서도 예제" width="972"></a></p>


  <ul>
   <li><strong>VMSS(Virtual Machine Scale Sets) 지원</strong>: Azure Virtual Machine Scale Sets를 사용하면 부하가 분산된 동일한 VM 그룹을 만들고 관리할 수 있습니다. VM 인스턴스 수는 수요 또는 정의된 일정에 따라 자동으로 증가하거나 감소할 수 있습니다. 확장 집합은 애플리케이션에 고가용성을 제공하고 많은 수의 VM을 중앙에서 관리, 구성 및 업데이트할 수 있게 합니다. 확장 집합은 가상 머신에서 작성됩니다. 확장 집합을 사용하면 애플리케이션을 실행하고 크기를 조정할 수 있는 관리 및 자동화 계층이 제공됩니다. 자세한 내용은 설명서인 &ldquo;<a href="https://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/overview" target="_blank">가상 머신 확장 집합이란?</a>을 참조하세요.&rdquo;</li>
  </ul>


  <p>기업이 중요 업무용 워크로드를 클라우드로 이동함에 따라 배포, 관리, 크기 조정 및 모니터링하기 쉬운 포괄적인 네트워킹 서비스를 고려하는 것이 중요합니다. Microsoft는 네트워크 요구 사항과 함께 클라우드의 모든 이점을 제공할 수 있는 최상의 네트워크 가상 어플라이언스 환경을 제공하기 위해 최선을 다하고 있습니다. 가상 어플라이언스 선택은 네트워크를 디자인할 때 중요한 결정일 수 있습니다. 우리는 당신이 함께 사용, 규모 및 더 나은 미래를 위해 그렇게 할 수 있도록하고 싶습니다.</p>


  <h2>추가 링크</h2>


  <ul>
   <li><a href="https://support.microsoft.com/en-us/help/2941892/support-for-linux-and-open-source-technology-in-azure" target="_blank">Azure에서 Linux 및 오픈 소스 기술 지원</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/dmz/nva-ha" target="_blank">고가용성 네트워크 가상 어플라이언스 배포</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/" target="_blank">Azure 참조 아키텍처</a></li>
  </ul>

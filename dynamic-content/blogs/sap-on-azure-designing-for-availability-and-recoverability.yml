### YamlMime:Yaml
ms.openlocfilehash: 804c6dc07816f662b7ef035f20b872d6054ad59c
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139900932"
Slug: sap-on-azure-designing-for-availability-and-recoverability
Title: Azure의 SAP – 가용성 및 복구 가능성을 위한 디자인
Summary: >-
  이는 Azure 아키텍처에서 훌륭한 SAP 설계에 관한 네 부분으로 구성된 블로그 시리즈의 두 번째입니다.

  Azure 아키텍처의 강력한 SAP는 보안, 성능 및 확장성, 가용성 및 복구 가능성, 효율성 및 운영의 핵심 요소에 기반을 두고 있습니다.
Content: >-
  <p dir="ltr" style="margin-right: 0px;"><a href="https://azure.microsoft.com/en-us/blog/sap-on-azure-architecture-designing-for-security/">Azure 아키텍처에서 훌륭한 SAP를 디자인하는 네</a> 부분으로 구성된 블로그 시리즈의 세 번째 시리즈입니다.</p>


  <p dir="ltr">Azure 아키텍처의 강력한 SAP는 보안, 성능 및 확장성, 가용성 및 복구 가능성, 효율성 및 운영의 핵심 요소에 기반을 두고 있습니다.</p>


  <p dir="ltr">이전에는 <a href="https://azure.microsoft.com/en-us/blog/sap-on-azure-architecture-designing-for-performance-and-scalability/">성능 및 확장성을 위한 설계를</a> 다루었으며 이 블로그 내에서 가용성 및 복구 가능성에 중점을 두었습니다.</p>


  <h3 dir="ltr">가용성을 위한 디자인</h3>


  <p dir="ltr">가용성을 디자인하면 SAP ERP 또는 S/4HANA와 같은 중요 업무용 SAP 애플리케이션에 HA(고가용성) 프로비전이 적용됩니다. 이러한 HA 프로비저닝은 애플리케이션이 하드웨어 및 소프트웨어 오류 모두에 대한 복원력을 보장하고 SAP 애플리케이션 가동 시간이 SLA(서비스 수준 계약)를 충족하도록 보호되도록 합니다.</p>


  <p dir="ltr">아래 링크 내에서 계획되지 않은 하드웨어 유지 관리 이벤트, 예기치 않은 가동 중지 시간 및 계획된 유지 관리 이벤트를 자세히 다루는 Azure 가상 머신 유지 관리 및 가동 중지 시간에 대한 포괄적인 개요를 찾을 수 있습니다.</p>


  <ul dir="ltr">
   <li>
   <div><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/manage-availability">Linux Virtual Machines 설명서의 가용성 관리</a></div>
   </li>
   <li>
   <div><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/manage-availability">Azure에서 Windows 가상 머신의 가용성 관리</a></div>
   </li>
  </ul>


  <p dir="ltr" style="margin-right: 0px;"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/feb66d1a-fe92-464a-b08c-5d0f8822e501.png"><img alt="740 Blog" border="0" height="381" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3ea59a64-bd5b-4eef-bf86-099702811a61.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="740 블로그" width="1024"></a></p>


  <p><br>

  가용성 관점에서 Azure에서 SAP를 배포하는 데 사용할 수 있는 옵션은 다음과 같습니다.</p>


  <ol dir="ltr">
   <li>Azure Premium Storage를 사용하는 단일 인스턴스 VM의 경우 99.9% SLA입니다. 이 경우 SAP DB(데이터베이스), 시스템 중앙 서비스 A(SCS) 및 애플리케이션 서버는 별도의 VM에서 실행되거나 하나 이상의 VM에서 통합됩니다. 99.9% SLA는 단일 노드인 운영 체제 미설치 HANA 대규모 인스턴스에서도 제공됩니다.</li>
   <li>동일한 Azure 가용성 집합 내의 VM에 대한 99.95% SLA입니다. 가용성 집합은 집합 내의 VM이 별도의 장애 및 업데이트 도메인에 배포되도록 강제합니다. 따라서 계획되지 않은 하드웨어 유지 관리 이벤트, 예기치 않은 가동 중지 시간 및 계획된 유지 관리 이벤트으로부터 VM을 보호할 수 있습니다. SAP 애플리케이션의 HA를 보장하기 위해 가용성 집합은 Azure Load Balancer,&nbsp; Windows 장애 조치(failover) 클러스터 또는 Linux Pacemaker와 같은 게스트 운영 체제 클러스터링 기술과 함께 사용되어 짧은 장애 조치(failover) 시간 및 동기 데이터베이스 복제 기술(SQL AlwaysOn, HANA 시스템 복제 등)을 용이하게 하여 데이터 손실을 보장합니다. 또한 SAP 큐에 넣기 복제 서버를 구성하면 A(SCS)의 장애 조치(failover) 중에 SAP 잠금 테이블이 손실되지 않도록 완화할 수 있습니다.</li>
   <li>Azure 가용성 영역 내의 VM에 대한 99.99% SLA입니다. Azure 지역의 가용성 영역은 장애 도메인과 업데이트 도메인의 조합입니다. Azure 플랫폼은 업데이트 도메인 간에 이 배포를 인식하여 Azure 계획된 유지 관리 이벤트의 경우 다른 영역의 VM이 동시에 업데이트되지 않도록 합니다.&nbsp; 또한 가용성 영역은 각 영역에 자체 전원, 네트워크, 냉각이 있고 Azure 지역 내의 다른 영역과 논리적으로 분리되는 Azure 지역 내의 물리적으로 분리된 영역입니다. 이 생성은 지정된 영역 내의 하드웨어 또는 인프라 오류로 인해 예기치 않은 가동 중지 시간을 방지합니다. DBMS 복제(HANA 시스템 복제, SQL AlwaysOn), SAP 큐에 넣기 복제 서버 등 여러 영역에서 복제를 활용하도록 SAP 배포를 설계하고 영역 간에 SAP 애플리케이션 서버를 배포하면 전체 데이터 센터의 손실로부터 SAP 시스템을 보호할 수 있습니다. 한 영역이 손상된 경우 SAP 시스템은 다른 영역에서 사용할 수 있습니다. Azure 가용성 영역 및 최신 Mv2 VM 제품에 대한 개요는 <a href="https://www.youtube.com/watch?v=U7I2b0K7LH0">이 비디오를 확인할</a> 수 있습니다.</li>
   <li>HANA 큰 인스턴스는 HA 쌍으로 구성된 경우 99.99%의 SLA에서 제공되며, 이는 단일 데이터 센터 및 가용성 영역 배포에 적용됩니다.</li>
  </ol>


  <p dir="ltr">가용성 집합 및 가용성 영역의 경우 HA에 게스트 OS 클러스터링이 필요합니다. 이 기회를 사용하여 SAP 애플리케이션의 분할 브레인을 방지하기 위해 Azure에서 Linux Pacemaker 펜싱 옵션을 명확히 하고 싶습니다.</p>


  <ul dir="ltr">
   <li>
   <div>Azure Fencing Agent</div>
   </li>
   <li>Storage 기반 사망(SBD)</li>
  </ul>


  <p dir="ltr">Azure 펜싱 에이전트는 RedHat Enterprise Linux(RHEL) 및 SLES(SUSE Enterprise Linux)에서 모두 사용할 수 있으며 SBD는 SLES에서 지원되지만 RHEL은 지원되지 않습니다.&nbsp; Pacemaker를 사용하는 Azure의 SAP에 대한 가장 짧은 클러스터 장애 조치(failover) 시간에 대해서는 다음을 권장합니다.</p>


  <ul dir="ltr">
   <li>
   <div>RHEL을 기반으로 하는 SAP 클러스터용 Azure Fencing Agent.</div>
   </li>
   <li>SLES에 빌드된 SAP 클러스터용 SBD</li>
  </ul>


  <p dir="ltr">생산적인 SAP 애플리케이션의 경우 가용성 집합 또는 가용성 영역을 사용하는 것이 좋습니다.&nbsp; 가용성 영역은 Azure 지역 내의 데이터 센터 오류에 대한 복원력을 추가하여 HA를 제공하는 가용성 집합의 대안입니다. 그러나 서로 다른 가용성 영역을 호스팅하는 건물 구조 간의 특정 거리가 보장되지는 않습니다. 다른 Azure 지역에서는 실제 건물의 거리 측면에서 서로 다른 설정이 발생할 수 있습니다. 따라서 결정적 애플리케이션 성능과 가장 낮은 RTT(네트워크 왕복 시간)의 경우 가용성 집합이 더 나은 옵션이 될 수 있습니다.</p>


  <p dir="ltr">단일 인스턴스 VM은 프로덕션과 동일한 수준의 가용성 SLA가 없는&rsquo; 비프로덕션(프로젝트, 샌드박스 및 테스트 SAP 시스템)에 적합할 수 있습니다. 이 옵션은 실행 비용을 최소화하는 데도 도움이 됩니다.</p>


  <h2>복구 가능성을 위한 디자인</h2>


  <p>복구 가능성을 위해 설계한다는 것은 SAP 데이터베이스의 논리적 오류, 대규모 재해 또는 전체 Azure 지역의 손실과 같은 데이터 손실로부터 복구하는 것을 의미합니다. 복구 기능을 디자인할 때는 SAP 애플리케이션의 RPO(복구 지점 목표) 및 RTO(복구 시간 목표)를 이해해야 합니다. <a href="https://docs.microsoft.com/en-us/azure/best-practices-availability-paired-regions" target="_blank">Azure 지역 쌍</a> 은 단일 지역에 영향을 미치는 자연 재해 또는 인적 재해의 위험을 헤지할 수 있는 격리 및 가용성을 제공하는 재해 복구에 권장됩니다.</p>


  <p dir="ltr">DBMS 계층에서 비동기 복제를 사용하여 주 지역에서 DR(재해 복구) 지역으로 프로덕션 데이터를 복제할 수 있습니다. SAP 애플리케이션 계층에서 <a href="https://docs.microsoft.com/en-us/azure/site-recovery/site-recovery-sap" target="_blank">Azure-Azure Site Recovery</a> 를 효율적이고 비용에 민감한 DR 솔루션의 일부로 사용할 수 있습니다. 또한 아래와 같이 투자 수익을 높이기 위해 결합된 QA/DR 시스템을 실행하는 등 DR 쪽에서 이중 용도 시나리오를 설계하도록 선택할 수도 있습니다.</p>


  <p>HA 및 DR 외에도 SAP 데이터의 백업 및 복구를 위한 엔터프라이즈 데이터 보호 솔루션이 필수적입니다.</p>


  <p>자사 <a href="https://docs.microsoft.com/en-us/azure/backup/backup-azure-sap-hana-database" target="_blank">Azure Backup 제품은 SAP HANA용으로 인증되었으며</a>, 솔루션은 현재 공개 미리 보기(2019년 9월 현재)에 있으며, 데이터 스냅샷 및 SAP HANA 스케일 아웃과 같은 향후 지원될 추가 시나리오를 통해 SAP HANA 스케일 업(데이터 및 로그 백업)을 지원합니다.</p>


  <p>또한 Azure 플랫폼은 SAP 애플리케이션에 대한 엔터프라이즈 데이터 보호 및 관리를 제공하는 광범위한 ISV를 지원합니다. 이러한 ISV 중 하나는 Microsoft가 최근에 이 <a href="https://azure.microsoft.com/en-us/resources/protecting-sap-hana-in-azure/" target="_blank">백서</a> 생성을 위해 제휴한 Commvault입니다. Commvault의 주요 이점은 SAP 데이터베이스 &ndash; 의 즉각적인 애플리케이션 일치 데이터 스냅샷을 제공하는 IntelliSnap(데이터 스냅샷) 기능이며 이는 RTO 요구 사항이 낮은 대규모 데이터베이스에 매우 유용합니다. Commvault는 SAP HANA 스케일 업, SAP HANA 스케일 아웃 및 anyDB 워크로드 모두를 위해 Azure Blob Storage에 직접 고성능 다중 스트리밍(backint) 데이터 백업을 용이하게 합니다. 엔터프라이즈 데이터 보호 전략에는 데이터 스냅샷과 데이터 백업의 조합(예: 매일 스냅샷 실행) 및 주말에 데이터 백업(backint)이 포함될 수 있습니다. 아래는 M128s(2TB) VM의 SAP HANA 데이터베이스에 대해 IntelliSnap을 통해 실행되는 데이터 스냅샷이며 스냅샷 기간은 20초입니다.<br>

  &nbsp;</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6c119562-82f0-44b4-ae07-edd3a1134a2c.jpg"><img alt="Blog Photos" border="0" height="277" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3e86f493-b242-42b6-a11c-67a59aa75a1f.jpg" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="블로그 사진" width="1024"></a></p>


  <p>이 블로그에서는 가용성 및 복구 기능을 위해 Azure에서 SAP를 디자인하는 옵션을 요약했습니다. Azure에서 프로덕션 SAP 애플리케이션을 설계하고 배포할 때 중요 업무용 SAP SLA를 지원하기 위해 가용성 집합 또는 가용성 영역을 포함해야 합니다. 또한 완전한 Azure 지역 손실 또는 데이터 손상에 대비하여 SAP 애플리케이션을 보호하기 위해 DR 프로비저닝 및 엔터프라이즈 데이터 보호를 적용해야 합니다.</p>


  <p>SAP 애플리케이션이 생산적인 작업(예: 매년 DR 드릴 테스트)에 있는 경우 SAP에서 Azure 프로젝트까지의 수명 주기를 통해 HA 및 DR 테스트를 실행하고 유지 관리 기간 동안 이러한 기능을 다시 테스트해야 합니다.<br>

  가용성 및 복구 가능성을 지속적으로 검토하여 Microsoft의 모범 사례에 대한 최신 기술 및 지침을 통합해야 합니다.</p>


  <p>이 시리즈의 블로그 #4에서는 효율성과 운영을 위한 디자인을 다룹니다.</p>

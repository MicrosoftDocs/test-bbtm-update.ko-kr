### YamlMime:Yaml
ms.openlocfilehash: 024d2d87884a92e37b418e278389476a37d5b49e
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139902664"
Slug: azure-stack-iaas-part-four
Title: Azure Stack IaaS – 4부
Summary: 이 게시물에서는 Azure Stack에서 IaaS VM(가상 머신)을 보호하기 위한 개념과 모범 사례를 다룹니다.
Content: >-
  <h2>물건 보호</h2>


  <p>이 게시물&rsquo;에서는 Azure Stack에서 IaaS VM(가상 머신)을 보호하기 위한 개념 및 모범 사례를 다룹니다. 이 게시물은 <a href="https://aka.ms/azurestackbcdrconsiderationswp">비즈니스 연속성 및 재해 복구 백서에 대한 Azure Stack 고려 사항</a>의 일부입니다.</p>


  <h2>IaaS 가상 머신 기반 애플리케이션 보호</h2>


  <p>Azure Stack은 조직&rsquo; 데이터 센터에서 IaaS Azure 서비스를 제공할 수 있는 Azure의 확장입니다. Azure Stack에서 IaaS 서비스를 사용하려면 BC/DR(비즈니스 연속성 및 재해 복구)에 대한 최신 접근 방식이 필요합니다. &rsquo;Azure 및 Azure Stack을 사용하여 여정을 시작하는 경우 조직에서 클라우드 컨텍스트에서 애플리케이션 현대화의 즉각적이고 장기적인 영향을 이해할 수 있도록 포괄적인 BC/DR 전략을 통해 작업해야 합니다. Azure Stack이 이미 있는 경우 각 애플리케이션에는 조직의 비즈니스 요구 사항을 충족하는 복원력, 안정성 및 가용성 요구 사항을 설명하는 잘 설명된 BC/DR 계획이 있어야 합니다.</p>


  <h2>Azure Stack이란 무엇이고 무엇이 아닌지&rsquo;</h2>


  <p>Ignite 2017에서 Azure Stack을 시작한 이후, Weve&rsquo;는 조직 내에서 직면한 문제에 대한 많은 고객의 피드백을 받아 최종 고객에게 Azure Stack을 전파했습니다. 주요 관심사는 기존 가상화와는 확연한 차이점입니다. BC/DR 관행을 현대화하는 맥락에서 다음 세 가지 오해가 두드러지게 됩니다.</p>


  <h3>Azure Stack은 또 다른 가상화 플랫폼입니다.</h3>


  <p>Azure Stack은 <a href="https://azure.microsoft.com/en-us/overview/azure-stack/">통합 시스템 파트너와</a> 공동 엔지니어링된 규범적 하드웨어의 어플라이언스로 제공됩니다. Azure Stack에서 제공하는 서비스와 고객이 시스템에 배포할 애플리케이션에 집중해야 합니다. 애플리케이션 팀과 협력하여 서비스를 실행하는 인프라와는 별도로 최신 IaaS의 컨텍스트에서 고가용성, 백업 복구, 재해 복구 및 모니터링을 수행하는 방법을 정의할 책임이 있습니다.</p>


  <h3>Azure Stack에서 동일한 가상화 보호 체계를 사용할 수 있어야 합니다.</h3>


  <p>Azure Stack은 인프라를 보호하기 위해 여러 보안 계층이 있는 봉인된 시스템으로 제공됩니다. 제약 조건은 다음과 같습니다.</p>


  <ul>
   <li>Azure Stack 연산 <a href="https://docs.microsoft.com/en-us/azure/azure-stack/azure-stack-security-foundations">자는 시스템에 대한 제한된 관리 액세스 권한만 갖습니다</a>. 시스템에 대한 상승된 액세스는 <a href="https://docs.microsoft.com/en-us/azure/azure-stack/azure-stack-privileged-endpoint">Microsoft 지원을</a> 통해서만 가능합니다.</li>
   <li>배율 단위 노드 및 인프라 서비스에는 코드 무결성이 활성화되어 있습니다.</li>
   <li>네트워킹 계층에서 스위치에 정의된 트래픽 흐름은 액세스 제어 목록을 사용하여 배포 시 잠깁니다.</li>
  </ul>


  <p>이러한 제약 조건을 감안할 때 확장 단위 노드에 백업/복제 에이전트를 설치하거나, 복제 및 스냅샷을 위해 외부 디바이스의 노드에 대한 액세스 권한을 부여하거나, 스토리지 수준 복제를 위해 외부 스토리지 디바이스를 다른 사이트에 물리적으로 연결할 기회가 없습니다.</p>


  <p>고객의 또 다른 요청은 여러 데이터 센터 또는 사이트에 하나의 Azure Stack 스케일 단위를 배포할 수 있다는 것입니다. Azure Stack은 확장 단위 또는 다중 사이트 토폴로지를 지원하지 않습니다&rsquo;. 확장된 배포에서는 한 사이트의 노드가 애플리케이션을 계속 실행하는 데 사용할 수 있는 보조 사이트의 나머지 노드와 오프라인으로 전환될 수 있습니다. 가용성 관점에서 Azure Stack은 N-1 내결함성만 지원하므로 노드 수의 절반을 잃으면 시스템이 오프라인 상태가 됩니다. 또한 크기 조정 단위를 구성하는 방법에 따라 Azure Stack은 노드 수준에서 장애 도메인만 지원합니다. 배율 단위 내에는 사이트의 개념이 없습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/a6ef49df-2214-4c9a-afc9-85b9373b12bc.png"><img alt="Azure Stack scale-unit stretched across multiple locations or sites separated by a large distance. This is an unsupported deployment topology for Azure Stack." src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/9cb114bd-bd8c-4229-bdaa-bb9f2092d132.png" style="border: 0px currentcolor; border-image: none; width: 569px; height: 261px; margin-right: auto; margin-left: auto; display: block; background-image: none;" title="200 Azure 이미지 1"></a></p>


  <h3>Azure에서 최신 애플리케이션을 배포하지 않습니다. 이 중 어느 것도 나에게 적용되지 않습니다.</h3>


  <p>Azure Stack은 데이터 센터에서 클라우드 서비스를 제공하도록 설계되었습니다. 인프라 운영과 IaaS VM 기반 애플리케이션이 제공되는 방식 간에는 명확한 구분이 있습니다. Azure에 애플리케이션을 배포할 계획이 없는 경우에도&rsquo; Azure Stack에 배포하는 것은 평소와&rdquo; 같이 비즈니스가 아니며 &ldquo;애플리케이션의 전체 수명 주기 동안 BC/DR의 의미를 고려해야 합니다.</p>


  <h2>위험 허용 범위 수준 정의</h2>


  <p>Azure Stack에 IaaS VM 기반 애플리케이션에 BC/DR에 대한 다른 접근 방식이 필요하다는 점을 이해하면 하나 이상의 Azure Stack 시스템,&rsquo; Azure Stack의 물리적 및 논리적 구문, 사용자와 애플리케이션 소유자가 집중해야 하는 복구 목표의 의미를 살펴보겠습니다.</p>


  <h3>Azure Stack 시스템을 배포하는 간격</h3>


  <p>&rsquo;재해 발생 시 보호하려는 영향 반경을 정의하여 시작합니다. 이는 공동 배치 시설의 랙 또는 국가 또는 대륙의 전체 지역에 있는 랙만큼 작을 수 있습니다. 영향 반경 내에서 하나 이상의 Azure Stack 시스템을 배포하도록 선택할 수 있습니다. 지역이 충분히 큰 경우 각각 Azure Stack 시스템과 여러 데이터 센터가 서로 닫히게 될 수도 있습니다. 중요한 점은 재해 또는 치명적인 이벤트로 인해 사이트가 오프라인 상태가 되면 Azure 시스템을 온라인 상태로 유지하는 중복성이 없다는 것입니다. 아래 다이어그램에서 볼 수 있듯이 전체 사이트의 손실을 유지하려는 경우 한 위치의 재해가 다른 위치에 영향을 주지 않도록 충분한 거리로 구분된 여러 지리적 위치에 Azure Stack 시스템을 배포하는 것을 고려해야 합니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/69329167-4756-4e4d-a006-59b96677a5d6.png"><img alt="A flowchart of the Azure Stack system deployed in a datacenter that can have a single utility feed (referred to as a tier 1 or tier 2 datacenter) or two redundant utility feeds (commonly referred to as a tier 3 or tier 4 datacenter)." border="0" height="305" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ebb9e5c3-1462-4e28-8e33-973d131cc29a.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="200 2" width="571"></a></p>


  <h3>애플리케이션 소유자가 Azure Stack의 물리적 및 논리적 계층을 이해하게 합니다.</h3>


  <p>&rsquo;다음으로 Azure Stack 환경에서 함께 제공되는 물리적 및 논리적 계층을 이해하는 것이 중요합니다. 모든 기본 서비스와 애플리케이션을 실행하는 Azure Stack 시스템은 데이터 센터의 랙 내에 물리적으로 상주합니다. Azure Stack의 각 배포는 자체 포털을 사용하는 별도의 인스턴스 또는 클라우드입니다. 아래 다이어그램은 현재 배포된 모든 Azure Stack 시스템과 가까운 미래에 공통되는 물리적 및 논리적 계층을&rsquo; 보여 줍니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/713db9d4-bf4c-4c06-a4e6-df6ec1ee0fff.png"><img alt="Logical and physical layering of an Azure Stack system deployed in a site. Site contains a datacenter or co-location facility. Datacenter contains a room or row that contains a rack. Rack contains an Azure Stack cloud. Cloud contains a region. Region contains a scale-unit. Scale-unit contains 4-16 nodes. Nodes contains applications and user data." border="0" height="350" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/58a839e2-9a94-418d-9609-76219a5c8ea3.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="200 Azure 이미지 3" width="614"></a>&nbsp;</p>


  <h3>애플리케이션 소유자를 사용하여 각 애플리케이션에 대한 복구 시간 목표 정의</h3>


  <p>이제 시스템이 오프라인 상태가 되면 위험 허용 범위를 명확하게 이해했으므로 애플리케이션에 대한 보호 체계를 결정해야 합니다. 정상 시스템에서 애플리케이션 및 데이터를 신속하게 복구할 수 있는지 확인해야 합니다. &rsquo;하드웨어 오류로부터 보호하기 위해 가용성 집합을 사용하여 확장 단위 내에서 애플리케이션을 고가용성으로 설계하는 방법에 대해 알아봅니다. 또한 손상 또는 실수로 인한 삭제로 인해 애플리케이션이 오프라인으로 전환될 가능성도 고려해야 합니다. 복구는 애플리케이션을 스케일 아웃하거나 백업에서 복원하는 것만큼 간단할 수 있습니다.</p>


  <p>전체 시스템의&rsquo; 중단에서 벗어나려면 각 애플리케이션의 가용성 요구 사항, 가동 중단 시 애플리케이션을 실행할 수 있는 위치 및 복구를 사용하도록 설정하기 위해 도입해야 하는 도구를 식별해야 합니다. 애플리케이션을 Azure에서 일시적으로 실행할 수 있는 경우 <a href="https://docs.microsoft.com/en-us/azure/site-recovery/azure-stack-site-recovery">Azure Site Recovery</a> 및 <a href="https://azure.microsoft.com/en-us/blog/backup-your-applications-on-azure-stack-with-azure-backup/">Azure Backup</a> 과 같은 서비스를 사용하여 애플리케이션을 보호할 수 있습니다. 또 다른 옵션은 추가 Azure Stack 시스템을 완전히 배포하고, 작동하고, 애플리케이션을 실행할 준비가 되도록 하는 것입니다. 보조 시스템에서 애플리케이션을 실행하는 데 필요한 시간은 RTO(복구 시간 목표)입니다. 이 목표는 귀하와 애플리케이션 소유자 간에 설정됩니다. 일부 애플리케이션 소유자는 최소한의 가동 중지 시간만 허용하지만 다른 애플리케이션 소유자는 데이터가 별도의 위치에서 보호되는 경우 며칠 동안 가동 중지 시간을 허용합니다. 이 RTO를 구현하는 것은 애플리케이션마다 다릅니다. 아래 다이어그램에는 VM 또는 애플리케이션 수준에서 사용되는 일반적인 보호 체계가 요약됩니다.</p>


  <p>&nbsp;</p>


  <p>재해가 발생할 경우 Azure Stack의 주문형 배포를 보조 위치로 요청할 시간이 없습니다. 보조 위치에 배포된 시스템이 없는&rsquo; 경우 하드웨어 파트너에게 주문해야 합니다. 시스템을 전달, 설치 및 배포하는 데 필요한 시간은 몇 주 단위로 측정됩니다.<a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/90ace75b-5aa9-41bd-bd3f-32d7ecdd61eb.png"><img alt="Recovery time objectives for applications on Azure Stack that need to be recovered on a different Azure Stack. Backup and restore recovery time is hours to days. Replication recovery and manual failover is minutes to hours.  Stateless and stateful applications in an active/active configuration have no downtime." border="0" height="374" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/501c46fe-f6b6-4da0-93a9-9da33c78f278.png" style="border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="200 4" width="735"></a></p>


  <h2>애플리케이션 및 데이터 보호를 위한 제품 설정</h2>


  <p>이제 Azure Stack에서 보호해야 하는 항목과 각 애플리케이션에 대한 위험 허용 범위를 파악했으므로 IaaS VM에 사용되는 몇 가지 특정 패턴을 검토할 수&rsquo; 있습니다.</p>


  <h3>데이터 보호</h3>


  <p>IaaS VM에 배포된 애플리케이션은 백업 에이전트를 사용하여 게스트 OS 수준에서 보호할 수 있습니다. 동일한 IaaS VM, 동일한 시스템의 새 VM 또는 재해 발생 시 다른 시스템으로 데이터를 복원할 수 있습니다. 백업 에이전트는 IaaS VM에서 다음과 같은 여러 데이터 원본을 지원합니다.</p>


  <ul>
   <li><strong>디스크:</strong> 이렇게 하려면 게스트 OS에 노출되는 하나, 일부 또는 모든 디스크의 블록 수준 백업이 필요합니다. 전체 디스크를 보호하고 블록 수준에서 변경 내용을 캡처합니다.</li>
   <li><strong>파일 또는 폴더:</strong> 이렇게 하려면 게스트 OS에 연결된 하나, 일부 또는 모든 볼륨에 있는 특정 파일 및 폴더의 파일 시스템 수준 백업이 필요합니다.</li>
   <li><strong>OS 상태:</strong> 이렇게 하려면 OS 상태를 대상으로 하는 백업이 필요합니다.</li>
   <li><strong>애플리케이션</strong>: 게스트 OS에 설치된 애플리케이션과 조정된 백업이 필요합니다. 애플리케이션 인식 백업에는 일반적으로 애플리케이션 일관성을 위해 게스트의 입력 및 출력 정지(예: Windows OS의 VSS(볼륨 섀도 복사본 서비스))가 포함됩니다.</li>
  </ul>


  <h3>애플리케이션 데이터 복제</h3>


  <p>또 다른 옵션은 게스트 OS 수준 또는 애플리케이션 수준에서 복제를 사용하여 다른 시스템에서 데이터를 사용할 수 있도록 하는 것입니다. 복제는 기본 인프라&rsquo;로 오프로드되지 않으며&rsquo; 게스트 OS 이상에서 처리됩니다. 한 가지 예는 분산 가용성 그룹에서 비동기 복제를 지원하는 SQL 같은 애플리케이션입니다.</p>


  <h3>고가용성</h3>


  <p>고가용성을 위해 먼저 애플리케이션의 데이터 지속성 모델을 이해해야 합니다.</p>


  <ul>
   <li><i>상태 저장</i> 워크로드는 하나 이상의 리포지토리에 데이터를 씁니다. &rsquo;치명적인 이벤트에서 복구하려면 특정 시점 데이터 보호 및 고가용성이 필요한 아키텍처 부분을 이해해야 합니다.</li>
   <li>반면<i>에 상태 비 상태 비</i>료 워크로드는 보호해야 하는 데이터를 포함하지 않습니다&rsquo;. 이러한 워크로드는 일반적으로 주문형 스케일 업 및 스케일 다운을 지원하며 부하 분산 장치 뒤에 있는 스케일 아웃 토폴로지의 여러 위치에 배포할 수 있습니다.</li>
  </ul>


  <p>Azure Stack 시스템 내에서 애플리케이션 수준 고가용성을 지원하기 위해 여러 가상 머신이 <i>가용성 집합</i>으로 그룹화됩니다. 가용성 집합에 배포된 애플리케이션은 들어오는 트래픽을 여러 가상 머신 간에 임의로 분산하는 부하 분산 장치 뒤에 있습니다.</p>


  <p>Azure Stack 시스템에서는 다음과 같은 차이점이 있는 유사한 접근 방식을 사용할 수 있습니다. 부하 분산 장치는 두 시스템 외부 또는 Azure(예: Traffic Manager)에 있어야 합니다. 가용성 집합은 독립적인 Azure Stack 시스템에 걸쳐 있지 않습니다.</p>


  <h2>결론</h2>


  <p>IaaS VM 기반 애플리케이션을 Azure 및 Azure Stack에 배포하려면 BC/DR 전략을 포괄적으로 평가해야 합니다. &ldquo;평소와&rdquo; 같이 비즈니스는 클라우드의 컨텍스트에서 충분하지 않습니다. Azure Stack의 경우 기본 인프라에 대한 보호 체계와 별도로 애플리케이션의 복원력, 가용성 및 복구 가능성 요구 사항을 평가해야 합니다.</p>


  <p>또한 합의된 SLA부터 최종 사용자 기대치를 다시 설정해야 합니다. VM을 Azure Stack에 온보딩하는 고객은 Azure Stack에서 가능한 SLA에 동의해야 합니다. 예를 들어 Azure Stack은 사이트 간 스토리지 수준 동기 복제를 사용하는 일부 중요 업무용 애플리케이션에 필요한 엄격한 데이터 손실 요구 사항을 충족하지 않습니다. 이러한 요구 사항을 초기에 파악하고 적절한 수준의 보호 및 재해 복구를 통해 Azure Stack에 새 애플리케이션을 온보딩하는 성공적인 실적을 작성합니다.</p>


  <h3>자세한 정보</h3>


  <ul>
   <li><a href="https://aka.ms/azurestackbcdrconsiderationswp">비즈니스 연속성 및 재해 복구 백서에 대한 Azure Stack 고려 사항</a></li>
   <li><a href="https://aka.ms/backupazurestack">인프라 백업 서비스를 사용하여 Azure Stack에 대한 백업 및 데이터 복구</a></li>
   <li><a href="https://aka.ms/azurestackbcdrpartners">Azure Stack에 대한 유효성이 검사된 제품이 있는 모든 BC/DR 파트너 목록 </a></li>
   <li><a href="https://aka.ms/azurestackmabs">Azure Stack에 대한 Azure Backup 지원</a></li>
   <li><a href="https://aka.ms/azurestackasr">Azure Stack에 대한 Azure Site Recovery 지원</a></li>
   <li><a href="https://myignite.techcommunity.microsoft.com/sessions/66253">Microsoft Azure Stack에서 비즈니스 연속성 및 재해 복구를 위한 아키텍처 패턴 및 사례 이해</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/manage-availability">중복성을 위해 가용성 집합에서 여러 가상 머신 구성</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/azure-stack/azure-stack-key-features#high-availability-for-azure-stack">Azure Stack의 가용성 집합</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/tutorial-availability-sets">자습서: 고가용성 가상 머신 만들기 및 배포</a></li>
  </ul>


  <h3>이 블로그 시리즈에서</h3>


  <p>이 시리즈의 향후 게시물을 다시 읽어주시기 바랍니다. 다음은 예정된 몇 가지 예정된 항목입니다.</p>


  <ul>
   <li><a href="https://azure.microsoft.com/en-us/blog/azure-stack-iaas-part-one/" target="_blank">Azure Stack의 핵심은 IaaS(Infrastructure-as-a-Service) 플랫폼입니다.</a></li>
   <li><a href="https://azure.microsoft.com/en-us/blog/azure-stack-laas-part-two/" target="_blank">이미 있는 항목으로 시작</a></li>
   <li><a href="https://azure.microsoft.com/en-us/blog/azure-stack-iaas-part-3/" target="_blank">IaaS의 기본 사항</a></li>
   <li><a href="https://azure.microsoft.com/en-us/blog/azure-stack-iaas-part-five/" target="_blank">직접 수행</a></li>
   <li><a href="https://azure.microsoft.com/en-us/blog/azure-stack-iaas-part-six/" target="_blank">사용한 항목에 대한 지불</a></li>
   <li><a href="https://azure.microsoft.com/en-us/blog/azure-stack-iaas-part-seven/" target="_blank">팀이 필요합니다.</a></li>
   <li><a href="https://azure.microsoft.com/en-us/blog/azure-stack-iaas-part-seven-2/" target="_blank">자주 수행하는 경우 자동화합니다.</a></li>
   <li><a href="https://azure.microsoft.com/en-us/blog/azure-stack-iaas-part-nine/" target="_blank">다른 사용자의 성공에 따라 빌드</a></li>
   <li><a href="https://azure.microsoft.com/en-ca/blog/azure-stack-iaas-part-ten/" target="_blank">PaaS로의 여행</a></li>
  </ul>

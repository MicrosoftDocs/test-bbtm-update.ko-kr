### YamlMime:Yaml
ms.openlocfilehash: 3b15bbca99e276fc996287d9c05f4db8d81700dd
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139913188"
Slug: automation-of-azure-analysis-services-with-service-principals-and-powershell
Title: 서비스 주체 및 PowerShell을 사용하여 Azure Analysis Services 자동화
Summary: Azure Analysis Services는 서버 프로비저닝, 스케일 업/다운, 일시 중지/다시 시작, 모델 관리, 데이터 새로 고침, 배포 등 관리 작업을 자동화할 수 있는 상당한 기회를 제공합니다. 이렇게 하면 클라우드 효율성을 활용할 수 있으며 중요 업무용 시스템의 반복성 및 안정성을 보장할 수 있습니다.
Content: '<p>Azure Analysis Services는 서버 프로비저닝, 스케일 업/다운, 일시 중지/다시 시작, 모델 관리, 데이터 새로 고침, 배포 등 관리 작업을 자동화할 수 있는 기회를 제공합니다. 이렇게 하면 클라우드 효율성을 활용할 수 있으며 중요 업무용 시스템의 반복성 및 안정성을 보장할 수 있습니다.</p> <p>이러한 작업은 무인 모드에서 PowerShell을 사용하여 Azure 클라우드에서 수행할 수 있습니다. <a href="https://azure.microsoft.com/en-us/services/automation/">Azure Automation</a>과 같은 서비스는 이러한 프로세스를 지원하기 위해 존재합니다. 향상된 보안 및 관리 용이성을 위해 <strong>서비스 주체를</strong> 사용하여 실행해야 합니다. 서비스 주체는 온-프레미스 서비스 계정과 비슷하지만 Azure의 경우입니다. 암호 또는 인증서와 함께 애플리케이션 ID 형식의 자격 증명을 사용합니다. 모델 권한은 일반 Azure Active Directory UPN 계정과 같은 역할 멤버 자격을 통해 서비스 주체에 할당됩니다.</p> <p>이 게시물의 나머지 부분에서는 <a href="https://www.powershellgallery.com/packages/SqlServer/">SqlServer</a> PowerShell 모듈에서 사용할 수 있는 Analysis <a href="https://docs.microsoft.com/en-us/sql/analysis-services/powershell/analysis-services-powershell-reference">Services cmdlet</a>과 함께 사용할 서비스 주체를 만드는 방법을 보여 줍니다. </p>  <h2>서비스 주체 만들기</h2> <p><a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-create-service-principal-portal">Azure Portal에서 서비스 주체를 만드는 방법과</a> 암호 또는 인증서를 <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-authenticate-service-principal">사용하여 PowerShell에서 서비스 주체를 만드는 방법에</a> 대해 자세히 알아봅니다.</p> <h2>역할 멤버 자격</h2> <p>서비스 주체가 만들어지면 다음 구문을 사용하여 Azure Analysis Services 서버 또는 모델 역할에서 해당 애플리케이션 ID에 권한을 할당할 수 있습니다. 아래 예제에서는 <a href="https://docs.microsoft.com/en-us/sql/ssms/sql-server-management-studio-ssms">SSMS</a> 서버 관리자 그룹에 서비스 주체를 추가합니다.</p> <div style="border-top: #ccc 1px solid; border-right: #ccc 1px solid; background: #eee; border-bottom: #ccc 1px solid; padding-bottom: 5px; padding-top: 5px; padding-left: 10px; border-left: #ccc 1px solid; padding-right: 10px"><i>app:&lt;app guidtenant@&gt;&lt; guid&gt;</i></div> <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/9bf2046c-d104-4523-9c3b-2c6bca6a0d2d.jpg"><img title="clip_image002[5]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="clip_image002[5]" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/9e36480e-c89c-423c-b660-a3a8af4a1adc.jpg" width="1247" height="350"></a></p> <p>SSMS 계정 선택기를 사용하여 해당 이름을 검색하여 애플리케이션을 선택할 수 있습니다.</p> <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/189f35c0-8a5b-4284-9ffd-b23723c7dce3.png"><img title="이미지" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5da11443-4a3d-464b-84a9-4032e70e93a0.png" width="363" height="467"></a></p> <h2>PowerShell 및 서비스 주체를 사용하여 관리 작업 실행</h2> <p>이 섹션의 필수 조건은 최신 <a href="https://www.powershellgallery.com/packages/Azure.AnalysisServices/">Azure.AnalysisServices</a> 및 <a href="https://www.powershellgallery.com/packages/SqlServer/">SqlServer</a> PowerShell 모듈을 설치하는 것입니다.</p> <div style="border-top: #ccc 1px solid; border-right: #ccc 1px solid; background: #eee; border-bottom: #ccc 1px solid; padding-bottom: 5px; padding-top: 5px; padding-left: 10px; border-left: #ccc 1px solid; padding-right: 10px"> <p>Install-Module - Azure.AnalysisServices 이름 지정</p> <p>Install-Module -Name SqlServer</p></div> <p>다음 예제에서는 서비스 주체 애플리케이션 ID 및 암호를 사용하여 로그인하는 방법과 모델에서 테이블을 처리(데이터 새로 고침)하는 방법을 보여 줍니다.</p> <div style="border-top: #ccc 1px solid; border-right: #ccc 1px solid; background: #eee; border-bottom: #ccc 1px solid; padding-bottom: 5px; padding-top: 5px; padding-left: 10px; border-left: #ccc 1px solid; padding-right: 10px"> <p>Param (</p> <p> [Parameter(Mandatory=$true)] [String] $AppId,</p> <p> [Parameter(Mandatory=$true)] [String] $PlainPWord,</p> <p> [Parameter(Mandatory=$true)] [String] $TenantId</p> <p> )</p> <p>$PWord = ConvertTo-SecureString -String $PlainPWord -AsPlainText -Force</p> <p>$Credential = New-Object -TypeName "System.Management.Automation.PSCredential" -ArgumentList $AppId, $PWord</p> <p>Login-AzureAsAccount -Credential $Credential -ServicePrincipal -TenantId $TenantId -RolloutEnvironment "southcentralus.asazure.windows.net"</p> <p>Invoke-ProcessTable -Server "asazure://southcentralus.asazure.windows.net/myserver" -TableName "MyTable" -Database "MyDb" -RefreshType "Full"</p></div> <p>사용된 로그인 cmdlet은 Login-AzureRsAccount가 아니라 Login-AzureAsAccount입니다. 전자는 <a href="https://www.powershellgallery.com/packages/SqlServer/">SqlServer</a> PowerShell 모듈의 Analysis Services <a href="https://docs.microsoft.com/en-us/sql/analysis-services/powershell/analysis-services-powershell-reference">cmdlet</a>에서 사용하도록 설정된 작업과 같은 Azure Analysis Services 데이터베이스 수준 작업에 사용해야 합니다. 후자는 <a href="https://www.powershellgallery.com/packages/AzureRM.AnalysisServices/">AzureRM.AnalysisServices</a> PowerShell 모듈에서 사용하도록 설정된 것과 같은 Azure 리소스 관리 작업에 사용해야 합니다.</p> <p>다음 예제에서는 서비스 주체 애플리케이션 ID 및 자체 서명된 인증서를 사용하여 로그인하는 방법과 모델에서 테이블을 처리(데이터 새로 고침)하는 방법을 보여 줍니다.</p> <div style="border-top: #ccc 1px solid; border-right: #ccc 1px solid; background: #eee; border-bottom: #ccc 1px solid; padding-bottom: 5px; padding-top: 5px; padding-left: 10px; border-left: #ccc 1px solid; padding-right: 10px"> <p>Param (</p> <p> [Parameter(Mandatory=$true)] [String] $AppId,</p> <p> [Parameter(Mandatory=$true)] [String] $CertThumbprint,</p> <p> [Parameter(Mandatory=$true)] [String] $TenantId</p> <p> )</p> <p>Login-AzureASAccount -RolloutEnvironment "southcentralus.asazure.windows.net" -ServicePrincipal -ApplicationId $AppId -CertificateThumbprint $CertThumbprint -TenantId $TenantId</p> <p>Invoke-ProcessTable -Server "asazure://southcentralus.asazure.windows.net/myserver" -TableName "MyTable" -Database "MyDb" -RefreshType "Full"</p></div> <h3>&nbsp;</h3> <h2>Azure Automation에 자격 증명 및 인증서 저장</h2> <p>자격 증명 및 인증서는 Azure Automation에 안전하게 저장하고 Runbook에서 사용하기 위해 추출할 수 있습니다. Azure Automation <a href="https://docs.microsoft.com/en-us/azure/automation/automation-credentials">의 자격 증명 자산 및</a> <a href="https://docs.microsoft.com/en-us/azure/automation/automation-certificates">인증서 자산</a> 에 대해 자세히 알아봅니다. </p>'

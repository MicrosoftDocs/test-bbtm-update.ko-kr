### YamlMime:Yaml
ms.openlocfilehash: 57f67b60371c12f32e8f6ba887dedc00b68fc962
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139900194"
Slug: tableau-and-azure-sql-db-a-match-made-in-the-cloud
Title: 'Tableau 및 Azure SQL DB, 클라우드에서 일치하는 항목 '
Summary: '우리는 대부분의 고객이 단순히 온-프레미스 접근 방식을 복제함으로써 잘 지냈다는 것을 관찰했습니다. '
Content: >-
  <p style="margin: 0in 0in 8pt;">최근 몇 년 동안 Microsoft SQL 및 Tableau Engineering 팀은 두 플랫폼에서 우수한 사용자 환경을 제공하기 위해 긴밀히 협력하고 있습니다. 현재 Azure SQL DB와 Tableau 간의 연결을 최적화하는 방법에 대한 몇 가지 조언을 공유하고 있습니다.</p>


  <p style="margin: 0in 0in 8pt;">우리 팀은 이전에 <a href="https://www.tableau.com/about/blog/2016/3/announcing-real-time-analytics-sql-server-2016-our-performance-test-results-51385">SQL Server 2016 출시</a> 및 <a href="https://www.tableau.com/about/blog/2016/7/microsoft-azure-sql-data-warehouse-now-generally-available-and-integrated-tableau">Azure SQL Data Warehouse 출시</a>를 위해 팀을 구성했습니다. 현재 이 파트너십은 최근 Tableau&rsquo; Cloud Data Brief에 설명된 대로 결합된 클라우드 및 온-프레미스 사용량에서 SQL Server Tableaus 가장 일반적인 데이터 원본이라는 사실에 의존합니다<a href="https://www.tableau.com/resources/CloudDataBrief">.&nbsp;</a></p>


  <p style="margin: 0in 0in 8pt;"><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0e877048-6474-4c81-bbfc-58bc38fc026d.png"></p>


  <p style="margin: 0in 0in 8pt;">엔지니어링 벤치마크 및 여러 글로벌 고객 참여를 통해 최적의 연결과 두 플랫폼의 특이성을 활용하는 방법을 자세히 살펴볼 수 있습니다. 이 콘텐츠를 Tableau와 공동으로 공유하고 <a href="https://www.tableau.com/about/blog/2017/7/optimizing-your-tableau-and-azure-sql-db-connectivity-73451" target="_blank">있습니다. 여기에서 해당 블로그를 참조하세요</a>.</p>


  <p style="margin: 0in 0in 8pt;">더 이상 아도없이, 여기에 주요 학습이 있습니다.</p>


  <h2 style="margin: 0in 0in 8pt;">기본 제공 환경이 잘 작동합니다.</h2>


  <p style="margin: 0in 0in 8pt;">우리는 대부분의 고객이 단순히 온-프레미스 접근 방식을 복제함으로써 잘 지냈다는 것을 관찰했습니다. Azure SQL DB는 SQL Server 2016과 동일한 드라이버를 사용하여 본질적으로 복잡성을 줄입니다. Tableau Desktop UI에는 온-프레미스 또는 Azure와 같은 퍼블릭 클라우드에서 실행되는 Azure SQL DB, Azure SQL Data Warehouse 또는 SQL Server 2016용 단일 SQL Server 커넥터가 있습니다.</p>


  <p style="margin: 0in 0in 8pt;"><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/44886b47-1773-4eda-8483-d64d549edfa1.png"></p>


  <h2>Tableau 라이브 쿼리는 최상의 성능을 제공합니다.</h2>


  <p>네트워크 대역폭 허용, Tableau의 라이브 쿼리 모드를 사용하면 기반 연결을 추출하는 대신 Tableau 사용자에게 최신 정보를 제공하는 동시에 Azure SQL DB에서 과도한 리프팅이 발생할 수 있습니다. 이는 서로 다른 Azure SQL DB SKU를 사용하여 몇 가지 크기 조정 및 성능 테스트를 수행하는 것을 의미합니다. 이 환경에서 Azure SQL DB 대기 시간 및 처리량은 가장 엄격한 Tableau 요구 사항을 충족할 수 있습니다.</p>


  <p>예를 들어 공동 고객에게 대기 시간 문제를 즉시 제거한 S0(10DTU)에서 P1 Premium(125 DTU)로 이동하는 것이 좋습니다. 비용 영향은 일반적으로 향상된 사용자 환경과 향상된 고객 만족도에 의해 상쇄됩니다.</p>


  <h2>기타 Tableau 모범 사례</h2>


  <ul>
   <li><strong>날짜 계산 격리: </strong> 가능한 한 많은 사전 컴퓨팅 정보입니다. Tableau는 한 번 계산하며 데이터베이스에서 인덱스 사용이 가능할 수 있습니다.</li>
   <li><strong>부울 필드 사용:</strong> true 및 false에 대한 지표로 0과 1을 사용하지 말고&rsquo; 부울 필드를 사용합니다. 일반적으로 더 빠릅니다.</li>
   <li><strong>대/소문자 변경 안 함: 값의 대/소문자를 알고 있는 경우 비교에 UPPER 또는 LOWER를 배치하지 마세요&rsquo;</strong>&rsquo;.&nbsp;</li>
   <li><strong>별칭 사용:</strong> 가능한 경우 계산이 아닌 Tableaus&rsquo; 별칭 기능을 사용하여 텍스트에 레이블을 지정합니다. 별칭은 데이터베이스로 전송되지 않으므로&rsquo;&nbsp; 더 빨리 전송됩니다.</li>
   <li><strong>가능한 경우 서식을 사용합니다.</strong> 서식만 사용할 수 있는 경우 문자열 함수를 사용하지 마세요&rsquo;. 그런 다음 별칭을 사용하여 필드에 레이블을 지정합니다.</li>
   <li><strong>IF/ELSEIF를 CASE로 바꿉다.</strong> &rsquo;CASE 문이 일반적으로 더 빠르기 때문에 이 작업을 수행하는 것이 좋습니다.</li>
  </ul>


  <h2>쿼리 튜닝 방법론 사용</h2>


  <p>병목 상태를 식별하고 해결하기 위해 다음 방법론을 사용하여&nbsp; Tableau 쿼리를 분석했습니다.</p>


  <ol>
   <li>쿼리 저장소 사용</li>
   <li>제공된 워크로드 실행</li>
   <li>동적 관리 뷰를 사용하여 DTU 사용량을 모니터링하여 계층 제한에 도달하지 않도록 합니다.</li>
   <li>인덱스 권장 사항 및 사용량 확인</li>
   <li>가장 높은 실행 시간을 기준으로 문의 우선 순위 지정</li>
   <li>상위 쿼리 및 관련 실행 계획 검사</li>
   <li>제안 적용</li>
   <li>&hellip; 반복</li>
  </ol>


  <h2>Azure SQL DB 최적화를 위한 주요 도구</h2>


  <p>일반적으로 Azure SQL Database 고객의 경우 다음을 사용하는 것이 좋습니다.</p>


  <ul>
   <li><a href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-query-performance">Azure SQL Database 쿼리 성능 Insight</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-advisor-portal">SQL Database 관리자</a></li>
  </ul>


  <h3>서비스 수준 제약 조건 확인</h3>


  <p>워크로드에 대한 DTU 제한에 도달했는지 확인하려면 다음 쿼리를 살펴보세요.</p>


  <p><code>SELECT [end_time], [avg_cpu_percent], [avg_data_io_percent],<br>

  &nbsp; &nbsp; &nbsp; &nbsp;[avg_log_write_percent], [avg_memory_usage_percent]<br>

  FROM [sys].[dm_db_resource_stats];</code></p>


  <p>이렇게 하면 마지막 1시간 동안 15초마다 한 행이 반환됩니다. 제공된 워크로드를 테스트하는 데 이 작업을 사용하여 다음 계층으로 업그레이드해야 하는지 확인했습니다. 이 데이터의 덜 세분화된 보기를 위해 master 데이터베이스에서 <strong>sys.resource_stats </strong>카탈로그 뷰를 사용했습니다.</p>


  <h3>인덱스 권장 사항 및 사용량 모니터링</h3>


  <p><em>누락된 인덱스 권장 사항을 주기적으로 확인</em></p>


  <p>모든 Tableau 고객의 경우 다양한 워크로드 특성을 고려할 때 누락된 인덱스 권장 사항을 주기적으로 확인하는 것이 좋습니다. &rsquo;모든 권장 사항을 임의로 추가하는 것은 좋지 않지만 시간이 지남에 따라 특정 권장 사항의 비용/이점을 주기적으로 평가하려고 합니다.&nbsp;</p>


  <p><code>SELECT [migs].[group_handle], [migs].[unique_compiles], [migs].[user_seeks],<br>

  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [migs].[user_scans], [migs].[last_user_seek], [migs].[last_user_scan],<br>

  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [migs].[avg_total_user_cost], [migs].[avg_user_impact],<br>

  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [migs].[system_seeks], [migs].[system_scans],<br>

  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [migs].[last_system_seek], [migs].[last_system_scan],<br>

  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [migs].[avg_total_system_cost], [migs].[avg_system_impact],<br>

  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [mig].[index_group_handle], [mig].[index_handle], [mid].[index_handle],<br>

  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [mid].[database_id], [mid].[object_id], [mid].[equality_columns],<br>

  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [mid].[inequality_columns], [mid].[included_columns],<br>

  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [mid].[statement]<br>

  FROM [sys].[dm_db_missing_index_group_stats] AS [migs]<br>

  INNER JOIN [sys].[dm_db_missing_index_groups] AS [mig]<br>

  ON ( [migs].[group_handle] = [mig].[index_group_handle] )<br>

  INNER JOIN [sys].[dm_db_missing_index_details] AS [mid]<br>

  ON ( [mig].[index_handle] = [mid].[index_handle] );</code></p>


  <p><em>시간에 따른 인덱스 사용량 유효성 검사</em></p>


  <p>반대로, 인덱스가 장기적으로 가중치를 끌어당기는지 확인하는 것이 좋습니다. 일부 인덱스는 오랜 기간 동안 유용하지 않을 수 있으므로 다음과 같은 적용 가능한 동적 관리 뷰를 통해 인덱스 사용을 확인하는 것이 좋습니다.&nbsp;</p>


  <p><code>SELECT OBJECT_NAME([s].[object_id]) AS [Table Name],<br>

  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [i].[name] AS [Index Name], [s].[user_seeks], [s].[user_scans],<br>

  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [s].[user_lookups], [s].[user_updates], [s].[last_user_seek],<br>

  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [s].[last_user_scan], [s].[last_user_lookup], [s].[last_user_update],<br>

  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [s].[system_seeks], [s].[system_scans], [s].[system_lookups],<br>

  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [s].[system_updates], [s].[last_system_seek], [s].[last_system_scan],<br>

  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [s].[last_system_lookup], [s].[last_system_update]<br>

  FROM [sys].[dm_db_index_usage_stats] AS [s]&nbsp;<br>

  INNER JOIN [sys].[indexes] AS [i]&nbsp;<br>

  ON [s].[object_id] = [i].[object_id]<br>

  AND [i].[index_id] = [s].[index_id]<br>

  INNER JOIN [sys].[objects] AS [o]<br>

  ON [i].[object_id] = [o].[object_id]<br>

  WHERE OBJECTPROPERTY([s].[object_id], &#39;IsUserTable&#39;) = 1<br>

  ORDER BY [s].[user_updates] DESC;</code></p>


  <h3>모범 사례</h3>


  <ul>
   <li>시간이 지남에 따라 모니터링하고 <em>모든 </em>대표 워크로드가 테스트 기간 동안 실행되었는지 확인하지 않고 인덱스를 삭제하지 않도록 합니다.</li>
   <li>고유성을 정의하는 데 사용되는 인덱스를 삭제하는 것에 주의해야 합니다. 인덱스는 순회에 사용할 수 없지만 예측 및 적용을 위해 여전히 필요할 수 있습니다.</li>
   <li>인덱스 사용을 모니터링하는 가장 좋은 시나리오는 인덱스가 유용하고 생성되면 사용될지 확실하지 않은 인덱스에 대한 것입니다. 인덱스 추가, 워크로드 실행 및 sys.dm_db_index_usage_stats 확인할 수 있습니다. 계획을 확인할 수도 있지만 더 큰 워크로드의 경우 DMV를 확인하는 것이 더 빠릅니다.</li>
  </ul>


  <p>Tableau 및&rsquo; Azure SQL DB를 사용하는 방법에 대한 의견과 피드백을 읽어보시기 바랍니다. <a href="https://www.tableau.com/about/blog/2017/7/optimizing-your-tableau-and-azure-sql-db-connectivity-73451" target="_blank">Tableau&#39;블로그</a>를 확인하는 것도 좋습니다. 이 시나리오를 접하는 경우 평가<a href="https://www.tableau.com/products/trial">판 라이선스 키</a>와 함께 Tableau를 사용할 수 있으며<a href="https://azure.microsoft.com/en-us/free/">, Azure 무료 평가판을 사용하여 Azure </a>SQL DB에 대해 사용할 수 있는 혜택을 잠금 해제해 보세요. Tableau Server는 <a href="https://azure.microsoft.com/en-gb/blog/tableau-server-in-the-azure-marketplace/">Azure Marketplace</a>에서 즉시 실행 가능한 이미지로도 사용할 수 있습니다.</p>


  <p>더 복잡한 배포 시나리오를 살펴보고 Tableau 및 Azure 기술을&rsquo; 업그레이드하려는 경우&rsquo; <a href="https://azure.microsoft.com/en-us/blog/announcing-integrated-cloudera-cdh-with-tableau-server-solution-on-azure/">Tableau 및 Cloudera 빠른 시작 Azure 템플릿</a>을 살펴보는 것이 좋습니다.</p>


  <p><a href="https://twitter.com/AzureSQLDB">Twitter에서 Azure SQL DB 팀을</a> 팔로우하고 연결할 수도 있습니다.</p>


  <h2>감사의 글</h2>


  <p>이 문서는 여러 사용자 간의 공동 작업입니다. Dan Cory (Tableau), Nicolas Caudron (Microsoft)&nbsp; 및 Gil Isaacs (Microsoft)에게&nbsp; 특별한 감사드립니다.</p>


  <div>

  <div id="_com_1" uage="JavaScript">&nbsp;</div>

  </div>

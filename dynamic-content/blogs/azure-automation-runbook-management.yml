### YamlMime:Yaml
ms.openlocfilehash: 7eeb893ec00647db156906db4ecc2a8838c3c8c8
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139899362"
Slug: azure-automation-runbook-management
Title: Azure Automation 시작 – Runbook 관리
Summary: Azure Automation에서 Runbook 관리에 대한 기본 사항입니다. Automation 계정을 만들고, Runbook을 만들거나 가져오고, 테스트 및 게시하고, 로깅을 관리하고, Runbook을 시작하기 위한 일정을 설정하는 단계입니다.
Content: >-
  Azure Automation은 Azure의 새로운 서비스로, Azure 관리 작업을 자동화하고 Azure 내에서 바로 외부 시스템에서 작업을 오케스트레이션할 수 있습니다. PowerShell 워크플로를 기반으로 하므로 언어의 여러 기능을 활용할 수 있습니다. Azure Automation에 아직 등록하지 않은 경우 여기에서 무료 미리 보기에 등록 <a href="https://azure.microsoft.com/en-us/services/preview/" target="_blank"><span style="color: #0000ff">하세요</span></a>. 여기에서 Azure Automation에 대해 자세히 알아볼 수 <a href="https://azure.microsoft.com/en-us/documentation/services/automation/" target="_blank">있습니다</a>.


  이 게시물에서는 Azure Automation 내에서 Runbook 관리에 대한 몇 가지 기본 사항을 알아봅니다. Automation 계정을 빠르게 만들고, Runbook을 만들거나 가져오고, Runbook을 테스트 및 게시하고, 해당 Runbook에 대한 로깅을 관리하고, Runbook을 시작하기 위한 일정을 설정할 수 있는 단계를 안내합니다.


  Azure Automation 사용을 시작할 때 가장 먼저 해야 할 일은 Automation 계정을 만드는 것입니다. Automation 계정은 컨테이너 역할을 한다는 Azure Storage 계정과 같습니다. Automation에서 Runbook은 모든 Runbook, Runbook 실행(작업) 및 Runbook이 의존하는 자산에 대한 컨테이너입니다. Automation이 GA로 넘어가면 Automation 계정에 사용할 지역을 선택할 수 있습니다. 이렇게 하면 다른 서비스가 있는 지역과 선호도를 만들어 효율성을 극대화할 수 있습니다. Automation은 미리 보기 서비스로 유지되지만 미국 동부에는 하나의 지역만 사용할 수 있습니다.


  계정을 만들려면 <strong>Automation &gt; 만들기</strong>를 선택합니다.


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/CreateAccount.png"><img style="float: none;margin-left: auto;margin-right: auto;border-width: 0px" title="CreateAccount" alt="CreateAccount" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/CreateAccount_thumb.png" width="610" border="0" /></a>


  그런 다음 계정의 이름을 추가하고, 구독을 선택하고(여러 구독을 사용할 수 있는 경우) 지역을 선택하라는 메시지가 표시됩니다.

  <h2>Automation에서 Runbook 만들기</h2>

  이제 Automation 계정이 있으므로 클라우드 관리를 자동화하는 Runbook 만들기를 시작할 준비가 되었습니다. Automation에서 Runbook을 만들 수 있는 방법에는 두 가지가 있습니다.

  <ol>
   <li>새 Runbook 빠른 만들기</li>
   <li>기존 Runbook 가져오기(.ps1 파일의 PowerShell 워크플로)</li>
  </ol>

  <h3>빠른 만들기를 사용하여 새 Runbook 만들기</h3>

  빈 Runbook을 만들려면 빠른 만들기를 사용합니다. 빠른 만들기는 +NEW - App Services -&gt; Runbook -&gt;&gt; 빠른 만들기를 통해 액세스할 수 있습니다.


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/QuickCreate1.png"><img style="float: none;margin-left: auto;margin-right: auto;border-width: 0px" title="QuickCreate1" alt="QuickCreate1" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/QuickCreate1_thumb.png" width="610" border="0" /></a>


  여기서 Runbook의 <b>이름</b> , <b>설명을 제공하고 Runbook</b> 을 만들 <b>려는 Automation</b> <b>계정을</b> 선택할 수 있습니다. Runbook의 이름은 변경할 수 없지만 나중에 Runbook <strong>구성</strong> 탭에서 설명을 변경할 수 있습니다. 일반적으로 PowerShell 동사 명사 명명 규칙을 따르고 승인된 <a href="https://msdn.microsoft.com/en-us/library/ms714428(v=vs.85).aspx" target="_blank">PowerShell 동사</a>만 사용하는 것이 좋습니다. 이 예제에서는 "Set-RunbookConfiguration"을 사용합니다.


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/QuickCreate2.png"><img style="float: none;margin-left: auto;margin-right: auto;border-width: 0px" title="QuickCreate2" alt="QuickCreate2" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/QuickCreate2_thumb.png" width="610" border="0" /></a>


  &nbsp;


  준비가 되면 <b>만들기</b> 를 클릭하면 <b>Runbook 목록에 새 Runbook</b> 이 만들어지고 표시됩니다. 이 "Runbook"은 다양한 프로세스를 자동화하는 데 사용할 수 있는 Runbook의 고유한 프라이빗 라이브러리를 봅니다. 시작, 가져오기, 내보내기 또는 삭제를 포함하여 이 보기에서 Runbook에 대한 기본 작업을 수행할 수 있습니다. 나는 게시물의 뒷부분에서 이들 중 일부를 다룰 것입니다.


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/Runbooks.png"><img style="float: none;margin-left: auto;margin-right: auto;border: 0px" title="Runbook" alt="Runbooks" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Runbooks_thumb.png" width="610" border="0" /></a>


  &nbsp;


  이제 Runbook이 Runbook 보기에 만들어지고 새로 만들기로 나열됩니다. 이제 Runbook을 선택한 다음 작성자를 선택하여 Runbook 작성을 시작할 수 있습니다.


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/SetConfig2.png"><img style="float: none;margin-left: auto;margin-right: auto;border: 0px" title="Set-Config2" alt="Set-Config2" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/SetConfig2_thumb.png" width="610" border="0" /></a>


  &nbsp;


  이제 표준 PowerShell 워크플로 구문을 사용하여 Runbook 작성을 시작할 수 있습니다. PowerShell 워크플로는 표준 PowerShell 스크립트와 다릅니다. PowerShell 워크플로에 대한 자세한 내용은 여기를 참조 <a href="https://technet.microsoft.com/en-us/library/jj134242.aspx" target="_blank">하세요</a>. Runbook 만들기와 관련된 질문이 있는 경우 <a href="https://social.msdn.microsoft.com/Forums/windowsazure/en-US/home?forum=azureautomation&amp;filter=alltypes&amp;sort=lastpostdesc" target="_blank">포럼</a> 을 확인하여 다른 사람이 동일한 문제가 있는지 확인하거나 새 질문을 게시하세요.

  <h3><span style="font-size: 1.17em">Runbook 가져오기</span></h3>

  이전에 작성하거나 검색한 (.PS1) PowerShell 워크플로 또는 Runbook이 이미 있는 경우 Runbook 라이브러리로 쉽게 가져올 수 있습니다. 이에 따라 <a href="https://gallery.technet.microsoft.com/scriptcenter/site/search?f%5B0%5D.Type=RootCategory&amp;f%5B0%5D.Value=WindowsAzure&amp;f%5B0%5D.Text=Windows%20Azure&amp;f%5B1%5D.Type=SubCategory&amp;f%5B1%5D.Value=WindowsAzure_automation&amp;f%5B1%5D.Text=Automation" target="_blank">스크립트 센터에서</a> Runbook을 다운로드하여 시스템으로 가져올 수 있습니다. 나중에 이 Runbook이 필요하지 않은 경우 Runbook 목록을 정리하기 위해 이 Runbook을 삭제할 수 있습니다.


  "Import" 함수는 Runbook 탭의 명령 모음에 있습니다.


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/Import.png"><img style="float: none;margin-left: auto;margin-right: auto;border-width: 0px" title="가져오기" alt="Import" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Import_thumb.png" width="610" border="0" /></a>

  <h2></h2>

  <h2>Runbook 및 작업 정렬 및 필터링</h2>

  이제 시스템에 Runbook이 한두 개 있으므로 <b>Runbook</b> 보기에서 수행할 수 있는 작업(위 그림 참조)을 살펴보겠습니다. 이 보기는 시작된 작업에 대한 구체적인 세부 정보를 보여줍니다. 사용자는 이름, 마지막 작업 시작, 마지막 작업 상태, 작업, 작성 또는 태그를 기준으로 정렬할 수 있습니다. 이 중 일부에 대해 자세히 살펴보겠습니다.

  <ul>
   <li><b>이름</b> – Runbook 이름(예: A-Z 또는 Z-A)을 기준으로 정렬할 수 있습니다.</li>
   <li><b>마지막 작업 시작</b> – Runbook에서 시작한 마지막 작업을 다음 형식으로 정렬할 수 있습니다(MM/DD/YYYY HH:MM:SS AM| PM). 마지막 작업 시작은 Runbook이 작업을 시작한 적이 없음을 나타내는 "없음"일 수도 있습니다.</li>
   <li><b>마지막 작업 상태</b> – 사용자가 마지막 작업의 상태를 볼 수 있습니다. 예를 들어 내 작업은 일시 중단됨, 완료됨, 실패, 대기 중, 실행 또는 시작을 포함하여 여러 유한 상태 중 하나에 있을 수 있습니다.</li>
   <li><b>작업</b> – Runbook에서 연결된 작업 수를 표시합니다. 이 수에는 프로덕션에서 실행된 작업만 포함되며 테스트 실행은 포함되지 않습니다.</li>
   <li><b>작성</b> – Runbook 정의의 현재 상태를 표시합니다.
  <ul>
   <li><b>새 </b>버전 - 현재 편집 중인 비프로덕션 버전(UI의 초안)이 있습니다. 이 Runbook은 "테스트" 모드에서만 실행할 수 있습니다.</li>
   <li><b>게시됨 </b>– 작업을 시작할 수 있는 프로덕션 버전(UI의 프로덕션)이 있으며 초안 버전이 없습니다. 이 Runbook은 "프로덕션" 모드에서만 실행할 수 있습니다.</li>
   <li><b>편집 </b>– 프로덕션 버전과 현재 편집 중인 초안 버전이 있습니다. 다른 Runbook, UI 또는 cmdlet에서 Runbook을 시작할 때마다 Runbook의 프로덕션 버전이 시작됩니다. 초안 버전은 작성 창의 "테스트" 모드에서만 시작할 수 있습니다.</li>
   <li><b>태그</b> – 태그를 사용하면 찾으려는 Runbook을 빠르게 식별할 수 있도록 Runbook을 분류할 수 있습니다. 예를 들어 프로덕션 또는 테스트 및 워크로드 또는 기술별로 Runbook을 분류할 수 있습니다. 태그는 PROD: Windows Azure, IaaS 또는 TEST: Virtual Machines, Library와 같습니다. 이러한 태그는 자유 형식이므로 사용자가 어떤 것이든 제공할 수 있습니다.</li>
  </ul>

  </li>
   <li><b>필터</b> - 오른쪽 위에서 돋보기 아이콘을 선택하면 Runbook 보기에서 이름 또는 태그 열을 필터링할 수도 있습니다.</li>
   <li><b>범위</b> - 마지막으로, 사용자는 작업 상태(위)와 관련된 X 시점부터 Y 시점까지 작업 상태를 보기 위한 최상위 필터링 메커니즘을 사용할 수도 있습니다.</li>
  </ul>

  <h2>새 Runbook 작성</h2>

  이제 Runbook 작성 환경을 진행하는 간단한 Runbook을 만들어 보겠습니다. 문제가 있는 경우 Runbook 작업 문제를 해결하는 데 도움이 될 수 있는 몇 가지 다른 스트림 출력 형식을 추가한 다음 프로덕션 환경에서 Runbook에 대한 로그온 또는 해제 방법을 보여 줍니다.


  Runbook 보기에서 이전에 만든 "Set-RunbookConfiguration" Runbook을 선택하여 Runbook 작성을 시작합니다. 이제 작성 탭을 클릭하여 Runbook 코드를 봅니다. 여기에서 Azure Automation이 자동으로 <i>"워크플로 이름 { }" </i> 을(를) 추가한 것을 볼 수 있습니다. 아래와 같이 Runbook 정의를 삽입합니다.


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/Rb.png"><img style="float: none;margin-left: auto;margin-right: auto;border: 0px" title="Rb" alt="Rb" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Rb_thumb.png" width="610" border="0" /></a>


  자세한 정보 표시 및 진행률 스트림은 사용하거나 사용하지 않도록 설정할 수 있는 스트림의 예입니다. 자세한 내용은 추가 정보를 제공할 수 있으므로 프로덕션 Runbook 문제를 해결할 때 특히 유용합니다. Write-Output 항상 표시되므로 Runbook의 결과가 항상 표시됩니다.


  Runbook을 수동으로 입력하는 것 외에도 "삽입" 단추를 사용하여 Azure Automation에 로드된 모듈, 게시된 다른 Runbook 또는 변수 또는 연결과 같은 자산을 삽입<i></i>할 수도 있습니다. 자산 탭에서 자산을 관리하거나 관리 단추를 사용하여 Runbook 작성 환경을 벗어나지 않고 자산을 만들 수 있습니다. 자산은 Automation 서비스에 대해 전역적으로 사용할 수 있습니다. 향후 자산에 대한 자세한 게시물을 게시할 예정입니다.


  Runbook에 만족하면 Runbook을 저장, 테스트 또는 게시할 수 있습니다. "테스트" 기능은 실제로 워크플로를 실행하며 –WhatIf가 아닙니다.


  이 경우 계속해서 Runbook을 게시합니다. 이렇게 하면 읽기 전용 게시 보기로 이동합니다. 이제 명령 모음에서 시작 단추를 클릭하여 Runbook을 시작할 수 있습니다. 그러면 <b>작업</b>이라고 하는 Runbook의 인스턴스가 생성됩니다. 다음 "Runbook 구성" 섹션의 단계를 수행하지 않고 Runbook을 시작하는 경우 자세한 정보 표시 또는 진행률 스트림이 사용되지 않으므로 표시되지 않습니다. 결과를 비교할 수 있도록 시작을 클릭합니다.


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/StartJob.png"><img style="float: none;margin-left: auto;margin-right: auto;border-width: 0px" title="StartJob" alt="StartJob" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/StartJob_thumb.png" width="610" border="0" /></a>

  <h2></h2>

  <h2>Runbook 구성</h2>

  Runbook의 구성 탭을 사용하여 Runbook을 쉽게 <b>구성할</b> 수 있습니다.


  구성 탭에서 만든 Runbook과 관련된 설정을 수정할 수 있습니다. 예를 들어 <strong>설명을</strong> 변경하거나 <strong>태그를</strong> 추가하여 Runbook을 구성할 수 있습니다. 전체 워크플로를 완료하기 위해 함께 작동하는 일련의 작은 Runbook이 있는 경우 특히 유용할 수 있습니다. 여기에서 PowerShell 스트림 로깅을 관리할 수도 있습니다.


  나중에 보기 위해 기록할 자세한 정보 및 진행률 스트림이 있으므로 <b>로그 자세한</b> 정보 표시 레코드 및 <b>로그 진행률 레코드</b>를 수정합니다. Runbook에 대한 모든 로깅 수준을 설정하려면 이러한 옵션을 "예"로 설정합니다.


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/Configure.png"><img style="float: none;margin-left: auto;margin-right: auto;border: 0px" title="구성" alt="Configure" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Configure_thumb.png" width="610" border="0" /></a>


  구성 설정을 수정했으므로 Runbook을 다시 시작합니다. Start-AzureAutomationRunbook cmdlet을 사용하여 프로그래밍 방식으로 Runbook을 시작할 수도 있습니다. PowerShell cmdlet에 대한 자세한 내용은 여기에서 확인할 수 있습니다. Azure 서비스를 관리하려면 이러한 서비스에 PowerShell을 호출할 수 있도록 Automation Assets에서 Azure 관리 인증서를 가져와야 합니다. 이전 블로그 "Microsoft Azure <a href="https://blogs.technet.com/b/orchestrator/archive/2014/04/10/managing-azure-services-with-the-microsoft-azure-automation-preview-service.aspx">Automation Preview 서비스를 사용하여 Azure 서비스 관리</a>"에서 관리 인증서를 가져오는 방법을 알아볼 수 있습니다.


  &nbsp;

  <h2>Runbook 작업 조사</h2>

  팔로우한 경우 방금 실행한 두 작업이 성공적으로 완료된 것을 볼 수 있습니다. 이 Runbook의 작업에서 발생한 작업에 대해 자세히 알아보려면 "작업" 보기를 클릭하여 실행된 모든 작업을 확인합니다(선택한 시간 범위 내에서).


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/Jobs.png"><img style="float: none;margin-left: auto;margin-right: auto;border-width: 0px" title="작업" alt="Jobs" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Jobs_thumb.png" width="610" border="0" /></a>


  &nbsp;


  작업을 클릭하면 작업 요약, 입력 매개 변수 및 출력을 검토할 수 있는 작업 대시보드 보기로 이동됩니다. 작업을 클릭하고 기록 탭을 선택하면 이전에 사용하도록 설정한 로깅에 대한 세부 정보를 볼 수 있습니다. 예를 들어 모든 로그 스트림을 사용하도록 설정했으므로 두 번째 작업에서 진행률 및 자세한 정보 표시 출력을 볼 수 있지만 첫 번째 작업에서 Write-Output 출력만 볼 수 있습니다. 이 작업에 사용된 실제 Runbook을 볼 수 있도록 원본 보기 명령을 클릭하여 Runbook 원본(작업에 대해 실행된 버전)도 사용할 수 있습니다.


  작업 1:


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/Job1.png"><img style="float: none;margin-left: auto;margin-right: auto;border: 0px" title="Job1" alt="Job1" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Job1_thumb.png" width="610" border="0" /></a>


  작업 2:


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/Job2.png"><img style="float: none;margin-left: auto;margin-right: auto;border: 0px" title="Job2" alt="Job2" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Job2_thumb.png" width="610" border="0" /></a>

  <h2></h2>

  <h2>Scheduling a Runbook</h2>

  Azure Automation에서는 일정을 작성할 수도 있습니다. 작업 중인 Runbook에서 일정 보기로 이동하여 "새 일정에 연결"을 선택합니다.


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/Schedule1.png"><img style="float: none;margin-left: auto;margin-right: auto;border: 0px" title="Schedule1" alt="Schedule1" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Schedule1_thumb.png" width="610" border="0" /></a>


  일정에 대한 이름과 설명을 제공합니다.


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/Schedule2.png"><img style="float: none;margin-left: auto;margin-right: auto;border: 0px" title="일정2" alt="Schedule2" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Schedule2_thumb.png" width="610" border="0" /></a>


  &nbsp;


  마지막으로 일정 기본 설정(유형, 시작 시간, 만료 날짜 및 되풀이)을 선택합니다.


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/Schedule3.png"><img style="float: none;margin-left: auto;margin-right: auto;border: 0px" title="일정3" alt="Schedule3" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Schedule3_thumb.png" width="610" border="0" /></a>


  &nbsp;


  이 일정은 이제 활성화되며, 달리 수정되지 않는 한 현지 표준 시간대에서 실행됩니다. 여러 Runbook을 동시에 실행하도록 예약하려는 경우 다른 Runbook에 대해 이 일정을 다시 사용할 수도 있습니다. 일정을 보거나 연결을 해제하려면 Runbook의 "일정" 보기를 클릭하거나 자산 보기로 이동합니다.


  &nbsp;


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/Schedule4.png"><img style="float: none;margin-left: auto;margin-right: auto;border: 0px" title="일정4" alt="Schedule4" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Schedule4_thumb.png" width="610" border="0" /></a>

  <h2></h2>

  <h2>요약</h2>

  이제 Azure Automation 서비스를 탐색하여 작업 스트림 만들기, 실행, 구성 및 작업 보기와 같은 Runbook 관리 작업을 완료해야 합니다. 행복한 자동화!


  아직 Azure Automation 사용자가 아닌가요? <a href="https://aka.ms/Q2p1ap" target="_blank">미리 보기에 등록</a> 한 다음 <a href="https://azure.microsoft.com/en-us/documentation/articles/automation-create-runbook-from-samples/" target="_blank">시작 가이드</a>를 확인하세요.

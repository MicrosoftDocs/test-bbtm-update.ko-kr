### YamlMime:Yaml
ms.openlocfilehash: c6f3f0ef088626fa71bb82d99740c730a6a15943
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139901980"
Slug: vm-agent-and-extensions-part-2
Title: VM 에이전트 및 확장 - 2부
Summary: 이전 블로그 'VM 에이전트 &amp; 확장 – 1부'에서는 VM 에이전트의 개요, VM 에이전트를 사용하도록 설정된 새 VM을 만드는 방법에 대한 이점 및 정보를 제공했습니다. 이 블로그의 2부...
Content: >-
  이전 블로그 'VM 에이전트 &amp; 확장 – 1부'에서는 VM 에이전트의 개요, VM 에이전트를 사용하도록 설정된 새 VM을 만드는 방법에 대한 이점 및 정보를 제공했습니다. 이 블로그 시리즈의 2부에서는 기존 VM 및 디스크에서 만든 VM에서 VM 에이전트를 사용하도록 설정하는 두 가지 주요 시나리오에 대해 설명합니다.

  <h4>기존 VM에서 VM 에이전트 사용:</h4>

  <a href="https://weblogs.asp.net/scottgu/archive/2014/02/20/azure-expressroute-dedicated-networking-web-site-backup-restore-mobile-services-net-support-hadoop-2-2-and-more.aspx" target="_blank">VM 에이전트를 사용할 수 있기 전에 만든 Azure VM이</a> 있는 경우 이 워크플로에서는 이러한 VM에서 VM 에이전트를 사용하도록 설정하고 VM에서 확장을 사용하도록 설정하는 방법을 설명합니다.

  <h4>VM에서 VM 에이전트가 아직 사용하도록 설정되어 있지 않은지 확인합니다.</h4>

  이 작업은 다음 <a href="https://msdn.microsoft.com/en-us/library/windowsazure/jj156055.aspx" target="_blank"> Azure PowerShell</a>  cmdlet을 사용하여 수행할 수 있습니다.


  $x = Get-AzureVM -ServiceName $serviceName


  '$x.VM.ProvisionGuestAgent'가 false인지 확인합니다.


  <em>$x.VM.ProvisionGuestAgent가 <strong>true</strong>이면 VM에 이미 VM 에이전트가 있습니다. 나머지 단계를 건너뛸 수 있습니다.</em>

  <h4>Microsoft Azure VM 에이전트를 설치하여 VM을 준비합니다.</h4>

  Azure VM 에이전트 설치 관리자는 VM에 VM 에이전트 이진 파일을 설치하기 위한 독립 실행형 MSI입니다. VM 에이전트를 설치하려면 <a href="https://go.microsoft.com/fwlink/?LinkID=394789&amp;clcid=0x409" target="_blank">MSI를 다운로드하고</a> 시작하는 한 가지 쉬운 단계가 필요합니다. 아래와 같이 설치 관리자 워크플로에 따라 VM 에이전트를 설치합니다.


  <strong>참고:</strong> 도메인에 가입된 VM에서 VM 에이전트 msi는 때때로 중단될 수 있습니다. 이를 해결하려면 관리자 권한 프롬프트에서 msi를 시작합니다.


  <a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1760/8640.1.png"><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1760/8640.1.png" alt="" border="0"></a>

  <h4>PowerShell에서 플래그를 설정하여 VM 에이전트가 설치되었음을 나타냅니다.</h4>

  참고: 도메인에 가입된 VM에서 VM 에이전트 msi는 때때로 중단될 수 있습니다. 이를 해결하려면 관리자 권한 프롬프트에서 msi를 시작합니다.


  이제 VM 에이전트가 VM에 설치되었으므로 다음 단계는 이제 VM에 VM 에이전트가 설치되어 있음을 Azure 플랫폼에 알리는 것입니다. 다음 Azure PowerShell cmdlet을 실행하여 수행할 수 있습니다.


  <em>$vm = Get-AzureVM –serviceName $svc – 이름 $name</em>


  <em>$vm.VM.ProvisionGuestAgent = $TRUE</em>


  <em>Update-AzureVM – 이름 $name -VM $vm.VM -ServiceName $svc</em>


  참고: Azure PowerShell cmdlet은 <a href="https://azure.microsoft.com/en-us/downloads/" target="_blank">여기에서</a> 다운로드할 수 있습니다.


  이제 VM이 모든 VM 확장을 실행할 준비가 되었습니다!


  <strong>참고</strong>: Linux VM에서 Azure Linux 에이전트는 VM 확장을 구성하는 역할을 담당합니다. Linux 에이전트 설치에 대한 자세한 내용은 이 블로그 게시물<a title="에서</a> 확인할 수 있습니다" href="https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-linux-agent-user-guide/">.

  <h4>디스크에서 만든 VM에서 VM 에이전트 및 확장을 사용하도록 설정하는 방법:</h4>

  VM을 만드는 또 다른 일반적인 시나리오는 <a href="https://msdn.microsoft.com/en-us/library/windowsazure/jj672979.aspx" target="_blank">디스크에서 Azure VM을 만드는</a> 것입니다. Azure Portal에서 Sysprep'ed 이미지를 사용하는 경우 추가 단계 없이 VM 만들기 워크플로에서 VM 에이전트를 사용하도록 설정합니다. 그러나 특수 디스크를 사용하는 경우 VM 에이전트를 수동으로 설치해야 합니다. 아래 단계에서는 관련된 프로세스를 설명합니다.

  <h4>VHD에 VM 에이전트를 설치합니다.</h4>

  디스크를 사용하여 VM 온-프레미스를 만들고<a href="https://go.microsoft.com/fwlink/?LinkID=394789&amp;clcid=0x409" target="_blank"> MSI</a>를 사용하여 VM 에이전트를 설치합니다.


  <a href="https://msdn.microsoft.com/en-us/library/windowsazure/dn205185.aspx" target="_blank">VHD를 Azure에 업로드</a>.

  <h4>디스크에서 VM 만들기</h4>

  포털에서 갤러리에서 VM을 만들고 업로드된 VHD를 선택합니다. VM 만들기 워크플로에서 플래그를 선택하여 디스크에 VM 에이전트가 이미 포함되어 있음을 나타냅니다. 이 지점 이후에 VM을 만드는 동안 또는 이후에 VM에 확장을 추가할 수 있습니다.


  <a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1760/2705.2.png"><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1760/2705.2.png" alt="" border="0"></a>

  <h4>3. VM 에이전트를 사용하도록 설정한 후 다음 단계는 무엇인가요?</h4>

  VM에서 VM 에이전트를 사용하도록 설정하면 BGInfo 또는 VMAccess와 같은 사용 가능한 모든 확장을 VM에 추가할 수 있습니다. 다음 몇 가지 블로그에서는 실행 중인 VM에서 직접 임의의 사용자 지정 스크립트를 실행하는 것과 같이 추가 확장을 검색하고 VM에 추가하는 방법을 설명합니다.

  <h4>4. 피드백/질문</h4>

  VM 에이전트 또는 확장에 대한 의견/질문을 <a href="https://social.msdn.microsoft.com/Forums/windowsazure/en-US/e3d5b6ea-a010-4a4b-969b-208affce3d89/vm-agent-and-vm-extensions-feedback-issues-questions?forum=WAVirtualMachinesforWindows" target="_blank">여기에</a> 게시하세요. Microsoft는 여러분의 의견을 기다리고 있습니다!


  &nbsp;

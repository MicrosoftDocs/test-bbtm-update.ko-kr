### YamlMime:Yaml
ms.openlocfilehash: 47fb88348baf89b079bb21556110fbda49a1fd16
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139900607"
Slug: six-things-to-consider-when-using-video-indexer-at-scale
Title: Video Indexer를 대규모로 사용할 때 고려해야 할 6가지 사항
Summary: 인덱싱할 비디오의 대규모 보관이 계속 확장되고 있으므로 Video Indexer를 평가하고 강화하여 관계를 다음 단계로 끌어올리기로 결정했습니다.
Content: >-
  <p>인덱싱할 비디오의 대용량 보관이 계속 확장되고 있으므로 Microsoft Video Indexer를 평가하고 확장하여 관계를 다음 단계로 끌어올리기로 결정했습니다.</p>


  <p>일반적으로 크기 조정은&rsquo; 어려울 수 있지만 이러한 프로세스를 처음 접할 때 이를 수행하는 가장 좋은 방법은 확실하지 않을 수 있습니다. &ldquo;고려해야 할 기술적 제약이 있습니까?&rdquo;, &ldquo;똑똑하고 효율적인 방법이 있습니까?&rdquo;, 그리고 &ldquo;그 과정에서 과도한 돈을 지출하는 것을 막을 수 있습니까?&rdquo; 따라서 Video Indexer를 대규모로 사용하는 방법에 대한 6가지 모범 사례는 다음과 같습니다.</p>


  <p>&nbsp;</p>


  <h2>1. 비디오를 업로드할 때 파일을 바이트 배열로 보내는 대신 URL을 사용하는 것이 좋습니다.</h2>


  <p>Video Indexer는 URL에서 또는 파일을 바이트 배열로 직접 전송하여 비디오를 업로드할 수 있는 옵션을 제공하지만 후자에는 몇 가지 제약 조건이 있습니다.</p>


  <p>첫째, 파일 크기 제한 사항이 있습니다. 바이트 배열 파일의 크기는 URL을 사용하는 동안 30GB 업로드 크기 제한에 비해 2GB로 제한됩니다.</p>


  <p>둘째, 크기 조정의 경우 다중 파트를 사용하여 파일을 전송한다는 것은 네트워크에 대한 높은 종속성, 서비스 안정성, 연결, 업로드 속도 및 월드 와이드 웹 어딘가에 있는 패킷 손실이 성능에 영향을 줄 수 있는 문제 중 일부일 뿐이므로 크기를 조정하는 기능을 의미합니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5949b9c2-fa51-4bef-98e6-3358fc5c6c80.png"><img alt="“illustration of uploading a video via URL compared with potential network issues when using direct upload" border="0" height="547" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5dac0c65-7b6c-4b17-9473-69a01aeba495.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Diagram-02" width="1024"></a></p>


  <p>URL을 사용하여 비디오를 업로드하는 경우 미디어 파일의 위치에 대한 경로를 제공해야 하며 나머지는 처리합니다( <a href="https://api-portal.videoindexer.ai/docs/services/Operations/operations/Upload-Video?&amp;pattern=upload">업로드 비디오 API</a>의 필드 아래 참조).</p>


  <p>API를 통해 URL을 사용하여 비디오를 업로드하려면 이 <a href="https://github.com/Azure-Samples/media-services-video-indexer/tree/master/API" target="_blank">짧은 코드</a> 샘플을 확인하거나 <a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-use-azcopy-v10" target="_blank">AzCopy</a> 를 사용하여 빠르고 신뢰할 수 있는 방법으로 <a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-sas-overview" target="_blank">콘텐츠를 SAS</a> URL을 사용하여 Video Indexer에 제출할 수 있는 스토리지 계정으로 가져올 수 있습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5585caa5-3509-47b8-8faf-51e75290568f.jpg"><img alt="URL address field in the uploadVideo API" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0c7eb01a-a79f-495f-a72a-dc6cdc640fd8.jpg" title="1008 img 2"></a></p>


  <h2>2. 필요한 경우 미디어 예약 단위 늘리기</h2>


  <p>일반적으로 Video Indexer를 사용하기 시작할 때 개념 증명 단계에서는 많은 컴퓨팅 성능이 필요하지 않습니다&rsquo;. 이제 Video Indexer 사용량을 강화하려는 경우 인덱싱하려는 비디오의 더 큰 보관 파일이 있으며 이 프로세스가 사용 사례에 맞는 속도로 진행되도록 할 수 있습니다. 따라서 현재 컴퓨팅 성능이 충분하지 않은 경우 사용하는 컴퓨팅 리소스 수를 늘리는 것을 고려해야 합니다.</p>


  <p>Azure Media Services 컴퓨팅 능력 및 병렬 처리에 대해 이야기할 때 RU(미디어 <a href="https://docs.microsoft.com/en-us/azure/media-services/previous/media-services-scale-media-processing-overview">예약 단위</a>)에 대해 이야기할 때 미디어 처리 작업에 대한 매개 변수를 결정하는 컴퓨팅 단위입니다. RU 수는 각 계정에서 동시에 처리할 수 있는 미디어 작업 수에 영향을 주며, 해당 유형에 따라 처리 속도가 결정되고, 인덱싱이 복잡한 경우 한 비디오에 둘 이상의 RU가 필요할 수 있습니다. RU가 사용 중인 경우에는 또 다른 리소스를 사용할 수 있을 때까지 새 작업이 큐에 저장됩니다.</p>


  <p>우리는 당신이 효율적으로 작동하려고 알고 당신은 결국 시간의 유휴 부분을 유지합니다 리소스를 갖고 싶지 않아&rsquo;. 이러한 이유로, 더 적은 처리가 필요할 때 RU를 스핀 다운하고 러시 시간(모든 RU를 완전히 사용하기까지)에 있을 때 RU를 스핀업하는 자동 크기 조정 시스템을 제공합니다. 계정 설정에서 <a href="https://docs.microsoft.com/en-us/azure/media-services/video-indexer/manage-account-connected-to-azure#auto-scale-reserved-units">자동 크기 조정을 켜</a> 거나 <a href="https://api-portal.videoindexer.ai/docs/services/Operations/operations/Update-Paid-Account-Azure-Media-Services?&amp;pattern=update">Update-Paid-Account-Azure-Media-Services API</a>를 사용하여 이 기능을 쉽게 사용하도록 설정할 수 있습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5f87faa4-753a-4ef5-b0e6-7edbcb465263.jpg"><img alt="autoscale button in the account settings" border="0" height="424" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/39b7da22-8916-4329-8787-3956e42f240f.jpg" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="1008 img 3" width="640"></a><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/be52380b-b3c9-4f00-97cd-7fb10db3015f.jpg"><img alt="API sample to update paid account on AMS with autoScale = true" border="0" height="348" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1f53045a-3f52-4626-aa21-a75b5e4ccdd3.jpg" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="1008 img 4" width="640"></a> 인덱싱 기간 및 낮은 처리량을 최소화하려면 S3 형식의 10RU로 시작하는 것이 좋습니다. 나중에 더 많은 콘텐츠 또는 더 높은 동시성을 지원하기 위해 강화되고 더 많은 리소스가 필요한 경우 지원 시스템(유료 계정에만 해당) <a href="https://ms.portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/newsupportrequest">을 사용하여 더</a> 많은 RU 할당을 요청할 수 있습니다.</p>


  <h2>3. 제한 존중</h2>


  <p>Video Indexer는 대규모로 인덱싱을 처리하도록 빌드되었으며 이를 최대한 활용하려면 시스템&rsquo; 기능을 인식하고 그에 따라 통합을 디자인해야 합니다. 일부 영화가 업로드되지 않았고&rsquo; HTTP 429 응답 코드(너무 많은 요청)를 수신하고 있음을 발견하기 위해 비디오 일괄 처리에 대한 업로드 요청을 보내지 않으려는&rsquo; 경우 이 문제는 <a href="https://docs.microsoft.com/en-us/azure/media-services/video-indexer/upload-index-videos#uploading-considerations-and-limitations" target="_blank">지원하는 분당 동영상 한도</a>보다 많은 요청을 보냈다는 사실로 인해 발생할 수 있습니다. 걱정하지 마세요&rsquo;. HTTP 응답에서 재시도 후 헤더를 추가합니다. 다음 재시도를 시도할 때 지정할 헤더입니다. 다음 요청을 시도하기 전에 제한을 준수하는지 확인합니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/49f93164-2532-4847-ade0-f1a983260f2c.jpg"><img alt="The documentation of the HTTP 429 response the user receives" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/14f1c41b-9293-44d0-af77-52249f389d54.jpg" style="margin-right: auto; margin-left: auto; float: none; display: block;" title="1008 img 5"></a></p>


  <h2>4. 콜백 URL 사용</h2>


  <p>고객 서비스를 호출한 적이 있고 해당 응답이 이제 요청을 처리하고 있는 Im&rsquo;이었&ldquo;으면 몇 분 정도 걸립니다. 당신은 당신의 전화 번호를 떠날 수 있고 우리는&rsquo; 완료되면 당신에게 다시 얻을 수 있습니까&rdquo;? 번호를 그대로 두고 요청이 처리된 두 번째 호출을 다시 호출하는 경우는 <a href="https://docs.microsoft.com/en-us/azure/media-services/video-indexer/upload-index-videos#callbackurl">콜백 URL</a>을 사용하는 것과 정확히 동일한 개념입니다.</p>


  <p>따라서 업로드 요청을 보낸 두 번째 요청에서 요청 상태를 지속적으로 폴링하는 대신 콜백 URL을 추가하고 업데이트할 때까지 기다릴 수 있습니다. 업로드 요청에 상태가 변경되는 즉시 보낸 URL에 POST 알림을 보냅니다.</p>


  <p>콜백 URL을 <a href="https://api-portal.videoindexer.ai/docs/services/Operations/operations/Upload-Video?&amp;pattern=upload">업로드 비디오 API</a> 의 매개 변수 중 하나로 추가할 수 있습니다(API의 설명 아래 참조). 이 작업을 수행하는 방법을 잘 모르는 경우 <a href="https://github.com/Azure-Samples/media-services-video-indexer/tree/master/API" target="_blank">GitHub 리포지토리</a>에서 코드 샘플을 확인할 수 있습니다. 그런데 콜백 URL의 경우 HTTP에서 트리거하고 다음 흐름을 구현할 수 있는 서버리스 이벤트 기반 플랫폼인 Azure Functions를 사용할 수도 있습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2bfc0d15-4276-4121-bc3c-0174c7c4efd4.jpg"><img alt="callback URL address field in the uploadVideo API" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7c1c45ca-1719-4e8e-960f-2f5c7d068f8f.jpg" style="margin-right: auto; margin-left: auto; float: none; display: block;" title="1008 img 6"></a></p>


  <h2>5. 적합한 인덱싱 매개 변수 사용</h2>


  <p>Video Indexer를 사용할 때, 특히 크기를 조정하려고 할 때 가장 먼저 해야 할 일은 필요에 맞는 매개 변수를 사용하여 최대한 활용하는 방법을 생각하는 것입니다. 다양한 매개 변수를 정의하여 비용을 절감하고 비디오의 인덱싱 프로세스를 더 빠르게 만들 수 있는 사용 사례를 생각해 보세요.</p>


  <p>이러한 인덱싱 매개 변수를 선택하여 Video Indexer에서 사용량을 사용자 지정할 수 있는 옵션을 제공합니다. &rsquo;시청할 계획이 없는 경우 미리 설정을 스트리밍으로 설정하지 말고&rsquo; 오디오 인사이트만 필요한 경우 비디오 인사이트를 인덱싱하지 마세요&rsquo;.</p>


  <p>비디오를 업로드하고 인덱싱하기 전에 이 짧은 <a href="https://docs.microsoft.com/en-us/azure/media-services/video-indexer/upload-index-videos">설명서를</a> 읽기 전에 <a href="https://docs.microsoft.com/en-us/azure/media-services/video-indexer/upload-index-videos#indexingpreset">indexingPreset</a> 및 <a href="https://docs.microsoft.com/en-us/azure/media-services/video-indexer/upload-index-videos#streamingpreset">streamingPreset</a> 부분을 확인하여 옵션에 대한 더 나은 아이디어를 얻을 수 있습니다.</p>


  <h2>6. 최적 해상도의 인덱스( 최고 해상도 아님)</h2>


  <p>얼마 전까지만 해도 HD 동영상이 존재하지&#39;때가 있었습니다. 이제 HD에서 8K까지 다양한 자질의 비디오가 있습니다. 문제는 비디오를 인덱싱하는 데 필요한 비디오 품질입니다. 업로드하는 동영상의 품질이 높을수록 파일 크기가 커지며 이로 인해 비디오를 업로드하는 데 필요한 컴퓨팅 성능과 시간이 증가합니다.</p>


  <p>대부분의 경우 인덱싱 성능은 HD(720P) 비디오와 4K 비디오 간에 거의 차이가 없음을 보여 줍니다. 결국, 동일한&rsquo; 신뢰도로 거의 동일한 인사이트를 얻을 수 있습니다.</p>


  <p>예를 들어, 얼굴 감지 기능의 경우 더 높은 해상도를 사용하면 작지만 맥락상 중요한 얼굴이 많이 있는 시나리오에 도움이 될 수 있습니다. 그러나 이로 인해 런타임이 2차 증가하고 가양성의 위험이 증가합니다.</p>


  <p>따라서 사용 사례에 적합한 결과를 얻는지 확인하고 먼저 로컬로 테스트하는 것이 좋습니다. 동일한 비디오를 720P 및 4K로 업로드하고 얻은 인사이트를 비교합니다. 대포를 사용하여 비행을 죽일 필요가 없다는 것을 기억하십시오.</p>


  <p><strong>질문이나 의견이 있으신가요?</strong> 여러분의 의견을 듣고 싶습니다. <a href="https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fcognitive.uservoice.com%2Fforums%2F598144-video-indexer&amp;data=02%7C01%7Cv-carjen%40microsoft.com%7Cf5330de08d374a90a91008d77cd26759%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C637115115445238801&amp;sdata=ARddkDg6%2FufcIGZWNOa8fWtzyjSoyAzX3BHwcYRCu18%3D&amp;reserved=0">UserVoice 페이지를</a> 사용하여 기능의 우선 순위를 지정하거나, 아래에 의견을 남기거나, 질문에 대한 전자 메일을 보내 <a href="mailto:VISupport@Microsoft.com">VISupport@Microsoft.com</a> 주세요.</p>


  <p>사용 사례에 대해 알아보고자 하며 크기를 조정하는 데 도움을 줄 수 있습니다.</p>

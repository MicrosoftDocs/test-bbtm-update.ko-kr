### YamlMime:Yaml
ms.openlocfilehash: acae44bf40d826c7306e7c0866bce501aeb78ac6
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139899767"
Slug: introducing-the-azure-terraform-resource-provider
Title: Azure Terraform 리소스 공급자 소개
Summary: Arm(Azure Resource Manager)을 사용하여 Azure 고객이 네이티브 Azure 리소스 공급자인 것처럼 Terraform 공급자를 사용하여 종속 리소스를 프로비전하고 구성할 수 있도록 하는 새로운 HashiCorp Terraform용 Azure 리소스 공급자의 프라이빗 미리 보기를 발표하게 되어 기쁘게 생각합니다.
Content: >-
  <p>Arm(Azure Resource Manager)을 사용하여 Azure 고객이 네이티브 Azure 리소스 공급자인 것처럼 Terraform 공급자를 사용하여 종속 리소스를 프로비전하고 구성할 수 있도록 하는 새로운 HashiCorp <a href="https://azure.microsoft.com/en-us/solutions/devops/terraform/">Terraform</a> 용 Azure 리소스 공급자의 프라이빗 미리 보기를 발표하게 되어 기쁘게 생각합니다.</p>


  <p>Terraform에 많은 투자를 하고 HashiCorp와 긴밀하게 협력하여 Terraform을 사용하여 리소스를 관리하는 고객을 위해 Azure의 깊고 풍부한 지원을 지원해 왔습니다. 이 새로운 기능은 ARM을 직접 사용하여 Azure를 통해 직접 Terraforms&rsquo;의 광범위하고 다양한 공급자 집합의 이점을 누릴 수 있도록 하기 위한 것입니다.</p>


  <p>이 새로운 RP(Azure Resource Provider)에서 사용할 수 있는 많은 시나리오가 있습니다. 예를 들어 이제 고객은 AKS(Azure Container Service)에 새 Kubernetes 클러스터를 만드는 ARM 템플릿을 작성한 다음 Terraform OSS 공급자를 통해 Pod, 서비스 및 비밀과 같은 Kubernetes 리소스를 의존 리소스로 만들 수 있습니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1f933e0f-ab45-479b-ab76-69a42734c9e8.png"><img alt="tf-arm" border="0" height="456" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7a089b2b-b7a2-4856-a596-0fbaa5a9aa60.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="tf-arm" width="1531"></a></p>


  <p align="center"><em>Terraform RP를 사용하여 ARM API를 사용하여 Azure 내부 또는 외부에서 타사 리소스를 프로비전합니다.</em></p>


  <h2>리소스 공급자 사용</h2>


  <p>공급자는 다음 두 가지 형식을 노출합니다.</p>


  <ul>
   <li>providerregistrations</li>
   <li>리소스</li>
  </ul>


  <h2>Providerregistrations 형식</h2>


  <p><strong> providerregistrations</strong> 형식은 Terraform의 공급자 형식과 상관 관계가 있으며 연결 및 인증 정보를 포함합니다.</p>


  <p>아래 예제에서는 <strong>providertype</strong> 속성이 kubernetes로 설정된 리소스의 속성에서 새 <strong>providerregistration</strong>이 만들어지고, 이 속성은 RP에 <a href="https://www.terraform.io/docs/providers/kubernetes/index.html" target="_blank">Terraform Kubernetes Provider</a>를 사용하도록 지시합니다. 설정 개체에서 공급자의 <strong>inline_config</strong> 속성을 기존 AKS 관리 Kubernetes 클러스터의 자격 증명(<strong>kubeconfig</strong>)으로 설정합니다. 자격 증명은 AKS 리소스에서<strong> ListCredential</strong> 작업을 호출하여 가져옵니다.</p>


  <pre>

  {
     &quot;type&quot;: &quot;Microsoft.TerraformOSS/providerregistrations&quot;,
     &quot;name&quot;: &quot;[parameters(&#39;resourceName&#39;)]&quot;,
     &quot;apiVersion&quot;: &quot;2018-05-01&quot;,
     &quot;location&quot;: &quot;northeurope&quot;,
     &quot;properties&quot;: {
        &quot;providertype&quot;: &quot;kubernetes&quot;,
        &quot;settings&quot;:
        {
         &quot;inline_config&quot;: &quot;[Base64ToString(ListCredential(resourceId(&#39;Microsoft.ContainerService/managedClusters/accessProfiles&#39;, parameters(&#39;resourceName&#39;),&#39;clusterAdmin&#39;), &#39;2017-08-31&#39;).properties.kubeConfig)]&quot;
        }
      }
  }</pre>


  <h2>리소스 유형</h2>


  <p>리소스 유형은 Terraform의 리소스 유형에 매핑됩니다. Kubernetes 클러스터에 Pod를 만들기 위해 새 리소스 유형이 정의되는 리소스 예제에서 해당 <strong>resourcetype</strong> 속성은 RP가 Terraform <strong>kubernetes_pod</strong> 리소스를 사용하도록 지시하는 <strong>kubernetes_pod</strong> 설정되며, <strong>공급자 Id</strong> 속성을 이전에 만든 <strong>providerregistrations</strong> 형식의<strong> resourceId</strong>로 설정하여 리소스가 특정 kubernetes 클러스터에 바인딩됩니다. 설정 속성 스키마는 Terraform의 <a href="https://www.terraform.io/docs/providers/kubernetes/r/pod.html" target="_blank">kubernetes_pod</a> 리소스에서 허용하는 인수에 직접 매핑됩니다.</p>


  <pre>

  {
     &quot;type&quot;: &quot;Microsoft.TerraformOSS/resources&quot;,
     &quot;name&quot;: &quot;NginxPod&quot;,
     &quot;apiVersion&quot;: &quot;2018-05-01&quot;,
     &quot;location&quot;: &quot;northeurope&quot;,
     &quot;properties&quot;: {
        &quot;providerId&quot;: &quot;[resourceId(&#39;Microsoft.TerraformOSS/providerregistrations&#39;, parameters(&#39;resourceName&#39;))]&quot;,
        &quot;resourcetype&quot;: &quot;kubernetes_pod&quot;,
        &quot;settings&quot;: {
           &quot;metadata&quot;: [
              {
                &quot;name&quot;: &quot;nginx&quot;,
                &quot;labels&quot;: {
                   &quot;App&quot;: &quot;nginx&quot;
                 }
              }
           ],
           &quot;spec&quot;: [
             {
               &quot;container&quot;: {
                 &quot;image&quot;: &quot;nginx:1.7.8&quot;,
                 &quot;name&quot;: &quot;nginx&quot;,
                 &quot;port&quot;: {
                   &quot;container_port&quot;: 80
                }
              }
            }
          ]
        }
      },
      &quot;dependsOn&quot;: [
        &quot;[resourceId(&#39;Microsoft.TerraformOSS/providerregistrations&#39;, parameters(&#39;resourceName&#39;))]&quot;
     ]
  }</pre>


  <p>이러한 형식은 모두 리소스 공급자에서 최상위 리소스로 모델링되었습니다. 즉, <a href="https://docs.microsoft.com/en-us/azure/role-based-access-control/overview" target="_blank">AZURE RBAC(역할 기반 액세스 제어)</a> 를 사용하여 공급자 정보를 보호할 수 있으므로 해당 공급자에서 리소스를 관리해야 하는 사용자가 자격 증명 및 연결 정보에 액세스할 필요가 없습니다. 또한 공급자 등록에 대한 리소스 참조를 변경하기만 하면 여러 환경에서 사용할 수 있는 단일 리소스 템플릿 집합을 가질 수도 <strong>있습니다</strong>. 이 새 리소스 공급자의 사용을 제어하기 위해 <a href="https://docs.microsoft.com/en-us/azure/azure-policy/azure-policy-introduction" target="_blank">Azure Policy</a>를 적용할 수도 있습니다.</p>


  <h2>초기 프라이빗 미리 보기 릴리스에서 지원되는 Terraform 공급자</h2>


  <p>초기 프라이빗 미리 보기 릴리스에서는 다음 세 가지 공급자를 지원합니다.</p>


  <ul>
   <li><a href="https://www.terraform.io/docs/providers/kubernetes/index.html" target="_blank">Kubernetes</a></li>
   <li><a href="https://www.terraform.io/docs/providers/cloudflare/index.html" target="_blank">Cloudflare</a></li>
   <li><a href="https://www.terraform.io/docs/providers/datadog/index.html" target="_blank">Datadog</a></li>
  </ul>


  <p>프라이빗 미리 보기에서 공개 미리 보기로 GA로 이동하면 추가 공급자에 대한 지원이 추가됩니다. 다른 클라우드 플랫폼 제외) 가능한 한 많은 <a href="https://www.terraform.io/docs/providers/index.html" target="_blank">Terraform 공급자를</a> 지원하기 위한 것입니다. 릴리스되면 새 공급자가 Terraform에 추가되면 Azure에서도 사용하도록 설정하기 위해 노력할 것입니다.</p>


  <h2>프라이빗 미리 보기에 참여하는 방법</h2>


  <p>프라이빗 미리 보기에 액세스하려면 이 <a href="https://aka.ms/tfossrp" target="_blank">Azure TerraformOSS 리소스 공급자 프라이빗 미리 보기 설문지를</a> 작성하세요.</p>

### YamlMime:Yaml
ms.openlocfilehash: 5f17c8cb5d7fdb6ecbf7315a9e35a3b203969767
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139900819"
Slug: securing-your-connection-string-in-windows-azure-part-1
Title: 'Windows Azure에서 연결 문자열 보호: 1부'
Summary: '[이 문서는 SQL Azure 팀에서 제공했습니다.] 매우 안전한 SQL Azure 환경을 실행하는 데 직면하는 문제 중 하나는 연결 문자열을 너무 안전하게 유지하여 SQL Azure. 만약 당신이...'
Content: '<p>[이 문서는 SQL Azure 팀에서 제공했습니다.]</p><p>매우 안전한 SQL Azure 환경을 실행하는 데 직면하는 문제 중 하나는 연결 문자열을 너무 안전하게 유지하여 SQL Azure. Windows Azure를 실행하는 경우 Windows Azure 코드에 이 연결 문자열을 제공해야 하지만 Windows Azure 패키지를 만드는 개발 직원에게 프로덕션 데이터베이스 암호를 제공하지 않을 수 있습니다. 이 일련의 블로그 게시물에서는 Windows Azure 환경에서 SQL Azure 연결 문자열을 보호하는 방법에 대해 알아봅니다.</p>  <h2>시나리오 범위 지정</h2>  <p>보안 조치가 없으면 연결 문자열이 일반 텍스트로 표시되고 프로덕션 데이터베이스에 대한 로그인 및 암호가 포함됩니다. 목표는 Windows Azure에서 실행되는 코드가 연결 문자열을 읽을 수 있도록 하는 것입니다. 그러나 Windows Azure 배포를 위해 패키지를 만드는 개발자는 이 코드를 읽을 수 없습니다. 이를 위해 Windows Azure는 연결 문자열의 잠금을 해제하는 "비밀"을 알고 있어야 하지만 패키지를 만드는 개발자는 그렇지 않습니다. 패키지의 모든 파일에 액세스할 수 있는 경우 이 작업은 어떻게 수행되나요?</p>  <h2>Windows Azure 인증서 저장소 사용</h2>  <p>Azure가 "알고 있는" Windows 비밀이 있는 방법은 Windows Azure 인증서 저장소에 인증서를 미리 배포하는 것입니다. 이 인증서에는 퍼블릭/프라이빗 키 쌍의 프라이빗 키가 포함됩니다. Windows Azure는 이 프라이빗 키를 사용하여 Windows Azure 패키지의 구성 파일에 배포된 암호화된 연결 문자열의 암호를 해독합니다. 공개 키는 연결 문자열을 암호화해야 하는 모든 사람에게 전달됩니다. 공개 키를 가진 사용자는 이를 사용하여 연결 문자열을 암호화할 수 있지만 암호화된 연결 문자열을 읽을 수는 없습니다.</p>  <p>이 기술에는 세 가지 유형의 사용자가 있습니다.</p>  <ol>   <li>프라이빗 키 소유자(Windows Azure 관리자)는 프라이빗/공개 키 쌍을 생성하고, 프라이빗 키 백업을 저장하고, 프라이빗 키를 Windows Azure에 배치하는 매우 안전한 사용자입니다. 그와 Windows Azure만 연결 문자열을 디코딩할 수 있습니다. </li>    <li>SQL 관리자는 연결 문자열을 알고 있으며 공개 키(Windows Azure Administrator에서 받은)를 사용하여 연결 문자열을 인코딩합니다. 인코딩된 바이트는 웹 개발자에게 web.config 제공합니다. </li>    <li>Windows Azure 패키지를 만드는 웹 개발자는 공개 키(모든 사용자가 액세스할 수 있음)를 알고 있지만 SQL 암호를 가져올 수 없도록 연결 문자열이나 프라이빗 키를 알지 못합니다. </li> </ol>  <h2>인증서 만들기</h2>  <p>azure 관리자(프라이빗 키 보유자)Windows 가장 먼저 해야 할 일은 로컬 컴퓨터를 사용하여 인증서를 만드는 것입니다. 이렇게 하려면 Visual Studio 2008 또는 2010이 설치되어 있어야 합니다. 일반적으로 프라이빗/공개 키 쌍을 만드는 데 사용하는 기술은 makecert.exe 프로그램입니다.</p>  <p>다음은 .pfx 형식으로 자체 서명된 인증서를 만드는 단계입니다.</p>  <ol>   <li>Visual Studio 명령 프롬프트를 엽니다(관리자 권한으로 실행). Visual Studio 도구의 시작 메뉴에서 명령 프롬프트를 찾습니다. </li>    <li>다음 명령을 실행합니다.      <p><i></i></p>      <p><b>makecert -r -pe -n &quot;CN=azureconfig&quot; -sky exchange &quot;azureconfig.cer&quot; -sv &quot;azureconfig.pvk&quot;</b></p>      <p><b></b></p>      <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image002" border="0" alt="clip_image002" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5635.clip_5F00_image002_5F00_thumb.jpg" width="644" height="333"></a><b></b></p>      <p><b></b></p>   </li>    <li>프라이빗 키를 세 번 보호하는 암호를 묻는 메시지가 표시됩니다. 사용자가 선택한 암호를 입력합니다.      <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image003" border="0" alt="clip_image003" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6708.clip_5F00_image003_5F00_thumb.png" width="377" height="269"></a></p>   </li>    <li>그러면 <b>azureconfig.cer</b> (공개 키 인증서) 및 <b>azureconfig.pvk </b>(프라이빗 키 파일)<b> </b>파일이 생성됩니다. </li>    <li>그런 다음, 다음 명령을 입력하여 .pfx 파일을 만듭니다(이 형식은 azure를 Windows 프라이빗 키를 가져오는 데 사용됩니다). <b>–pi </b>스위치 후 선택한 암호를 입력합니다. <b></b>      <p><b></b></p>      <p><b>pvk2pfx -pvk &quot;azureconfig.pvk&quot; -spc &quot;azureconfig.cer&quot; -pfx &quot;azureconfig.pfx&quot; -pi password-entered-in-previous-step</b></p>   </li>    <li>Visual Studio 명령 프롬프트의 현재 디렉터리를 확인하여 인증서가 만들어졌는지 확인할 수 있습니다.      <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image005" border="0" alt="clip_image005" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8877.clip_5F00_image005_5F00_thumb.jpg" width="644" height="333"></a> </p>   </li> </ol>  <h2>요약</h2>  <p>블로그 시리즈의 2부에서는 Windows Azure 관리자가 프라이빗 키(.pfx 파일)를 Windows Azure로 가져오는 방법을 보여 줍니다. 질문, 우려 사항, 의견이 있나요? 아래에 게시하고 우리는 그들을 해결하기 위해 노력할 것입니다.</p>'

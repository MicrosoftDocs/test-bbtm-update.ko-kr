### YamlMime:Yaml
ms.openlocfilehash: 8103fa2ec7f1b587cfdc6c4eba0423a749f7a3c6
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2022
ms.locfileid: "139910998"
Slug: inside-azure-file-storage
Title: Azure 파일 Storage 내부
Summary: AzureCon 2015에서 클라우드에서 완전히 관리되는 Microsoft Azure 파일 공유인 Azure File Storage 일반 공급에 대해 발표하게 되어 매우 기뻤으며, 서비스를 빌드하는 방법에 대한 내부 보기를 제공하고 싶습니다.
Content: >-
  <p>이번 주에는 AzureCon 2015에서 클라우드에서 완전히 관리되는 파일 공유를 <a href="https://azure.microsoft.com/en-us/blog/azure-file-storage-now-generally-available/">Microsoft Azure Azure File Storage</a>&rsquo; 일반 공급에 대해 발표하게 되어 기뻤습니다. 오늘날 Id&rsquo;는 서비스를 빌드하는 방법에 대한 내부 보기를 제공하고자 합니다.</p>


  <p>Azure File Storage Windows 파일 서버를 사용하는 것과는 매우 다른 접근 방식을 취했습니다. Azure Storage 확장성을 활용하기 위해 Azure File Storage 특히 Azure에서 하이퍼스케일로 실행되도록 SMB 3.0 프로토콜을 구현합니다. 내부적으로 Azure File Storage <a href="https://msdn.microsoft.com/en-us/magazine/dn166928.aspx">Azure Table Storage</a> 인프라를 사용하여 기존 파일 시스템이 관리하는 파일 및 디렉터리 메타데이터를 SMB 3.0 클러스터형 솔루션에 저장합니다. 마찬가지로 Azure File Storage 각 파일&rsquo; 데이터를 <a href="https://msdn.microsoft.com/en-us/library/azure/ee691964.aspx">Azure Page Blob</a>에 저장합니다. Azure Table 및 Blob Storage 모두 확장성이 뛰어나고 견고하며 내구성이 뛰어나므로 Azure File Storage 저장소는 이러한 속성을 상속하여 진정한 활성/활성 연속 사용 가능한 파일 공유를 제공합니다.</p>


  <p>이러한 내부 Azure 기술을 사용하여 Azure File Storage 구현하는 이점은 Azure 파일 공유에 <a href="https://msdn.microsoft.com/en-us/library/azure/dn167006.aspx">REST 인터페이스</a>를 제공할 수 있다는 것입니다. REST API는 SMB 클라이언트와 마찬가지로 <a href="https://msdn.microsoft.com/en-us/library/hh536501.aspx">SMB 임대</a>, 바이트 범위 잠금, 변경 알림 등을 적용하므로 애플리케이션은 SMB 인터페이스를 호출하는 동시에 파일에 REST 인터페이스를 사용할 수 있습니다.</p>


  <p>일반 공급 버전의 SMB 3.0 지원 릴리스와 함께 추가된 두 가지 주요 기능은 미리 보기가 구현된 SMB2.1 프로토콜에서 사용할 수 없는 Storage 원활한 암호화 및 영구 핸들입니다. 온-더-와이어 SMB 암호화를 사용하려면 클라이언트와 서버가 모두 SMB&rsquo; 버전 3.0 프로토콜 이상을 지원해야 합니다. 클라이언트 애플리케이션이 기능을 사용하기 위해 수정할 필요가 없도록 세션별 암호화 키를 자동으로 생성하기 위해 공동 작업합니다. SMB 3.0은 [<a href="https://www.ietf.org/rfc/rfc4309.txt">RFC4309</a>]에 지정된 검증된 AES 128 CCM 암호화 알고리즘을 사용하여 클라이언트/서버 통신의 기밀성과 무결성을 보장합니다.</p>


  <p>암호화를 추가하면 Azure 데이터 센터 외부의 클라이언트가 중간자 공격에 의한 도청 또는 변조를 두려워하지 않고 Azure 파일 공유를 사용할 수 있습니다. 사용자 또는 애플리케이션은 말 그대로 &lsquo;온-프레미스 클라이언트에서 클라우드 호스팅 공유를 사용할&rsquo; 수 있습니다. 이제 구성을 온-프레미스 파일 공유에서 Azure File Storage 공유로 변경하여 애플리케이션의 일부를 온-프레미스에 유지할 수 있으므로 리프트 앤 시프트&rdquo; 프로젝트를 가속화&ldquo;할 수 있습니다. Azure 외부에서 Azure File Storage 사용하는 경우 대기 시간은 분명히 내부보다 높지만 <a href="https://azure.microsoft.com/en-us/services/expressroute/">ExpressRoute</a> 네트워킹을 사용하여 전용 대역폭으로 고가용성 연결을 보장할 수 있습니다. Azure 외부에서 공유를 탑재하려면 ISP 또는 방화벽에 의해 포트 445(TCP 아웃바운드)가 차단되지 않도록 해야 합니다.</p>


  <p>다음 다이어그램에서는 서로 다른 Azure 파일 Storage 프런트 엔드에 실제로 연결되어 있더라도 동일한 공유에 연결하고 동일한 파일을 동시에 읽고 쓰는 두 클라이언트(온-프레미스와 Azure 데이터 센터 내의 클라이언트)를 보여 줍니다. 분산 일관성 알고리즘을 사용하면 Azure File Storage 동일한 물리적 SMB 서버에 연결된 것처럼 동일한 일관성을 보장합니다.</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/28f018a8-63c0-421a-af8f-c0fbe5dd5e63.png"><img alt="Two client diagram" border="0" height="449" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/03c54412-b227-417d-89f0-9250c01facb2.png" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; border-left: 0px; display: block; padding-right: 0px; margin-right: auto" title="두 개의 클라이언트 다이어그램" width="775"></a></p>


  <p>SMB 3.0 지원과 함께 도입된 두 번째 기능은 영구 핸들입니다. 영구 핸들은 SMB 2.1 지속성 핸들의 향상된 기능으로, 지속성 핸들의 <a href="https://msdn.microsoft.com/en-us/library/cc246790.aspx">일부 제한을</a> 제거하며, 네트워크 중단 및 서버 오류 후 Azure File Storage 사용하는 클라이언트에서 유지 관리 및 전송하는 추가 상태를 포함하여 연결 끊기 전에 지속성으로 커밋된 데이터를 알 수 있습니다. 이는 idempotent가 아닌 요청에 특히 중요합니다. Azure File Storage 재생된 경우 이미 커밋된 경우 애플리케이션 수준 데이터 손상이 발생할 수 있기 때문에 특히 중요합니다. 영구 핸들은 지속성 핸들과 달리 투명한 다시 연결이 가능합니다.</p>


  <p>Azure 파일 Storage 사용하는 방법에 대한 자세한 내용은 Windows <a href="https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-how-to-use-files/">Azure File Storage 시작</a> 및 <a href="https://azure.microsoft.com/en-us/documentation/articles/storage-how-to-use-files-linux/">Linux용 Azure 파일 Storage 시작을</a> 참조하세요.</p>

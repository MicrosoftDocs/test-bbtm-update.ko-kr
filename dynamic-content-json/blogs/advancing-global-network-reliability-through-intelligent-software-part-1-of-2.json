{
    "Slug": "advancing-global-network-reliability-through-intelligent-software-part-1-of-2",
    "Title": "인텔리전트 소프트웨어를 통한 글로벌 네트워크 안정성 향상 - 2부 중 1부",
    "Summary": "In our two-part series on advancing global network reliability through intelligent software, we explain how we’ve approached our network design, and how we’re constantly working to improve both reliability and performance.",
    "Content": "<p style=\"margin-left: 40px;\"><em>&ldquo;Microsofts&rsquo; 글로벌 네트워크는 60개 이상의 Azure 지역, 220개 이상의 Azure 데이터 센터, 170개 이상의 에지 사이트를 연결하며 165,000마일 이상의 지상파 및 해저 파이버를 사용하여 전 세계에 걸쳐 있습니다. 글로벌 네트워크는 전 세계에 전략적으로 배치된 POP(에지 포인트)에서 피어링을 통해 인터넷의 나머지 부분에 연결합니다. 전 세계 수백만 명의 사람들이 매일 Microsoft Azure, Office 365, Dynamics 365, Xbox, Bing 및 기타 많은 Microsoft 클라우드 서비스에 액세스합니다. 이는 하루에 수조 개의 요청과 테라바이트 단위의 데이터가 글로벌 네트워크에서 초당 전송되는 것으로 변환됩니다. 이 글로벌 네트워크의 안정성이 중요하다는 것은 말할 필요가 없기 때문에 Ive&rsquo;는 수석 프로그램 관리자 <strong>인 Mahesh Nayak</strong>과 수석 소프트웨어 엔지니어 <strong>인 Umesh Krishnaswamy</strong>에게 이 두 부분으로 구성된 게시물을 <a href=\"https://www.aka.ms/AdvancingReliability\" target=\"_blank\">고급 안정성 시리즈에</a> 작성해 달라고 요청했습니다. 웹이 네트워크 디자인에 어떻게&rsquo; 접근했는지, 그리고 안정성과 성능을 모두 개선하기 위해 지속적으로 작업하는 방법을&rsquo; 설명합니다.&rdquo;&mdash;</em> Mark Russinovich, CTO, Azure</p>\n\n<hr>\n<p><em><a href=\"https://azure.microsoft.com/en-us/blog/advancing-global-network-reliability-through-intelligent-software-part-2-of-2/\">인텔리전트 소프트웨어 2부를 통해 글로벌 네트워크 안정성 향상을</a> 읽습니다.</em></p>\n\n<p>Microsofts&rsquo; 글로벌 네트워크는 고속도로 시스템과 유사합니다. 고속도로는 주요 도시와 도로를 연결하여 작은 도시를 주요 도시로 연결합니다. 이 비유에서 Azure 지역으로 그룹화된 데이터 센터는 주요 도시이며 에지 POP는 작은 도시입니다. 데이터 센터, 에지 및 글로벌 네트워크의 네트워킹 자산은 모두 공유되는 하나의 풀입니다. 모든 차량이 사용할 수 있는 여러 차선이 있는 일반적인 고속도로라고 생각합니다. 이를 통해 리소스를 공유하고, 변경 사항에 적응하고, 모든 고객에게 혜택을 주는 기능을 개발할 수 있습니다. 인터넷 서비스 공급자, 클라우드 공급자 및 콘텐츠 배달 네트워크는 비슷한 네트워크상&mdash; 글로벌 네트워크와 일부 로컬을 가지고 있으므로 에지 POP의 네트워크와 연결합니다. 데이터 센터 간에 이동하는 트래픽과 하나의 데이터 센터와 에지 간의 트래픽은 모두 Microsofts&rsquo; 고속도로 시스템에 유지됩니다.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/30da6c42-c33b-4ebb-9289-c4c35876aef9.png\"><img alt=\"Azure Global Network map.\" border=\"0\" height=\"525\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5f1b2ac0-1d6e-4331-86e4-748ec2a7a13f.png\" style=\"border: 0px currentcolor; border-image: none; display: inline; background-image: none;\" title=\"Azure 글로벌 네트워크 맵.\" width=\"1024\"></a></p>\n\n<p>네트워크 시스템 안정성은 Microsoft의 최우선 과제이며 지속적으로 시스템을 개선하고 있습니다. 하이퍼스케일의 네트워크 인시던트가 불가피하지만, 이러한 기회를 통해 다양한 기여 요인을 배우고 가용성 디자인 원칙을 다시 생각하여 서비스를 더욱 안정적으로 만들 수 있습니다. 2020년 10월 초, 일부 경로에서 짧은 기간 동안 네트워크 정체가 발생하여 다른 Microsoft 클라우드 서비스에 영향을 주는 드문 서비스 인시던트가 발생했습니다. 이 특정 문제의 훌륭한 학습이 있으며, 이러한 학습을 소프트웨어 및 프로세스&mdash;에 통합하고 아래에 설명했습니다.</p>\n\n<h2>주요 디자인 원칙</h2>\n\n<p>승객에게 빠르고 안정적인 운송을 제공하는 고속도로 시스템과 마찬가지로, 우리는 다음 지침에 따라 최대의 안정성과 성능을 제공하도록 글로벌 네트워크를 설계했습니다.</p>\n\n<ul>\n    <li><strong>중복 토폴로지로 잘 프로비전된 네트워크:</strong> 중복성을 사용하여 하드웨어 및 소프트웨어 오류 도메인을 디자인하여 여러 동시 오류를 처리하고 단일 실패 지점을 제거합니다. 수요가 많거나 위기 발생 시 서비스 수준 목표를 충족할 수 있는 충분한 용량으로 네트워크를 디자인합니다.</li>\n    <li><strong>위험 해제 변경 내용:</strong> 대규모 네트워크에서는 변경 내용이 일정합니다. 그러나 작은 변경으로 인해 예기치 않은 주요 영향이 발생할 수 있습니다. 안전한 배포 사례를 따라 폭발 방사형을 줄이고, 자동 롤백을 수행하고, 배포 단계 간에 충분한 베이킹 시간을 허용하고, 수동 터치를 제거합니다.</li>\n    <li><strong>네트워크를 관리, 모니터링 및 운영하는 지능형 소프트웨어 시스템:</strong> 물리적 인프라는 파이버 절단, 하드웨어 오류, 수요 급증, 파괴적인 날씨 이벤트 및 사보타주와 같은 위험에 항상 취약합니다. 토폴로지, 요구 사항, 트래픽 라우팅, 오류, 성능에 대한 실시간 보기를 유지하고 네트워크 이벤트에서 자동으로 복구하는 소프트웨어 시스템을 빌드합니다.</li>\n    <li><strong>근접:</strong> 고객 트래픽은 네트워크 성능을 제어할 수 있도록 대부분의 여정을 위해 글로벌 네트워크에 전달되어야 합니다. 모든 지역 간 트래픽은 전적으로 네트워크 내에 유지됩니다.</li>\n    <li><strong>피드백 루프 및 AI를 사용하여 개선:</strong> 지속적인 학습은 안정성 업무에 매우 중요합니다. 모든 인시던트가 철저히 분석되어 근본 원인 및 기여 요인을 확인합니다. 무엇이 잘못되었는지 이해하는 것은 중요한 학습 기회입니다. 원격 분석 데이터와 함께 자체 학습을 사용하여 더 빠른 심사, 심층 분석을 수행하고 인간 운영자를 참여시킬 수 있습니다.</li>\n</ul>\n\n<h2>위험 해제 변경</h2>\n\n<p>서비스 업데이트 및 개선 사항을 배포하고 취약성 또는 인시던트에 신속하게 대응해야 한다는 점을 감안할 때 변경은 불가피하고 유익합니다. 변경 내용은 통합 환경, 카나리아 지역 및 대규모 롤아웃을 통해 점진적으로 롤아웃됩니다. 변경 프로세스는 제로 터치 운영 시스템을 통해 선언적입니다. 유효성 검사 주기는 글로벌 네트워크의 완전한 에뮬레이션을 위해 Open Network Emulator 사용하며 실시간 작업 검사기는 네트워크에 대한 각 변경의 위험을 확인합니다.</p>\n\n<h2>네트워크의 ONE(네트워크 Emulator)&mdash; 소프트웨어 에뮬레이션 열기</h2>\n\n<p>우주 비행사는 우주 임무를 준비할 때 각 이동을 연습하고 충실도가 높은 에뮬레이터에 대한 모든 절차를 테스트합니다. 마찬가지로 네트워크를 변경할 때 충실도가 높은 네트워크 에뮬레이터에서 유효성을 검사합니다. ONE(네트워크 Emulator)이라는 소프트웨어 에뮬레이션 환경에서 전체 글로벌 네트워크를 인스턴스화할 수 있습니다. 네트워크 디바이스는 Azure의 컨테이너 및 가상 머신에서 실행되는 소프트웨어의 이미지로 에뮬레이트됩니다. 여러 네트워크 디바이스가 단일 호스트에서 에뮬레이트되어 대규모 테스트를 위해 전체 네트워크를 인스턴스화할 수 있습니다. 네트워크 링크는 VXLAN(Virtual Extensible LAN) 터널을 사용하여 에뮬레이트됩니다. 네트워크 토폴로지 및 디바이스 구성은 프로덕션 구성 시스템에서 다운로드됩니다. 소프트웨어 컨트롤러는 에뮬레이트된 디바이스와 상호 작용하는 것을 모르고 ONE과 상호 작용합니다. ONE을 사용하면 프로덕션에 들어가기 전에 대규모 테스트를 수행할 수 있습니다. 모든 팀에는 연속 통합을 위한 독립적인 ONE 환경이 있습니다. 또한 ONE은 실제 디바이스와 상호 운용할 수 있으며 실제 하드웨어를 테스트하는 데 사용할 수 있습니다.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/daf3df45-6fdf-4dca-b741-d5a6c0f7779a.png\"><img alt=\"Azure Global Network emulator.\" border=\"0\" height=\"437\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/546a3434-ce05-4117-8a79-a21e144686c7.png\" style=\"border: 0px currentcolor; border-image: none; display: inline; background-image: none;\" title=\"Azure 글로벌 네트워크 에뮬레이터.\" width=\"1024\"></a></p>\n\n<p>&nbsp;</p>\n\n<p>팀이 네트워크 디바이스 소프트웨어를 업그레이드하거나, 패치를 배포하거나, 새 구성을 변경하거나, 새 컨트롤러 소프트웨어를 배포하려는 Imagine. 변경을 수행하고 변경 사항을 롤백하는 전체 프로시저 메서드는 ONE에서 테스트됩니다. ONE은 구성, 디바이스 소프트웨어, 디바이스 간 상호 운용성 및 크기 조정 문제에 대한 버그를 노출했습니다. ONE의 유효성 검사는 안전한 배포 프레임워크에 통합됩니다.</p>\n\n<p>소개에서 언급한 최근 서비스 인시던트(<a href=\"https://status.azure.com/en-us/status/history\" target=\"_blank\">10/7 Microsoft 및 Azure 서비스에 액세스하는 문제</a>)와 관련하여 이 인시던트는 Azure 지역 간의 네트워크 트래픽 라우팅을 제어하는 구성 요소의 버전 업데이트에서 코드 결함으로 인해 발생했지만 프로덕션 규모와 범위에서만 발생했습니다. 이와 같은 문제가 거의 발생하지 않는 문제를 catch하기 위해 사전 프로덕션 유효성 검사 프로세스를 사용하여 비정상 상황 테스트를 수행하여 가상화된 환경에서 비슷한 문제가 자주 발생하도록 합니다. 비정상 상황 테스트에서는 네트워크가 정상 상태로 다시 복구되는지 확인하기 위해 임의 오류의 버스트가 도입됩니다. 이 인시던트 이후 트래픽 엔지니어링 컨트롤러의 복원력을 개선하기 위해 테스트 검사 및 베이킹 시간을 ONE으로 늘렸습니다.</p>\n\n<h2>ROC(실시간 작업 검사기)&mdash; 네트워크 시뮬레이터</h2>\n\n<p>ROC(실시간 작업 검사기)는 계획된 변경 또는 계획되지 않은 가동 중지 시간이 실시간 네트워크에 미치는 영향을 확인합니다. 예를 들어 ROC &ldquo;는 다음 2시간 동안 노드 또는 링크를 오프라인으로 전환해도 안전한가요?&rdquo; 답변은 네트워크의 현재 상태, 진행이 허용된 기타 변경 사항, 다음 2시간 동안의 네트워크 요구, 격리 또는 혼잡을 유발하는 새로운 오류의 위험에 따라 달라집니다. ONE이 에뮬레이트하는 동안 ROC는 시뮬레이션합니다.</p>\n\n<p>ROC는 라이브 토폴로지 및 수요 피드를 사용하고 디바이스 전달 및 큐, 오류 및 로드 시나리오에서 소프트웨어 컨트롤러 동작을 시뮬레이트합니다. 이러한 시뮬레이션은 Azure Batch 사용하여 병렬 처리되며 몇 분 안에 결과를 사용할 수 있습니다. ROC 토큰은 사람이 시작한 변경 및 서비스 시작 변경에 대해 부여되며, ROC 토큰 없이는 네트워크 변경을 진행할 수 없습니다. 또한 파이버 공급자 파트너의 유지 관리는 ROC에서 시뮬레이션되어 위험을 측정하고 일상적인 작업에서 시정 작업을 수행합니다.</p>\n\n<h2>제로 터치 작업</h2>\n\n<p>크기의 네트워크를 운영할 때 수동 구성 변경은 피해야 합니다. 네트워크가 너무 커서 사람이 모든 상태 신호를 보고 반응하고 구성 변경에 의도된 결과가 있는지 확인할 수 없습니다. 자동화된 변경 내용은 소프트웨어 시스템에 의해 네트워크에 전달되며, 변경 전후의 안전 및 상태를 분석하기 위해 사전 및 사후 검사에 래핑됩니다. 상태 신호가 실패하면 변경 내용이 즉시 롤백되거나 차단됩니다.</p>\n\n<p>자동화된 변경 내용은 Fuse, Clockwerk 및 WARP라는 세 가지 서비스를&mdash; 사용하여 적용됩니다. Fuse&#39;강점은 네트워크 디바이스 소프트웨어 업그레이드와 같은 반복 가능한 작업을 수행하는 것입니다. Fuse는 더 안전할 뿐만 아니라 더 빠르고 엔지니어를 확보합니다. Clockwerk 및 WARP는 사람 중심 또는 임시 변경을 전문으로 합니다. 엔지니어는 상태 저장 워크플로를 작성하여 자동 검사 및 롤백으로 래핑된 변경 시퀀스를 실행합니다. 사용자는 최신 웹 인터페이스를 통해 워크플로와 상호 작용하여 워크플로 내에서 사용자 입력을 제공합니다. 이러한 워크플로의 예로는 기술자가 하드웨어를 교체하기 전에 디바이스에서 트래픽을 드레이닝해야 하는 네트워크 디바이스의 하드웨어를 교체한 다음 안전한 방식으로 디바이스에 다시 복원된 트래픽이 있습니다. 대화형 복구 작업을 위해 변경이 필요한 경우 엔지니어는 디바이스로 보내기 전에 다시 피어 검토되고 안전 검사 내부에 래핑되는 가상 콘솔에 명령을 입력합니다. 이러한 시스템은 모두 함께 작동하여 수동으로 변경할 필요가 없습니다.</p>\n\n<p>모든 자동화된 변경 내용은 ROC 프레임워크뿐만 아니라 수많은 카나리아, 모니터 및 기타 상태 신호를 활용하여 변경 내용을 지속적으로 분석하여 고객에게 부정적인 영향을 주지&mdash; 않고 의도를 전달하도록 합니다.</p>\n\n<h2>용량 계획</h2>\n\n<p>용량 예측 및 배포 속도는 최대 안정성 및 성능을 제공하는 데 매우 중요합니다. 우리의 고속도로 시스템 비유에서 용량 계획은 차선이나 새로운 고속도로를 추가할 위치, 추가할 수, 트래픽을 준비해야 하는 시기 및 닫을 고속도로를 결정하는 것입니다.</p>\n\n<p>용량 계획 프로세스는 네트워크의 토폴로지 설정에서 시작합니다. 토폴로지 분석 시스템은 네트워크 및 외부 원본의 가용성 메트릭, 새 Azure 지역 빌드 아웃 및 대기 시간 외 측정을 사용하여 향후 토폴로지 생성을 합니다. 수요 예측 플랫폼은 다양한 알고리즘을 사용하여 여러 달 동안 트래픽 행렬을 생성하고, 실제 알고리즘에 대해 점수를 매기고, 혼합된 예측을 만듭니다. ORCAS(확대 지원에 최적화된 반복 가능한 컴파일러)는 향후 요구 사항 및 토폴로지용 대규모 네트워크 시뮬레이션을 실행합니다. ORCAS는 프로그래밍 방식으로 안정성, 사용률 및 효율성을 평가하고 120,000개 이상의 백본 경로와 6,000개의 SRLG( <a href=\"https://en.wikipedia.org/wiki/Shared_Risk_Resource_Group\" target=\"_blank\">공유 위험 링크 그룹</a> )에서 네트워크를 발전하는 방법을 제안합니다.</p>\n\n<p>여러 실패 엔터티를 포함하는 수천 개의 오류 시나리오는 트래픽 관리 컨트롤러의 반응과 함께 시뮬레이션되어 최악의 오류에 필요한 용량을 결정합니다. MTBF(평균 시간 간 실패) 및 MTTR(평균 복구 시간)과 같은 기록 성능 데이터는 단기 및 장기 모두에서 용량 요구 사항을 최적화하는 데 사용됩니다. 이 신호는 용량 워크플로 자동화 엔진에 공급되어 적시에 용량 배달을 완료합니다. 이 엔드 투 엔드 시스템은 <a href=\"https://azure.microsoft.com/en-us/blog/azure-responds-to-covid19/\" target=\"_blank\">COVID-19의 수요 급증</a> 에 대응하기 위해 광범위하게 사용되었으며 2개월 이내에 110Tbps의 추가 백본 용량을 제공했습니다.</p>\n\n<p>광섬유 경로 다양성은 안정적인 용량을 보장하기 위해 매우 중요합니다. 파이버 경로는 도로를 지원하는 포장도로와 같습니다. 홍수 포장은 그것을 사용하는 모든 도로에 영향을 미칩니다. 파이버 교차점, 전원 및 도관의 파이버 경로 및 기타 메타데이터에 대한 지리적 공간 정보는 공유 위험을 계산하는 데 사용됩니다. 이 데이터의 적용 범위를 적극적으로 추적하고 파이버 파트너와 협력하여 신선도를 유지합니다.</p>\n\n<h2>결론</h2>\n\n<p>신뢰할 수 있는 네트워크 연결은 원활한 상시 클라우드 서비스 환경에 필수적입니다. Microsoft는 클라우드 수요의 급속한 성장과 지속적으로 진화하는 특성을 지원하기 위해 더 많은 유연성과 제어를 제공하는 소프트웨어 기반 클라우드 규모 네트워크를 구축했습니다.</p>\n\n<p>2&rsquo;부에서는 소프트웨어 관리 트래픽 관리에 대해 자세히 알아보고, 마지막 마일 복원력을 최적화하고, 경로 변칙 검색, 대역폭 브로커 QoS(서비스 품질) 및 지속적인 모니터링을 검색 및 수정합니다.</p>\n\n<p><em><a href=\"https://azure.microsoft.com/en-us/blog/advancing-global-network-reliability-through-intelligent-software-part-2-of-2/\">인텔리전트 소프트웨어 2부를 통해 글로벌 네트워크 안정성 향상을</a> 읽습니다.</em></p>\n"
}
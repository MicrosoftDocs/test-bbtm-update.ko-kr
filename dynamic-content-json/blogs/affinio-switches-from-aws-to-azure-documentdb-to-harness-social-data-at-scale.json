{
    "Slug": "affinio-switches-from-aws-to-azure-documentdb-to-harness-social-data-at-scale",
    "Title": "Azure DocumentDB는 최신 마케팅 인텔리전스 플랫폼을 지원합니다.",
    "Summary": "Affinio is an advanced marketing intelligence platform that enables brands to deeply understand their users in a deeper level. Affinio’s business model centers on extracting marketing insights for its clients—from billions of points of social media data to more narrowly focused marketing efforts. In order to store and process billions of social network connections without the overhead of database management, data partitioning, and data indexing, they chose Azure DocumentDB. You can read more about Affinio’s usage of DocumentDB in this new case study.",
    "Content": "<p><a href=\"https://affinio.com/\">Affinio</a> 는 브랜드가 사용자를 더 깊고 풍부한 수준에서 이해할 수 있게 해주는 고급 마케팅 인텔리전스 플랫폼입니다. Affinios&rsquo; 학습 엔진은 수십억 개의 소셜 미디어 데이터를 마이닝하여 고객을 위한 마케팅 인사이트를 추출합니다. 데이터베이스 관리, 분할 및 인덱싱의 오버헤드 없이 수십억 개의 소셜 네트워크 연결을 저장하고 처리하기 위해 Affinio 엔지니어링 팀은 Azure DocumentDB를 선택했습니다.</p>\n\n<p><a href=\"https://customers.microsoft.com/Pages/CustomerStory.aspx?recid=29764\">이 새로 발표된 사례 연구에서</a> Affinios&rsquo; 여정에 대해 자세히 알아볼 수 있습니다.&nbsp; 이 블로그 게시물에서는 사례 연구의 발췌를 제공하고 소셜 네트워크 데이터를 저장하고 처리하기 위한 몇 가지 효과적인 패턴에 대해 설명합니다.</p>\n\n<p>&nbsp;</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/42321ba4-42ef-4bc5-bf8d-224bce3af16a.png\"><img alt=\"image\" border=\"0\" height=\"311\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/a715a1af-51ae-48e8-8e56-c480dba7edaa.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px\" title=\"이미지\" width=\"793\"></a></p>\n\n<h2><strong>NoSQL 데이터베이스가 소셜 데이터에 적합한 이유는 무엇인가요?</strong></h2>\n\n<p>Affinios&rsquo; 마케팅 플랫폼은 Twitter 및 기타 대규모 소셜 네트워크&nbsp;와 같은 소셜 네트워크 플랫폼에서 데이터를 추출하여 학습 엔진에 공급하고 사용자 및 관심사에 대한 통찰력을 학습합니다.&nbsp; 가장 큰&nbsp;datasetconsistedofapproximatelyone&nbsp;&nbsp;&nbsp; 십&nbsp;억 소셜 미디어 프로필, 월별 1천만에서 성장.&nbsp; 또한 Affinio는 Twitter 트윗(상태 메시지), <a href=\"https://azure.microsoft.com/documentation/articles/documentdb-geospatial/\">지리적 위치 데이터</a> 및 어떤 항목이 어떤 사용자에게 관심을 가질 만한 기계 학습 결과를 포함하는 다른 여러 피드&nbsp;를 저장하고 처리해야 합니다.</p>\n\n<p>NoSQL 데이터베이스&nbsp;는 다음과 같은 여러 가지 이유로 <a href=\"https://azure.microsoft.com/documentation/articles/documentdb-nosql-vs-sql/\">이러한 데이터 피드</a>&nbsp;에 대한 자연스러운 선택입니다.</p>\n\n<ul>\n <li>널리 사용되는 소셜 네트워크의&nbsp; API는 데이터&nbsp; 인 JSON 형식을 만듭니다.</li>\n <li>TB&nbsp;의 datavolumeis&nbsp;&nbsp;이며 자주 새로 고쳐야 합니다(시간이 지남에 따라 볼륨과 빈도가&nbsp;&nbsp; 모두 빠르게 생성됨).</li>\n <li>여러 소셜 미디어 생산자의 데이터는 다운스트림으로 처리되며 각 소셜 미디어 채널에는 독립적으로 진화하는 자체 스키마가 있습니다.</li>\n <li>그리고 결정적으로 소규모 개발 팀은 새 기능을 빠르게 반복할 수 있어야 합니다. 즉, 데이터베이스를 쉽게 설정, 관리 및 확장할 수 있어야 합니다.</li>\n</ul>\n\n<h2><strong>AWS&nbsp; DynamoDB 및 Elasticsearch를 통해 DocumentDB를 사용하는 이유</strong></h2>\n\n<p style=\"text-align:justify\">Affinio 엔지니어링 팀은 처음에 AWS EC2 가상 머신의 Elasticsearch 위에 스토리지 솔루션을 구축했습니다. Elasticsearch는 확장 가능한 JSON 스토리지에 대한 필요성을 해결하면서 자체 Elasticsearch 서버를 설정하고 관리하는 데 개발 팀에서 귀중한 시간을 빼앗았다는 것을 깨달았습니다. 그런 다음 완전히 관리된 Amazons&rsquo; DynamoDB 서비스를 평가했지만 Affinio에 필요한 쿼리 기능이 없었습니다.</p>\n\n<p style=\"text-align:justify\">그런 다음 Affinio는 Microsofts&rsquo;의 행성 규모 NoSQL 데이터베이스 서비스인 DocumentDB를 Microsoft Azure 시도했습니다. DocumentDBis&nbsp;는 <a href=\"https://azure.microsoft.com/documentation/articles/documentdb-indexing\">JSON 문서의 자동 인덱싱</a>, 처리량 및 스토리지의 탄력적 크기 조정 및 기능 및 성능에 대한 모든 요구 사항을 충족하는 <a href=\"https://azure.microsoft.com/documentation/articles/documentdb-sql-query/\">풍부한 쿼리 기능을</a> 갖춘 완전히 관리되는 NoSQL 데이터베이스입니다. 그 결과, Affinio는 AWS에서 Microsoft Azure 전체 스택을 마이그레이션하기로 결정했습니다.</p>\n\n<p><em>&ldquo;DocumentDB로 이동하기 전에 개발자가 내게 와서 Elasticsearch 배포에서 데이터를 지원하거나 이를 처리하기 위해 크기를 조정해야 하는지 확인해야 합니다. DocumentDB는 저를 병목 현상으로 제거했는데, 이는 저와 그들에게 큰 역할을 했습니다.&rdquo; </em></p>\n\n<p><em>-스티븐 핸킨슨, CTO, 아피니오</em></p>\n\n<h2><strong>DocumentDB &ndash; 에서 Twitter 데이터 모델링 예제</strong></h2>\n\n<p>예를 들어 Affinio가 DocumentDB의 Twitter 상태 메시지에서 데이터를 저장한 방법을 살펴보겠습니다. 예를 들어 샘플 JSON 상태 메시지(표시 유형을 위해 잘림)를 여기에&rsquo; 추가합니다.&nbsp;</p>\n\n<pre class=\"prettyprint\">\n{  \n   &quot;created_at&quot;:&quot;Fri Sep 02 06:43:15 +0000 2016&quot;,\n   &quot;id&quot;:771599352141721600,\n   &quot;id_str&quot;:&quot;771599352141721600&quot;,\n   &quot;text&quot;:&quot;RT @DocumentDB: Fresh SDK! #DocumentDB #dotnet SDK v1.9.4 just released!&quot;,\n   &quot;user&quot;:{  \n      &quot;id&quot;:2557284469,\n      &quot;id_str&quot;:&quot;2557284469&quot;,\n      &quot;name&quot;:&quot;Azure DocumentDB&quot;,\n      &quot;screen_name&quot;:&quot;DocumentDB&quot;,\n      &quot;location&quot;:&quot;&quot;,\n      &quot;description&quot;:&quot;A blazing fast, planet scale NoSQL service delivered by Microsoft.&quot;,\n      &quot;url&quot;:&quot;https://t.co/30Tvk3gdN0&quot;\n   }\n}</pre>\n\n<p>이 데이터를 DocumentDB에 저장하는 것은 간단합니다. 스키마가 없는 NoSQL 데이터베이스인 DocumentDB는 스키마 또는 인덱스 정의 없이 <a href=\"https://dev.twitter.com/rest/public\">Twitter API</a> 에서 직접 JSON 데이터를 사용합니다. 개발자로서 이 데이터를 DocumentDB에 저장하기 위한 주요 고려 사항은 파티션 키를 선택하고 고유한 쿼리 패턴(이 경우 문자 메시지로 검색)을 해결하는 것입니다. 우리는 아피니오가이 두 가지를 해결하는 방법을 살펴 볼&#39;있습니다.</p>\n\n<p><strong>적절한 파티션 키 선택:</strong>&nbsp; DocumentDB 분할된 컬렉션을 사용하려면 JSON 문서 내의 속성을 파티션 키로 지정해야 합니다. DocumentDB는 이 파티션 키 값을 사용하여 여러 물리적 서버에 데이터와 요청을 자동으로 분산합니다. 적절한 파티션 키에는 다양한 고유 값이 있으며 DocumentDB가 여러 파티션에 데이터 및 요청을 배포할 수 있습니다. &rsquo;Twitter 상태 메시지와 같은 소셜 데이터에 적합한 파티션 키에 대한 몇 가지 후보를 살펴보겠습니다.</p>\n\n<ul>\n <li>&quot;&quot; &ndash; created_at 다양한 고유 값을 가지며 특정 시간 범위의 데이터에 액세스하는 데 유용합니다. 그러나 생성된 시간에 따라 새 상태 메시지가 삽입되므로 현재 시간과 같은 특정 시간 값에 대한 핫스폿이 발생할 수 있습니다.</li>\n <li>&quot;id&quot; &ndash; 이 속성은 Twitter 상태 메시지의 ID에 해당합니다. 고유한 사용자가 많고 파티션/서버의 수에 따라 다소 균등하게 분산될 수 있으므로 파티션 키에 적합한 후보입니다.</li>\n <li>&quot;&quot; &ndash; user.id 이 속성은 Twitter 사용자의 ID에 해당합니다. 이는 궁극적으로 파티션 키에 가장 적합한 선택입니다. 쓰기를 배포할 수 있을 뿐만 아니라 단일 파티션의 쿼리를 통해 특정 사용자&rsquo; 상태 메시지의 읽기를 효율적으로 처리할 수 있기 때문입니다.</li>\n</ul>\n\n<p>&quot;파티션 키로 user.id&quot; 사용하여 Affinio는 초당 200,000개의 <a href=\"https://azure.microsoft.com/documentation/articles/documentdb-request-units/\">처리량 요청 단위</a>로 프로비전된 단일 <a href=\"https://azure.microsoft.com/documentation/articles/documentdb-partition-data\">DocumentDB 분할 컬렉션을</a> 만들었습니다(수집 및 학습 엔진을 통한 쿼리용).</p>\n\n<p><strong>문자 메시지 내에서 검색: </strong> Affinio는 상태 메시지 내에서 단어를 검색할 수 있어야 하며 순위와 같은 고급 텍스트 분석을 수행할 필요가 없습니다&rsquo;. Affinio는 용어를 검색해야 할 때 관련 필드에서 Lucene 토크나이저를 실행하며, 이 용어는 DocumentDB의 JSON 문서 내에 배열로 저장됩니다. 예를 들어 &quot;텍스트&quot; 는 상태 메시지의 &quot;토큰/단어를 포함하는 text_terms&quot; 배열로 토큰화할 수 있습니다. 다음은&rsquo; 다음과 같은 예입니다.</p>\n\n<pre class=\"prettyprint\">\n{  \n   &quot;text&quot;:&quot;RT @DocumentDB: Fresh SDK! #DocumentDB #dotnet SDK v1.9.4 just released!&quot;,\n   &quot;text_terms&quot;:[  \n      &quot;rt&quot;,\n      &quot;documentdb&quot;,\n      &quot;dotnet&quot;,\n      &quot;sdk&quot;,\n      &quot;v1.9.4&quot;,\n      &quot;just&quot;,\n      &quot;released&quot;\n   ]\n}</pre>\n\n<p>DocumentDB는 배열 및 중첩 속성을 포함하여 <a href=\"https://azure.microsoft.com/documentation/articles/documentdb-indexing/\">JSON 내의 모든 경로를 자동으로 인덱싱</a>하므로 이제 documentdb&rdquo; 또는 &ldquo;dotnet&rdquo;과 같은 &ldquo;특정 단어가 포함된 상태 메시지를 쿼리하고 인덱스에서 이러한 경로를 처리할 수 있습니다. 예를 들어 SQL 다음과 같이 <a href=\"https://azure.microsoft.com/documentation/articles/documentdb-sql-query/#built-in-functions\">표현됩니다.</a></p>\n\n<pre class=\"prettyprint\">\nSELECT * FROM status_messages s WHERE ARRAY_CONTAINS(s.text_terms, &quot;documentdb&quot;)\n</pre>\n\n<h2><strong>다음 단계 </strong></h2>\n\n<p>이 블로그 게시물에서는 Affinio가 시장 인텔리전스 플랫폼용 Azure DocumentDB를 선택한 이유와 DocumentDB에 대량의 소셜 데이터를 저장하기 위한 몇 가지 효과적인 패턴을 살펴보았습니다.</p>\n\n<ul>\n <li><a href=\"https://customers.microsoft.com/Pages/CustomerStory.aspx?recid=29764\">Affinio 사례 연구를 읽고</a> Affinio가 DocumentDB를 활용하여 테라바이트의 소셜 네트워크 데이터를 처리하는 방법과 Amazon DynamoDB 및 Elasticsearch를 통해 DocumentDB를 선택한 이유에 대해 자세히 알아보세요.</li>\n <li><a href=\"https://www.affinio.com/\">자신의 웹 사이트에서</a> Affinio에 대해 자세히 알아보세요.</li>\n <li>최신 마케팅, 광고 기술 및 실시간 분석 애플리케이션의 요구를 처리할 NoSQL 데이터베이스를 찾는 경우&rsquo; <a href=\"https://azure.microsoft.com/pricing/free-trial/\" ms.cmpgrp=\"body\" ms.cmpnm=\"DocumentDB using your free trial\" ms.cmptyp=\"link\" ms.interactiontype=\"1\" ms.pgarea=\"content\" ms.title=\"\" target=\"_blank\"><u>무료 평가판을 사용하여 DocumentDB를</u></a> 사용해 보거나 <a href=\"https://azure.microsoft.com/documentation/articles/documentdb-community/#contact-the-team\" ms.cmpgrp=\"body\" ms.cmpnm=\"1:1 chat with the DocumentDB engineering team\" ms.cmptyp=\"link\" ms.interactiontype=\"1\" ms.pgarea=\"content\" ms.title=\"\" target=\"_blank\"><u>DocumentDB 엔지니어링 팀과 1:1 채팅</u></a>을 예약합니다.&nbsp;&nbsp;</li>\n <li>Twitter <a href=\"https://twitter.com/DocumentDB\"><u>@DocumentDB</u></a>에서 팔로우하여 최신 DocumentDB 뉴스 및 기능을 최신 상태로 유지하세요.</li>\n</ul>\n"
}
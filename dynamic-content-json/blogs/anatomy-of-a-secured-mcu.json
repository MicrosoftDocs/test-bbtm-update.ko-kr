{
    "Slug": "anatomy-of-a-secured-mcu",
    "Title": "보안 MCU의 해부학",
    "Summary": "Azure Sphere is an end-to-end solution containing three complementary components that provide a secured IoT platform. They include an Azure Sphere microcontroller unit (MCU), an operating system optimized for IoT scenarios that is managed by Microsoft, and a suite of secured, scalable online services. ",
    "Content": "<h2>보안 실리콘</h2>\n\n<p>Azure Sphere는 보안 IoT 플랫폼을 제공하는 세 가지 보완 구성 요소를 포함하는 엔드투엔드 솔루션입니다. 여기에는 Azure Sphere MCU(마이크로 컨트롤러 장치), Microsoft에서 관리하는 IoT 시나리오에 최적화된 운영 체제 및 확장 가능한 보안 온라인 서비스 제품군이 포함됩니다. Microsoft는 운영 체제에 대한 10년 이상의 지원과 디바이스당 단일 요금에 대한 보안 서비스를 사용하여 비즈니스 계획을 간소화합니다.</p>\n\n<p>Microsoft는 소프트웨어에서 그 이름을 구축했지만 실리콘에 대한 전문 지식은 깊습니다. 지난 15년 동안 Microsoft는 다양한 Microsoft 제품을 위한 사용자 지정 실리콘을 설계하여 하드웨어 기반 보안에 깊이 투자해 왔습니다. Azure Spheres&rsquo; 실리콘 아키텍처는 수년간의 경험의 절정이며, Pluton 보안 하위 시스템은 보안 스토리의 핵심입니다. 이 블로그 게시물에서 Ill&rsquo;은 계층을 드릴다운하여 보안 Azure Sphere MCU에 보안을&rdquo; 적용&ldquo;하는 항목에 대해 설명합니다. 특히 Ill&rsquo;은 Plutons&rsquo; 디자인 세부 정보뿐만 아니라 다른 일반적인 실리콘 보안 개선 사항에 대해 자세히 설명합니다.</p>\n\n<p>대체로 MCU 기반 디바이스는 인터넷에 연결할 수 있는 두 가지 범주 &ndash; 디바이스와 인터넷에 연결되지 않도록 설계된 디바이스 중 하나에 속합니다. 최근까지 거의 모든 MCU 기반 디바이스의 연결이 끊어졌으며, 이로 인해 디바이스의 가치를 고려하는 보안 모델인 물리적 위협 모델(장치가 케이지에 잠겨 있습니까? 일반 대중은 그와 상호 작용합니까?), 그리고 장치가 공격당할 위험(예: 자동 종이 타월 디스펜서와 MRI 기계). 따라서 보안에는 더 많은 비용을 지불하고 더 많은 것을 얻는 간단한 모델이 &ndash; 있었습니다.</p>\n\n<p>MCU 기반 디바이스를 인터넷에 연결하는 것은 MCU가 공격자의 손에 잠재적인 범용 디지털 무기가 될 수 있기 때문에 분수령이 되는 순간입니다. Mirai 봇넷은 연결된 카메라 100,000대만 구성되었습니다. &rsquo;1억 개의 종이 타월 디스펜서가 시작한 DDOS(분산 서비스 거부) 공격에 대해 전혀 생각하지 않았다면 이 블로그 게시물을 통해 명확한 순간을 고려해 보세요.</p>\n\n<p>인터넷 연결은 보안에 대한 테이블 지분을 변경해야 임을 의미합니다. 보안과 관련된 대화를 다시 설정하기 위해 <a href=\"https://aka.ms/7properties\" target=\"_blank\">보안이 강화된 연결된 디바이스의 7가지 속성</a> 에 대한 백서를 작성했습니다. 그러나 Azure Sphere 인증 MCU는 MCU에 사용되는 일반적인 하드웨어 신뢰 루트를 넘어설 수 있습니다.</p>\n\n<h2>Pluton 키 관리</h2>\n\n<p>Pluton은 제조 공정 중에 실리콘에서 자체 키 쌍을 생성합니다. 다른 보안 칩은 종종 키를 생성하기 위해 공장 현장의 HSM(하드웨어 보안 모듈)에 의존합니다. Pluton은 실리콘에서 개인적으로 키를 생성한 다음 지속적으로 해당 키를 e-fuses에 저장하여 더 나아가게 됩니다. 프라이빗 키는 소프트웨어에 표시되지 않습니다. 디바이스에서 가장 신뢰할 수 있는 펌웨어조차도 프라이빗 키에 액세스할 수 없습니다. Pluton은 서로 다른 두 개의 공용/개인 ECC(타원 곡선 암호화) 키 쌍을 생성합니다. 하나는 원격 증명에만 사용되며(나중에 자세히 설명) 다른 하나는 범용 암호화에 사용할 수 있습니다. 개인 키가 아닌 칩&rsquo; 공개 키는 실리콘 제조업체에서 Microsoft로 전송됩니다. 즉, Microsoft는 칩이 제조되는 시점부터 모든 Azure Sphere 칩에 대해 알고 신뢰 관계를 설정합니다.</p>\n\n<h2>Plutons&rsquo; 난수 생성기</h2>\n\n<p>Pluton은 진정한 난수 생성기를 구현합니다. Plutons&rsquo; 난수 생성기는 환경에서 엔트로피(즉, 임의성)를 수집하여 난수를 생성합니다. 이 난수 생성기는 제조 프로세스 중에 자체 키를 생성하는 각 MCU에 중요하므로 방어해야 하는 중요한 공격 표면입니다. Plutons&rsquo; true 난수 생성기는 수집하는 엔트로피를 측정하며 엔트로피가 디자인의 일부로 정의된 특정 표준을 충족하지 않는 경우 난수 생성기는 난수 전달을 거부합니다.</p>\n\n<h2>Plutons&rsquo; 암호화 도우미</h2>\n\n<p>Pluton은 일반적인 암호화 작업을 가속화합니다. Pluton은 해시(SHA2를 통해), ECC 및 AES(고급 암호화 표준) 암호화 작업과 같은 암호화 작업을 가속화합니다.</p>\n\n<h2>보안 부팅의 이점</h2>\n\n<p>명왕성은 공급망 위험을 최소화합니다. ECDSA는 ECC 키 쌍을 사용하여 디지털 서명을 확인하는 알고리즘입니다. Azure Sphere 디바이스의 모든 소프트웨어는 Microsoft에서 서명해야 합니다. Microsoft는 Microsoft에서 가장 중요한 일부 제품의 프라이빗 키를&rsquo; 보호하는 동일한 인프라인 자체 검증된 서명 인프라를 사용하므로 프라이빗 키가 보안 HSM에 유지되고 이 키를 사용할 때마다 엄격하고 문서화된 프로세스를 따르도록 합니다.</p>\n\n<h2>원격 증명 활용</h2>\n\n<p>Pluton은 실리콘에서 측정된 부팅 및 원격 증명에 대한 지원을 구현합니다. Azure Sphere 디바이스가 AS3(Azure Sphere Security Service)에 연결되면 로컬로 저장된 인증서를 사용하여 서버 인증을 완료합니다. 그러나 AS3도 디바이스 자체를 인증해야 합니다. 원격 증명이라는 프로토콜을 통해 이 작업을 수행합니다.</p>\n\n<p>1. AS3은 부팅된 소프트웨어 구성 요소의 암호화 해시로 구성된 측정된 부팅 값과 결합된 nonce를 디바이스에 보냅니다.</p>\n\n<p>2. 디바이스는 Plutons&rsquo; 프라이빗 ECC 증명 키로 이러한 값에 서명하고 AS3로 다시 보냅니다.</p>\n\n<p>3. AS3에는 이미 디바이스&rsquo; 공용 ECC 증명 키가 있으므로 디바이스가 인증되었는지, 정품 소프트웨어로 부팅되었는지, 정품 소프트웨어가 신뢰할 수 있는지 여부를 확인할 수 있습니다.</p>\n\n<p>이 측정 부팅 값을 위조하거나 변경할 수 없는 것이 중요합니다. 따라서 전체 칩이 다시 설정되는 경우에만 재설정할 수 있는 누적 레지스터에 보관됩니다. 서명은 실리콘에서 발생하므로 완전히 손상된 소프트웨어가 있는 디바이스조차도 증명 값을 위조할 수 없습니다.</p>\n\n<p>4. 디바이스가 최신 상태이면 모든 온라인 서비스에 표시할 수 있는 클라이언트 인증서와 AS3 서비스에만 사용되는 AS3 인증서가 제공됩니다. 인증서 체인이 유효한 경우 칩의 상태에 대한 AS3 보증을 나타냅니다. 인증서는 약 하루 동안 유효합니다. 즉, 인터넷에 대한 연결을 유지하려는 경우 디바이스가 정기적으로 상태를 증명해야 합니다.</p>\n\n<p>디바이스가 정상이 아닌 경우 클라이언트 인증서가 발급되지 않으므로 디바이스가 AS3에만 연결하고 소프트웨어 업데이트를 수행할 수 있습니다.</p>\n\n<p>지속적인 갱신을 사용하는 실리콘 기반 증명은 디바이스 가장 및 위조를 방지합니다. 미래의 블로그 게시물은이 주제에 대한 보다 철저한 심층 분석을 제공 할 것입니다, 하지만 모든 명왕성으로 시작합니다.</p>\n\n<h2>플루토른을 넘어서는 실리콘 보안</h2>\n\n<p>보안은 명왕성을 구성하는 실리콘 패브릭에서 멈추지 않습니다&rsquo;. 실제로 Azure Sphere MCU는 플랫폼&rsquo; 심층 방어 전략을 개선하는 추가 보안 기능을 구현하여 Pluton을 능가합니다. &rsquo;예를 들어 5개의 코어로 구성된 칩인 MT3620을 사용합니다. 한 코어는 Pluton 내에서 작업을 호출하는 런타임 전용입니다. 다음은 칩의 Wi-Fi RF 구성 요소와 상호 작용하는 Wi-Fi 전용 코어입니다. A7 코어는 Azure Sphere 운영 체제를 실행하는 데만 사용되며, 두 개의 M4 코어를 실시간 처리에 사용할 수 있습니다. A7 코어는 Arms&rsquo; Trust Zone 기술을 활용하고, Azure Sphere 보안 모니터는 Secure World에서 실행되며, Linux 커널 및 기타 OS 구성 요소는 Normal World에서 실행됩니다.&nbsp;</p>\n\n<p>모든 코어와 주변 장치 사이에는 방화벽이라고 하는 &ldquo;것이 있습니다.&rdquo; 네트워크 측면에서 방화벽이 아니라 리소스를 코어에 매핑하는 집합입니다. 실제로 내부적으로 이를 핵심 매핑 기능이라고 합니다. 디바이스의 모든 리소스는 이러한 방식으로 매핑되며 기본적으로 모든 리소스(A7 SRAM, 주변 장치 및 플래시)는 Secure World에만 매핑되어 Normal World에서 실행되는 소프트웨어에 대한 액세스를 거부합니다. Secure World는 주변 기기에 대한 액세스 권한을 선택적으로 부여할 수 있으며 이러한 선택은 고정되어 있습니다 &ldquo;.&rdquo; 스티커는 실리콘에 대해 논의할 때 자주 볼 수 있는 용어가 아닙니다. 이 경우 코어 매핑이 &ldquo;설정되면 잠깁니다&rdquo; . 즉, 공격자가 방화벽을 프로그래밍하는 코드를 손상하더라도 공격자가 실행 중인 코어에 원래 할당되지 않은 리소스에&rsquo; 액세스할 수 없습니다.</p>\n\n<p>제한된 주변 장치 액세스는 잠재적으로 공격의 대상이 될 수 있는 노출 영역을 줄입니다. 끈적끈적한 선택은 표면적을 더욱 줄입니다. 디바이스가 배포된 후 공격자는 코드를 악용하여 불량 웹 서비스와 통신하거나 디바이스의 다른 부분을 제어할 수 없습니다. 결과적으로 전체 공급망뿐만 아니라 개별 디바이스에 대한 보안이 강화됩니다.</p>\n\n<p>이는 Azure Sphere MCU를 고유하게 만들고 공격자가 Azure Sphere 디바이스를 제어하기 어렵게 만드는 몇 가지 실리콘 기능입니다. 각 추가 기능은 공격자가 디바이스&rsquo; 기능을 손상하기 위해 극복해야 하는 하나 이상의 복잡성을 제공하며, Pluton은 신뢰의 하드웨어 루트에 자주 존재하지 않는 풍부한 실리콘 보안 기능 집합을 제공합니다. Microsoft는 Pluton의 이점을 매우 강력하게 믿고 있어 Azure Sphere 칩을 만들고자 하는 모든 실리콘 제조업체에 로열티가 없는 Pluton을 라이선스합니다. 더 나은 보안은 완벽하지는 않지만 IoT에서 막대를 높이면 디바이스를 손상시키기가 훨씬 어려워집니다.</p>\n"
}
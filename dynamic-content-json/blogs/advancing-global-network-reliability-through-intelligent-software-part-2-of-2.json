{
    "Slug": "advancing-global-network-reliability-through-intelligent-software-part-2-of-2",
    "Title": "지능형 소프트웨어를 통해 글로벌 네트워크 안정성 향상 - 2부 중 2부",
    "Summary": "In our two-part series on advancing global network reliability through intelligent software, we explain how we’ve approached our network design, and how we’re constantly working to improve both reliability and performance.",
    "Content": "<p><i>&ldquo;Microsofts&rsquo; 글로벌 네트워크는 60개 이상의 Azure 지역, 220개 이상의 Azure 데이터 센터, 170개 이상의 에지 사이트를 연결하며 165,000마일 이상의 지상파 및 해저 파이버를 사용하여 전 세계에 걸쳐 있습니다. 글로벌 네트워크는 전 세계에 전략적으로 배치된 POP(에지 포인트)에서 피어링을 통해 인터넷의 나머지 부분에 연결합니다. 전 세계 수백만 명의 사람들이 매일 Microsoft Azure, Office 365, Dynamics 365, Xbox, Bing 및 기타 많은 Microsoft 클라우드 서비스에 액세스합니다. 이는 하루에 수조 개의 요청과 테라바이트 단위의 데이터가 글로벌 네트워크에서 초당 전송되는 것으로 변환됩니다. 이 글로벌 네트워크의 안정성이 중요하다는 것은 말할 필요가 없기 때문에 Ive&rsquo;는 수석 프로그램 관리자 <b>인 Mahesh Nayak</b>과 수석 소프트웨어 엔지니어 <b>인 Umesh</b> <b>Krishnaswamy</b>에게 이 두 부분으로 구성된 게시물을 <a href=\"https://www.aka.ms/AdvancingReliability\" target=\"_blank\">고급 안정성 시리즈에</a> 작성해 달라고 요청했습니다. 웹이 네트워크 디자인에 어떻게&rsquo; 접근했는지, 그리고 안정성과 성능을 모두 개선하기 위해 지속적으로 작업하는 방법을&rsquo; 설명합니다.&rdquo;&mdash;</i> Mark Russinovich, CTO, Azure</p>\n\n<hr>\n<p><i><a href=\"https://azure.microsoft.com/en-us/blog/advancing-global-network-reliability-through-intelligent-software-part-1-of-2/\" target=\"_blank\">인텔리전트 소프트웨어 1부를 통해 글로벌 네트워크 안정성 향상을</a> 읽습니다.</i></p>\n\n<p>이 네트워킹 게시물의 1부에서는 글로벌 네트워크의 주요 디자인 원칙을 제시하고, 변화를 에뮬레이트하는 방법, 제로 터치 작업 및 변경 자동화 및 용량 계획을 살펴보했습니다. 2부에서는 트래픽 관리부터 시작합니다. Microsoft와 같은 대규모 네트워크의 경우 기존 하드웨어 관리 트래픽 라우팅을 사용하는 것이 효율적이지 않습니다. 대신, 글로벌 네트워크에서 트래픽 엔지니어링을 지능적으로 관리하는 여러 소프트웨어 기반 솔루션을 개발했습니다.</p>\n\n<h4>&nbsp;</h4>\n\n<h2>SDN 기반 ITE(인터넷 트래픽 엔지니어링)</h2>\n\n<p>에지는 글로벌 networkbecause&mdash;의 가장 역동적인 부분으로 사용자가 Microsofts&rsquo; 서비스에 연결하는 방법입니다. 고객/네트워크 대기 시간을 개선하고 Microsoft 클라우드 서비스의 범위를 확장하기 위해 사용자와 가까운 에지 PO를 전략적으로 배포했습니다.</p>\n\n<p>예를 들어, 오스트레일리아 시드니에 있는 사용자가 시카고에서 호스팅되는 Azure 리소스에 액세스하는 경우, 미국의 트래픽은 시드니의 에지 PoP에 있는 Microsoft 네트워크에 진입한 다음, 네트워크를 통해 시카고에 호스트되는 서비스로 이동합니다. 시카고의 Azure에서 반환되는 트래픽은 Microsoft 네트워크에서 시드니로 다시 흐릅니다. 사용자에게 가장 가까운 지점으로 트래픽을 수락하고 전달하면 성능을 더 잘 제어할 수 있습니다.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0d0fe7d2-f92c-4707-b19b-36f9cc81236f.jpg\"><img alt=\"Azure Edge premium routing.\" border=\"0\" height=\"258\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f6a8b6c5-2f2b-4482-a686-128067a19cd5.jpg\" style=\"border: 0px currentcolor; border-image: none; display: inline; background-image: none;\" title=\"Azure Edge 프리미엄 라우팅.\" width=\"1248\"></a></p>\n\n<p>각 에지 PoP는 수십 또는 수백 개의 피어링 네트워크에 연결됩니다. 네트워크와 공급자&rsquo; 네트워크 간의 경로는 BGP(Border Gateway Protocol)를 사용하여 교환됩니다. BGP 최적 경로 선택에는 정체에 대한 내재된 개념이 없거나 BGP 용량을 인식하지 못하는 성능&mdash;이 없습니다. 따라서 에지에서 트래픽을 조종하는 SDN 기반 ITE(인터넷 트래픽 엔지니어링) 시스템을 개발했습니다. 진입 및 종료 지점은 에지의 트래픽 부하, 인터넷 파트너&rsquo; 용량 제약 조건, 용량 감소 또는 보강, 분산 서비스 거부 공격으로 인한 수요 급증 및 인터넷 파트너의 대기 시간 성능에 따라 동적으로 변경됩니다. ITE 컨트롤러는 이러한 신호를 지속적으로 모니터링하고 인터넷 파트너 및/또는 Microsoft 네트워크 내부에 보급된 경로에 보급하는 경로를 변경하여 최상의 피어 에지를 선택합니다.</p>\n\n<h2>Azure Peering Service를 사용하여 마지막 마일 복원력 최적화</h2>\n\n<p><a href=\"https://docs.microsoft.com/en-us/azure/peering-service/about\" target=\"_blank\">Azure Peering Service</a>는 글로벌 네트워크 내에서 경로를 최적화하는 것 외에도 ISP(인터넷 서비스 공급자) 네트워크의 마지막 마일까지 최적화된 연결을 확장합니다. Azure Peering Service는 공급자와의 공동 작업 플랫폼으로, 사용자로부터 Microsoft 네트워크로의 안정적인 고성능 연결을 가능하게 합니다. 파트너 관계를 통해 로컬 및 지역 중복성 및 최종 사용자와의 근접성을 보장합니다. 각 피어링 위치는 다양한 중복된 피어링 링크로 프로비전됩니다. 또한 공급자는 여러 Microsoft PoP 위치에서 상호 연결하여 에지 노드 중 하나가 성능이 저하된 경우 트래픽이 대체 사이트를 통해 Microsoft로 라우팅됩니다. MOI(맵 오브 인터넷)의 인터넷 성능 원격 분석은 최적화된 마지막 마일 성능을 위해 트래픽 조향을 구동합니다.</p>\n\n<h2>경로 변칙 검색 및 수정(RADAR)</h2>\n\n<p>인터넷은 BGP에서 실행됩니다. 네트워크 또는 자율 시스템은 출처에 의문을 제기하지 않고 동료가 보급한 경로를 신뢰, 수락 및 전파할 수밖에 없습니다. 이것이 BGP의 강점이며 인터넷이 신속하게 업데이트되고 오류를 치유할 수 있게 해줍니다. 그러나 네트워크가&mdash; 소유한 접두사에 대한 경로는 실수로 또는 악의적인 의도로 리디렉션, 가로채기 또는 블랙홀 트래픽을 변경할 수 있습니다. 모든 주요 공급자에게 발생하는 몇 가지 인시던트가 있으며 일부는 첫 페이지 뉴스를 만듭니다. 글로벌 네트워크를 보호하기 위해 RADAR(글로벌 경로 변칙 검색 및 수정) 시스템을 개발했습니다.</p>\n\n<p>RADAR는 인터넷에서 Microsoft 경로 하이재킹을 감지하고 완화합니다. BGP 경로 누수는 의도한 범위를 벗어나는 라우팅 공지의 전파입니다. RADAR는 Azure 및 인터넷에서 경로 누출을 감지합니다. 안정적이고 불안정한 버전의 경로를 식별하고 새 공지 사항의 유효성을 검사할 수 있습니다. RADAR 및 ITE 컨트롤러를 사용하여 Microsoft 접두사에 대한 실시간 보호를 구축했습니다. 피어링 서비스 플랫폼은 고객 위치까지 마지막 마일의 하이재킹, 누출 및 기타 BGP 잘못된 구성(의도 여부)에 대한 경로 모니터링 및 보호를 확장합니다.</p>\n\n<h2>소프트웨어 기반 WIDE Area Network(SWAN)</h2>\n\n<p>글로벌 네트워크의 중추는 주요 도시를 연결하는 고속도로 시스템과 유사합니다. SWAN 컨트롤러는 모든 차량이 가능한 한 빨리 목적지에 도달하고 고속도로에서 혼잡을 일으키지 않도록 각 차량에 대한 경로를 할당하는 탐색 시스템입니다. 시스템은 토폴로지 검색, 수요 예측, 경로 계산, 최적화 및 경로 프로그래밍으로 구성됩니다.</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b8a68c48-2ec6-4645-97ca-c867e6812731.png\"><img alt=\"Optimized risk diverse path computation.\" border=\"0\" height=\"312\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5ed23a83-6aa9-4f9b-8af7-1fc0743f8b7b.png\" style=\"border: 0px currentcolor; border-image: none; display: inline; background-image: none;\" title=\"최적화된 위험 다양한 경로 계산.\" width=\"624\"></a></p>\n\n<p>지난 12개월 동안 네트워크를 프로그래밍하는 컨트롤러의 속도가 크기 순으로 향상되었으며 경로 찾기 기능이 두 배 향상되었습니다. 연결 오류는 차선 폐쇄와 같으므로 컨트롤러는 혼잡을 줄이기 위해 경로를 다시 계산해야 합니다. 컨트롤러는 동일한 SRLG(공유 위험 링크 그룹)를 사용하여 기본 경로가 실패할 경우 백업 경로를 계산합니다. 백업 경로는 실패 시 즉시 활성화되고 컨트롤러는 트래픽 배치를 다시 최적화할 때 작동합니다. 연속해서 위아래로 이동하는 링크는 안정화될 때까지 서비스에서 다시 유지됩니다.</p>\n\n<p>안정성의 한 가지 측정값은 요청된 바이트로 성공적으로 전송된 바이트의 백분율로, 1시간 이상 측정되고 하루 동안 평균으로 측정됩니다. 고객 워크로드의 경우 99.999% 이상입니다. Microsoft 서비스 간의 모든 통신은 전용 글로벌 네트워크를 통해 진행됩니다. <a href=\"https://marketo-web.thousandeyes.com/rs/thousandeyes/images/ThousandEyes-Cloud-Performance-Benchmark-2019-2020-Edition.pdf\" target=\"_blank\">Thousand Eyes Cloud Performance Benchmark</a> 는 Azure 지역 간 대기 시간의 99% 이상이 성능 기준보다 빠르며 지역 쌍의 60% 이상이 10% 이상 더 빠르다는 것을 보고합니다. 이는 이 게시물에 설명된 용량 보강 및 소프트웨어 시스템의 결과입니다.</p>\n\n<h2>대역폭 Brokersoftware&mdash; 기반 서비스 품질(QoS)</h2>\n\n<p>글로벌 네트워크가 고속도로 시스템인 경우 대역폭 브로커는 고속도로의 온램프에서 계량 조명을 제어하는 시스템입니다. 모든 고객 차량에 대해 고속도로를 통과하는 Microsoft 차량이 두 대 이상 있습니다. 일부 Microsoft 차량은 임의이며 고객 차량의 혼잡을 방지하기 위해 지연될 수 있습니다. 고객 차량에는 항상 고속도로에 입장할 수 있는 무료 패스가 있습니다. 계량 조명은 정상 작동 시 녹색이지만 오류 또는 수요 급증이 있는 경우 대역폭 브로커는 제어된 방식으로 계량 조명을 켭니다. Microsoft 내부 워크로드는 각각 다른 우선 순위를 가진 트래픽 계층으로 나뉩니다. 우선 순위가 높은 워크로드는 우선 순위가 낮은 워크로드를 선호하는 것으로 인정됩니다.</p>\n\n<p>조정은 보내는 호스트에서 발생합니다. 호스트는 실행되는 애플리케이션을 대신하여 주기적으로 대역폭을 요청합니다. 요청은 컨트롤러에 의해 집계되고, 대역폭은 예약되며, 권한 부여는 각 호스트에 배포됩니다. 대역폭 브로커와 SWAN은 트래픽 볼륨을 경로와 일치하도록 조정하고 트래픽 경로는 볼륨과 일치하도록 조정합니다.</p>\n\n<p>네트워크 용량을 갑자기 줄이는 여러 파이버 절단 또는 오류를 경험할 수 있습니다. 복원력을 높이기 위한 지역 복제 작업으로 인해 네트워크 트래픽이 크게 급증할 수 있습니다. 대역폭 브로커를 사용하면 일반적으로 혼잡이 임박했을 때 임의 내부 워크로드를 삭제하여 이러한 조건 동안 고객 환경을 유지할 수 있습니다.</p>\n\n<h2>연속 모니터링</h2>\n\n<p>강력한 모니터링 솔루션은 네트워크 안정성을 높이기 위한 기반입니다. 검색 시간과 복구 시간을 모두 낮춥니다. 모니터링 파이프라인은 트래픽 통계, 상태 신호, 로그 및 디바이스 구성을 포함하여 여러 원격 분석 스트림을 지속적으로 분석합니다. 파이프라인은 변칙이 감지되거나 진단되고 일반적인 오류를 수정할 때 자동으로 더 많은 데이터를 수집합니다. 이러한 자동화된 개입은 안전 검사 시스템에서도 보호됩니다.</p>\n\n<p>모니터링에 대한 주요 투자는 다음과 같습니다.</p>\n\n<ul>\n    <li>메트릭 데이터를 분 단위로 폴링하고 수집합니다. 임시를 필터링하는 데 몇 가지 샘플이 필요하고 강력한 신호를 생성하기 위해 몇 가지 샘플이 추가로 필요합니다. 이로 인해 검색 시간이 빨라집니다.</li>\n    <li>패킷 손실 또는 대기 시간 경고에 의해 트리거되는 향상된 진단 시스템은 다른 관점에서 에이전트에게 특정 링크 또는 디바이스에 문제를 삼각측량하고 정확하게 파악하는 데 도움이 되는 추가 정보를 수집하도록 지시합니다.</li>\n    <li>향상된 진단은 Clockwerk 및 ROC(실시간 작업 검사기)의 도움을 받아 가장 일반적인 인시던트에 대한 자동 완화 및 수정 작업을 트리거합니다. 이렇게 하면 복구 시간이 빨라지고 엔지니어가 더 복잡한 인시던트에 집중할 수 있는 파급 효과가 있습니다.</li>\n</ul>\n\n<p>다른 파이프라인은 노드 격리를 위해 네트워크 그래프를 지속적으로 모니터링하고 위에서 설명한 대로 ROC를 사용하여 가상&rdquo; 의도로 &ldquo;위험을 주기적으로 평가합니다. 네트워크 전체에 여러 카나리아 에이전트가 배포되어 지역 전체에서 도달 가능성, 대기 시간 및 패킷 손실을 확인합니다. 여기에는 외부 모니터링을 사용하도록 설정하기 위해 Azure 내 및 네트워크 외부의 에이전트가 포함됩니다. 또한 MOI(인터넷 맵) 원격 분석을 주기적으로 분석하여 고객에서 Azure로의 종단 간 성능을 측정합니다. 마지막으로, BGP 경로 하이재킹 및 DDoS(분산 서비스 거부)와 같은 보안 공격으로부터 네트워크를 보호하기 위한 강력한 모니터링이 마련되어 있습니다.</p>\n\n<h2>결론</h2>\n\n<p><u><a href=\"https://github.com/Azure/SONiC/wiki\" target=\"_blank\">SONIC</a></u>과 같은 이러한 SDN 기술 중 일부를 오픈 소스로 사용했습니다. SONIC 및 하드웨어 및 소프트웨어 파트너의 빠르게 성장하는 에코시스템을 통해 지능형 새 방식으로 네트워크를 운영하고 관리할 수 있으며 네트워크 자체의 발전 속도가 빨라집니다. 또한 Microsoft 글로벌 네트워크를 기반으로 사용자 고유의 오버레이를 빌드할 수 있는 <u><a href=\"https://docs.microsoft.com/en-us/azure/expressroute/expressroute-global-reach\" target=\"_blank\">ExpressRoute Global Reach</a>,</u> <u><a href=\"https://azure.microsoft.com/en-us/services/virtual-wan/\" target=\"_blank\">Azure Virtual WAN</a></u>, <u><a href=\"https://azure.microsoft.com/en-us/updates/global-vnet-peering-general-availability/\" target=\"_blank\">글로벌 VNET 피어링</a></u> 및 <u><a href=\"https://docs.microsoft.com/en-us/azure/peering-service/about\" target=\"_blank\">Azure Peering Service</a></u>와 같은 서비스를 빌드했습니다.</p>\n\n<p>우리는 소프트웨어 및 하드웨어 혁신을 통해 글로벌 네트워크 복원력에 지속적으로 투자하고 향상시키고 있습니다. 당사의 광섬유 투자는 대륙 안팎에서 복원력, 성능 및 안정성을 향상시켰습니다. <a href=\"https://news.microsoft.com/marea/\" target=\"_blank\">MAREA</a> 해저 케이블 시스템은 업계&rsquo; 최초의 해저 오픈 라인 시스템 (OLS)입니다. 그것은 지금 OLS 구조를 따르는 모든 후속 해저 케이블 빌드에 대한 청사진이되었다. 이러한 시스템을 보다 쉽게 업그레이드하고 네트워크의 모든 부분에서 동질적인 플랫폼을 유지 관리할 수 있는 기능을 통해 Microsoft는 증가하는 수요에 원활하게 대처할 수 있습니다.</p>\n\n<p><i><a href=\"https://azure.microsoft.com/en-us/blog/advancing-global-network-reliability-through-intelligent-software-part-1-of-2/\" target=\"_blank\">인텔리전트 소프트웨어 1부를 통해 글로벌 네트워크 안정성 향상을</a> 읽습니다.</i></p>\n"
}